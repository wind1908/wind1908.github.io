/*! Social Likes v3.1.1 by Artem Sapegin - http://sapegin.github.com/social-likes - Licensed MIT */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a,b){"use strict";function c(a,b){this.container=a,this.options=b,this.init()}function d(b,c){this.widget=b,this.options=a.extend({},c),this.detectService(),this.service&&this.init()}function e(a){function b(a,b){return b.toUpper()}var c={},d=a.data();for(var e in d){var f=d[e];"yes"===f?f=!0:"no"===f&&(f=!1),c[e.replace(/-(\w)/g,b)]=f}return c}function f(a,b){return g(a,b,encodeURIComponent)}function g(a,b,c){return a.replace(/\{([^\}]+)\}/g,function(a,d){return d in b?c?c(b[d]):b[d]:a})}function h(a,b){var c=l+a;return c+" "+c+"_"+b}function i(b,c){function d(g){"keydown"===g.type&&27!==g.which||a(g.target).closest(b).length||(b.removeClass(m),e.off(f,d),a.isFunction(c)&&c())}var e=a(document),f="click touchstart keydown";e.on(f,d)}function j(a){var b=10;if(document.documentElement.getBoundingClientRect){var c=parseInt(a.css("left"),10),d=parseInt(a.css("top"),10),e=a[0].getBoundingClientRect();e.left<b?a.css("left",b-e.left+c):e.right>window.innerWidth-b&&a.css("left",window.innerWidth-e.right-b+c),e.top<b?a.css("top",b-e.top+d):e.bottom>window.innerHeight-b&&a.css("top",window.innerHeight-e.bottom-b+d)}a.addClass(m)}var k="social-likes",l=k+"__",m=k+"_opened",n="https:"===location.protocol?"https:":"http:",o={facebook:{counterUrl:"https://graph.facebook.com/?id={url}",convertNumber:function(a){return a.share.share_count},popupUrl:"https://www.facebook.com/sharer/sharer.php?u={url}",popupWidth:600,popupHeight:359},twitter:{counters:!1,popupUrl:"https://twitter.com/intent/tweet?url={url}&text={title}",popupWidth:600,popupHeight:250,click:function(){return/[\.\?:\-–—]\s*$/.test(this.options.title)||(this.options.title+=":"),!0}},mailru:{counterUrl:n+"//connect.mail.ru/share_count?url_list={url}&callback=1&func=?",convertNumber:function(a){for(var b in a)if(a.hasOwnProperty(b))return a[b].shares},popupUrl:"https://connect.mail.ru/share?share_url={url}&title={title}",popupWidth:492,popupHeight:500},vkontakte:{counterUrl:"https://vk.com/share.php?act=count&url={url}&index={index}",counter:function(b,c){var d=o.vkontakte;d._||(d._=[],window.VK||(window.VK={}),window.VK.Share={count:function(a,b){d._[a].resolve(b)}});var e=d._.length;d._.push(c),a.getScript(f(b,{index:e})).fail(c.reject)},popupUrl:"https://vk.com/share.php?url={url}&title={title}",popupWidth:655,popupHeight:450},odnoklassniki:{counterUrl:n+"//connect.ok.ru/dk?st.cmd=extLike&ref={url}&uid={index}",counter:function(b,c){var d=o.odnoklassniki;d._||(d._=[],window.ODKL||(window.ODKL={}),window.ODKL.updateCount=function(a,b){d._[a].resolve(b)});var e=d._.length;d._.push(c),a.getScript(f(b,{index:e})).fail(c.reject)},popupUrl:"https://connect.ok.ru/dk?st.cmd=WidgetSharePreview&service=odnoklassniki&st.shareUrl={url}",popupWidth:580,popupHeight:336},plusone:{counterUrl:n+"//share.yandex.ru/gpp.xml?url={url}&callback=?",convertNumber:function(a){return parseInt(a.replace(/\D/g,""),10)},popupUrl:"https://plus.google.com/share?url={url}",popupWidth:500,popupHeight:550},pinterest:{counterUrl:n+"//api.pinterest.com/v1/urls/count.json?url={url}&callback=?",convertNumber:function(a){return a.count},popupUrl:"https://pinterest.com/pin/create/button/?url={url}&description={title}",popupWidth:740,popupHeight:550}},p={promises:{},fetch:function(b,c,d){p.promises[b]||(p.promises[b]={});var e=p.promises[b];if(!d.forceUpdate&&e[c])return e[c];var g=a.extend({},o[b],d),h=a.Deferred(),i=g.counterUrl&&f(g.counterUrl,{url:c});return i&&a.isFunction(g.counter)?g.counter(i,h):g.counterUrl?a.getJSON(i).done(function(b){try{var c=b;a.isFunction(g.convertNumber)&&(c=g.convertNumber(b)),h.resolve(c)}catch(a){h.reject()}}).fail(h.reject):h.reject(),e[c]=h.promise(),e[c]}};a.fn.socialLikes=function(b){return this.each(function(){var d=a(this),f=d.data(k);f?a.isPlainObject(b)&&f.update(b):(f=new c(d,a.extend({},a.fn.socialLikes.defaults,b,e(d))),d.data(k,f))})},a.fn.socialLikes.defaults={url:window.location.href.replace(window.location.hash,""),title:document.title,counters:!0,zeroes:!1,wait:500,timeout:1e4,popupCheckInterval:500,singleTitle:"Share"},c.prototype={init:function(){this.container.addClass(k),this.single=this.container.hasClass(k+"_single"),this.initUserButtons(),this.countersLeft=0,this.number=0,this.container.on("counter."+k,a.proxy(this.updateCounter,this));var b=this.container.children();this.makeSingleButton(),this.buttons=[],b.each(a.proxy(function(b,c){var e=new d(a(c),this.options);this.buttons.push(e),e.options.counterUrl&&this.countersLeft++},this)),this.options.counters?(this.timer=setTimeout(a.proxy(this.appear,this),this.options.wait),this.timeout=setTimeout(a.proxy(this.ready,this,!0),this.options.timeout)):this.appear()},initUserButtons:function(){!this.userButtonInited&&window.socialLikesButtons&&a.extend(!0,o,socialLikesButtons),this.userButtonInited=!0},makeSingleButton:function(){if(this.single){var b=this.container;b.addClass(k+"_vertical"),b.wrap(a("<div>",{class:k+"_single-w"})),b.wrapInner(a("<div>",{class:k+"__single-container"}));var c=b.parent(),d=a("<div>",{class:h("widget","single")}),e=a(g('<div class="{buttonCls}"><span class="{iconCls}"></span>{title}</div>',{buttonCls:h("button","single"),iconCls:h("icon","single"),title:this.options.singleTitle}));d.append(e),c.append(d),d.on("click",function(){var a=k+"__widget_active";return d.toggleClass(a),d.hasClass(a)?(b.css({left:-(b.width()-d.width())/2,top:-b.height()}),j(b),i(b,function(){d.removeClass(a)})):b.removeClass(m),!1}),this.widget=d}},update:function(b){if(b.forceUpdate||b.url!==this.options.url){this.number=0,this.countersLeft=this.buttons.length,this.widget&&this.widget.find("."+k+"__counter").remove(),a.extend(this.options,b);for(var c=0;c<this.buttons.length;c++)this.buttons[c].update(b)}},updateCounter:function(a,b,c){c=c||0,(c||this.options.zeroes)&&(this.number+=c,this.single&&this.getCounterElem().text(this.number)),this.countersLeft--,0===this.countersLeft&&(this.appear(),this.ready())},appear:function(){this.container.addClass(k+"_visible")},ready:function(a){this.timeout&&clearTimeout(this.timeout),this.container.addClass(k+"_ready"),a||this.container.trigger("ready."+k,this.number)},getCounterElem:function(){var b=this.widget.find("."+l+"counter_single");return b.length||(b=a("<span>",{class:h("counter","single")}),this.widget.append(b)),b}},d.prototype={init:function(){this.detectParams(),this.initHtml(),setTimeout(a.proxy(this.initCounter,this),0)},update:function(b){a.extend(this.options,{forceUpdate:!1},b),this.widget.find("."+k+"__counter").remove(),this.initCounter()},detectService:function(){var b=this.widget.data("service");if(!b){for(var c=this.widget[0],d=c.classList||c.className.split(" "),e=0;e<d.length;e++){var f=d[e];if(o[f]){b=f;break}}if(!b)return}this.service=b,a.extend(this.options,o[b])},detectParams:function(){var a=this.widget.data();if(a.counter){var b=parseInt(a.counter,10);isNaN(b)?this.options.counterUrl=a.counter:this.options.counterNumber=b}a.title&&(this.options.title=a.title),a.url&&(this.options.url=a.url)},initHtml:function(){var b=this.options,c=this.widget,d=c.find("a");d.length&&this.cloneDataAttrs(d,c);var e=a("<span>",{class:this.getElementClassNames("button"),html:c.html()});if(b.clickUrl){var g=f(b.clickUrl,{url:b.url,title:b.title}),h=a("<a>",{href:g});this.cloneDataAttrs(c,h),c.replaceWith(h),this.widget=c=h}else c.on("click",a.proxy(this.click,this));c.removeClass(this.service),c.addClass(this.getElementClassNames("widget")),e.prepend(a("<span>",{class:this.getElementClassNames("icon")})),c.empty().append(e),this.button=e},initCounter:function(){if(this.options.counters)if(this.options.counterNumber)this.updateCounter(this.options.counterNumber);else{var b={counterUrl:this.options.counterUrl,forceUpdate:this.options.forceUpdate};p.fetch(this.service,this.options.url,b).always(a.proxy(this.updateCounter,this))}},cloneDataAttrs:function(a,b){var c=a.data();for(var d in c)c.hasOwnProperty(d)&&b.data(d,c[d])},getElementClassNames:function(a){return h(a,this.service)},updateCounter:function(b){b=parseInt(b,10)||0;var c={class:this.getElementClassNames("counter"),text:b};b||this.options.zeroes||(c.class+=" "+k+"__counter_empty",c.text="");var d=a("<span>",c);this.widget.append(d),this.widget.trigger("counter."+k,[this.service,b])},click:function(b){var c=this.options,d=!0;if(a.isFunction(c.click)&&(d=c.click.call(this,b)),d){var e=f(c.popupUrl,{url:c.url,title:c.title});e=this.addAdditionalParamsToUrl(e),this.openPopup(e,{width:c.popupWidth,height:c.popupHeight})}return!1},addAdditionalParamsToUrl:function(b){var c=a.param(a.extend(this.widget.data(),this.options.data));if(a.isEmptyObject(c))return b;var d=b.indexOf("?")===-1?"?":"&";return b+d+c},openPopup:function(b,c){var d=Math.round(screen.width/2-c.width/2),e=0;screen.height>c.height&&(e=Math.round(screen.height/3-c.height/2));var f=window.open(b,"sl_"+this.service,"left="+d+",top="+e+",width="+c.width+",height="+c.height+",personalbar=0,toolbar=0,scrollbars=1,resizable=1");if(f){f.focus(),this.widget.trigger("popup_opened."+k,[this.service,f]);var g=setInterval(a.proxy(function(){f.closed&&(clearInterval(g),this.widget.trigger("popup_closed."+k,this.service))},this),this.options.popupCheckInterval)}else location.href=b}},a(function(){a("."+k).socialLikes()})});
!function(){"use strict";function t(o){if(!o)throw new Error("No options passed to Waypoint constructor");if(!o.element)throw new Error("No element option passed to Waypoint constructor");if(!o.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=t.Adapter.extend({},t.defaults,o),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=o.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,e+=1}var e=0,i={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var o in i)e.push(i[o]);for(var n=0,r=e.length;r>n;n++)e[n][t]()},t.destroyAll=function(){t.invokeAll("destroy")},t.disableAll=function(){t.invokeAll("disable")},t.enableAll=function(){t.invokeAll("enable")},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},t.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){"use strict";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=n.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,o[t.waypointContextKey]=this,i+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,o={},n=window.Waypoint,r=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical);t&&e&&(this.adapter.off(".waypoints"),delete o[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,n.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){(!e.didScroll||n.isTouch)&&(e.didScroll=!0,n.requestAnimationFrame(t))})},e.prototype.handleResize=function(){n.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in e){var o=e[i],n=o.newScroll>o.oldScroll,r=n?o.forward:o.backward;for(var s in this.waypoints[i]){var a=this.waypoints[i][s],l=o.oldScroll<a.triggerPoint,h=o.newScroll>=a.triggerPoint,p=l&&h,c=!l&&!h;(p||c)&&(a.queueTrigger(r),t[a.group.id]=a.group)}}for(var u in t)t[u].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?n.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?n.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var o=0,n=t.length;n>o;o++)t[o].destroy()},e.prototype.refresh=function(){var t,e=this.element==this.element.window,i=e?void 0:this.adapter.offset(),o={};this.handleScroll(),t={horizontal:{contextOffset:e?0:i.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:i.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var r in t){var s=t[r];for(var a in this.waypoints[r]){var l,h,p,c,u,d=this.waypoints[r][a],f=d.options.offset,w=d.triggerPoint,y=0,g=null==w;d.element!==d.element.window&&(y=d.adapter.offset()[s.offsetProp]),"function"==typeof f?f=f.apply(d):"string"==typeof f&&(f=parseFloat(f),d.options.offset.indexOf("%")>-1&&(f=Math.ceil(s.contextDimension*f/100))),l=s.contextScroll-s.contextOffset,d.triggerPoint=y+l-f,h=w<s.oldScroll,p=d.triggerPoint>=s.oldScroll,c=h&&p,u=!h&&!p,!g&&c?(d.queueTrigger(s.backward),o[d.group.id]=d.group):!g&&u?(d.queueTrigger(s.forward),o[d.group.id]=d.group):g&&s.oldScroll>=d.triggerPoint&&(d.queueTrigger(s.forward),o[d.group.id]=d.group)}}return n.requestAnimationFrame(function(){for(var t in o)o[t].flushTriggers()}),this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in o)o[t].refresh()},e.findByElement=function(t){return o[t.waypointContextKey]},window.onload=function(){r&&r(),e.refreshAll()},n.requestAnimationFrame=function(e){var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t;i.call(window,e)},n.Context=e}(),function(){"use strict";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function i(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),o[this.axis][this.name]=this}var o={vertical:{},horizontal:{}},n=window.Waypoint;i.prototype.add=function(t){this.waypoints.push(t)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var o=this.triggerQueues[i],n="up"===i||"left"===i;o.sort(n?e:t);for(var r=0,s=o.length;s>r;r+=1){var a=o[r];(a.options.continuous||r===o.length-1)&&a.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints),o=i===this.waypoints.length-1;return o?null:this.waypoints[i+1]},i.prototype.previous=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},i.prototype.remove=function(t){var e=n.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(t){return o[t.axis][t.name]||new i(t)},n.Group=i}(),function(){"use strict";function t(t){this.$element=e(t)}var e=window.jQuery,i=window.Waypoint;e.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(e,i){t.prototype[i]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,t)}}),e.each(["extend","inArray","isEmptyObject"],function(i,o){t[o]=e[o]}),i.adapters.push({name:"jquery",Adapter:t}),i.Adapter=t}(),function(){"use strict";function t(t){return function(){var i=[],o=arguments[0];return t.isFunction(arguments[0])&&(o=t.extend({},arguments[1]),o.handler=arguments[0]),this.each(function(){var n=t.extend({},o,{element:this});"string"==typeof n.context&&(n.context=t(this).closest(n.context)[0]),i.push(new e(n))}),i}}var e=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}(),function(t){t.fn.animated=function(e,i,o){t(this).each(function(){var n=t(this);n.css("opacity","0").addClass("animated").waypoint(function(t){"down"===t&&(n.addClass(e).css("opacity","1"),i&&setTimeout(function(){n.removeClass(e)},500))},{offset:o||"90%"})})}}(jQuery);
!function(){function e(e){function o(o,n){var s,b,h=o==window,k=n&&void 0!==n.message?n.message:void 0;if(n=e.extend({},e.blockUI.defaults,n||{}),!n.ignoreIfBlocked||!e(o).data("blockUI.isBlocked")){if(n.overlayCSS=e.extend({},e.blockUI.defaults.overlayCSS,n.overlayCSS||{}),s=e.extend({},e.blockUI.defaults.css,n.css||{}),n.onOverlayClick&&(n.overlayCSS.cursor="pointer"),b=e.extend({},e.blockUI.defaults.themedCSS,n.themedCSS||{}),k=void 0===k?n.message:k,h&&f&&t(window,{fadeOut:0}),k&&"string"!=typeof k&&(k.parentNode||k.jquery)){var y=k.jquery?k[0]:k,m={};e(o).data("blockUI.history",m),m.el=y,m.parent=y.parentNode,m.display=y.style.display,m.position=y.style.position,m.parent&&m.parent.removeChild(y)}e(o).data("blockUI.onUnblock",n.onUnblock);var g,m=n.baseZ;g=e(c||n.forceIframe?'<iframe class="blockUI" style="z-index:'+m++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+n.iframeSrc+'"></iframe>':'<div class="blockUI" style="display:none"></div>'),y=e(n.theme?'<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+m++ +';display:none"></div>':'<div class="blockUI blockOverlay" style="z-index:'+m++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),n.theme&&h?(m='<div class="blockUI '+n.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(m+10)+';display:none;position:fixed">',n.title&&(m+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(n.title||"&nbsp;")+"</div>"),m+='<div class="ui-widget-content ui-dialog-content"></div></div>'):n.theme?(m='<div class="blockUI '+n.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(m+10)+';display:none;position:absolute">',n.title&&(m+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(n.title||"&nbsp;")+"</div>"),m+='<div class="ui-widget-content ui-dialog-content"></div>',m+="</div>"):m=h?'<div class="blockUI '+n.blockMsgClass+' blockPage" style="z-index:'+(m+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+n.blockMsgClass+' blockElement" style="z-index:'+(m+10)+';display:none;position:absolute"></div>',m=e(m),k&&(n.theme?(m.css(b),m.addClass("ui-widget-content")):m.css(s)),n.theme||y.css(n.overlayCSS),y.css("position",h?"fixed":"absolute"),(c||n.forceIframe)&&g.css("opacity",0),s=[g,y,m];var v=e(h?"body":o);if(e.each(s,function(){this.appendTo(v)}),n.theme&&n.draggable&&e.fn.draggable&&m.draggable({handle:".ui-dialog-titlebar",cancel:"li"}),b=u&&(!e.support.boxModel||0<e("object,embed",h?null:o).length),r||b){if(h&&n.allowBodyStretch&&e.support.boxModel&&e("html,body").css("height","100%"),(r||!e.support.boxModel)&&!h){b=parseInt(e.css(o,"borderTopWidth"),10)||0;var I=parseInt(e.css(o,"borderLeftWidth"),10)||0,w=b?"(0 - "+b+")":0,U=I?"(0 - "+I+")":0}e.each(s,function(e,o){var t=o[0].style;if(t.position="absolute",2>e)h?t.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+n.quirksmodeOffsetHack+') + "px"'):t.setExpression("height",'this.parentNode.offsetHeight + "px"'),h?t.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):t.setExpression("width",'this.parentNode.offsetWidth + "px"'),U&&t.setExpression("left",U),w&&t.setExpression("top",w);else if(n.centerY)h&&t.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),t.marginTop=0;else if(!n.centerY&&h){var i="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+(n.css&&n.css.top?parseInt(n.css.top,10):0)+') + "px"';t.setExpression("top",i)}})}k&&(n.theme?m.find(".ui-widget-content").append(k):m.append(k),(k.jquery||k.nodeType)&&e(k).show()),(c||n.forceIframe)&&n.showOverlay&&g.show(),n.fadeIn?(s=n.onBlock?n.onBlock:a,g=n.showOverlay&&!k?s:a,s=k?s:a,n.showOverlay&&y._fadeIn(n.fadeIn,g),k&&m._fadeIn(n.fadeIn,s)):(n.showOverlay&&y.show(),k&&m.show(),n.onBlock&&n.onBlock.bind(m)()),i(1,o,n),h?(f=m[0],p=e(n.focusableElements,f),n.focusInput&&setTimeout(l,20)):d(m[0],n.centerX,n.centerY),n.timeout&&(k=setTimeout(function(){h?e.unblockUI(n):e(o).unblock(n)},n.timeout),e(o).data("blockUI.timeout",k))}}function t(o,t){var s,l=o==window,d=e(o),a=d.data("blockUI.history"),c=d.data("blockUI.timeout");c&&(clearTimeout(c),d.removeData("blockUI.timeout")),t=e.extend({},e.blockUI.defaults,t||{}),i(0,o,t),null===t.onUnblock&&(t.onUnblock=d.data("blockUI.onUnblock"),d.removeData("blockUI.onUnblock"));var r;r=l?e("body").children().filter(".blockUI").add("body > .blockUI"):d.find(">.blockUI"),t.cursorReset&&(1<r.length&&(r[1].style.cursor=t.cursorReset),2<r.length&&(r[2].style.cursor=t.cursorReset)),l&&(f=p=null),t.fadeOut?(s=r.length,r.stop().fadeOut(t.fadeOut,function(){0===--s&&n(r,a,t,o)})):n(r,a,t,o)}function n(o,t,n,i){var s=e(i);s.data("blockUI.isBlocked")||(o.each(function(e,o){this.parentNode&&this.parentNode.removeChild(this)}),t&&t.el&&(t.el.style.display=t.display,t.el.style.position=t.position,t.el.style.cursor="default",t.parent&&t.parent.appendChild(t.el),s.removeData("blockUI.history")),s.data("blockUI.static")&&s.css("position","static"),"function"==typeof n.onUnblock&&n.onUnblock(i,n),o=e(document.body),t=o.width(),n=o[0].style.width,o.width(t-1).width(t),o[0].style.width=n)}function i(o,t,n){var i=t==window;t=e(t),(o||(!i||f)&&(i||t.data("blockUI.isBlocked")))&&(t.data("blockUI.isBlocked",o),i&&n.bindEvents&&(!o||n.showOverlay)&&(o?e(document).bind("mousedown mouseup keydown keypress keyup touchstart touchend touchmove",n,s):e(document).unbind("mousedown mouseup keydown keypress keyup touchstart touchend touchmove",s)))}function s(o){if("keydown"===o.type&&o.keyCode&&9==o.keyCode&&f&&o.data.constrainTabKey){var t=p,n=o.shiftKey&&o.target===t[0];if(!o.shiftKey&&o.target===t[t.length-1]||n)return setTimeout(function(){l(n)},10),!1}var t=o.data,i=e(o.target);return i.hasClass("blockOverlay")&&t.onOverlayClick&&t.onOverlayClick(o),0<i.parents("div."+t.blockMsgClass).length||0===i.parents().children().filter("div.blockUI").length}function l(e){p&&(e=p[!0===e?p.length-1:0])&&e.focus()}function d(o,t,n){var i=o.parentNode,s=o.style,l=(i.offsetWidth-o.offsetWidth)/2-(parseInt(e.css(i,"borderLeftWidth"),10)||0);o=(i.offsetHeight-o.offsetHeight)/2-(parseInt(e.css(i,"borderTopWidth"),10)||0),t&&(s.left=0<l?l+"px":"0"),n&&(s.top=0<o?o+"px":"0")}e.fn._fadeIn=e.fn.fadeIn;var a=e.noop||function(){},c=/MSIE/.test(navigator.userAgent),r=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),u=e.isFunction(document.createElement("div").style.setExpression);e.blockUI=function(e){o(window,e)},e.unblockUI=function(e){t(window,e)},e.growlUI=function(o,t,n,i){var s=e('<div class="growlUI"></div>');o&&s.append("<h1>"+o+"</h1>"),t&&s.append("<h2>"+t+"</h2>"),void 0===n&&(n=3e3);var l=function(o){o=o||{},e.blockUI({message:s,fadeIn:"undefined"!=typeof o.fadeIn?o.fadeIn:700,fadeOut:"undefined"!=typeof o.fadeOut?o.fadeOut:1e3,timeout:"undefined"!=typeof o.timeout?o.timeout:n,centerY:!1,showOverlay:!1,onUnblock:i,css:e.blockUI.defaults.growlCSS})};l(),s.css("opacity"),s.mouseover(function(){l({fadeIn:0,timeout:3e4});var o=e(".blockMsg");o.stop(),o.fadeTo(300,1)}).mouseout(function(){e(".blockMsg").fadeOut(1e3)})},e.fn.block=function(t){if(this[0]===window)return e.blockUI(t),this;var n=e.extend({},e.blockUI.defaults,t||{});return this.each(function(){var o=e(this);n.ignoreIfBlocked&&o.data("blockUI.isBlocked")||o.unblock({fadeOut:0})}),this.each(function(){"static"==e.css(this,"position")&&(this.style.position="relative",e(this).data("blockUI.static",!0)),this.style.zoom=1,o(this,t)})},e.fn.unblock=function(o){return this[0]===window?(e.unblockUI(o),this):this.each(function(){t(this,o)})},e.blockUI.version=2.7,e.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var f=null,p=[]}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}();
!function(t,e){"function"==typeof define&&define.amd?define("Chartist",[],function(){return t.Chartist=e()}):"object"==typeof exports?module.exports=e():t.Chartist=e()}(this,function(){var t={version:"0.10.0"};return function(t,e,i){"use strict";i.namespaces={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},i.noop=function(t){return t},i.alphaNumerate=function(t){return String.fromCharCode(97+t%26)},i.extend=function(t){var e,n,s;for(t=t||{},e=1;e<arguments.length;e++){n=arguments[e];for(var r in n)s=n[r],"object"!=typeof s||null===s||s instanceof Array?t[r]=s:t[r]=i.extend(t[r],s)}return t},i.replaceAll=function(t,e,i){return t.replace(new RegExp(e,"g"),i)},i.ensureUnit=function(t,e){return"number"==typeof t&&(t+=e),t},i.quantity=function(t){if("string"==typeof t){var e=/^(\d+)\s*(.*)$/g.exec(t);return{value:+e[1],unit:e[2]||void 0}}return{value:t}},i.querySelector=function(t){return t instanceof Node?t:e.querySelector(t)},i.times=function(t){return Array.apply(null,new Array(t))},i.sum=function(t,e){return t+(e?e:0)},i.mapMultiply=function(t){return function(e){return e*t}},i.mapAdd=function(t){return function(e){return e+t}},i.serialMap=function(t,e){var n=[],s=Math.max.apply(null,t.map(function(t){return t.length}));return i.times(s).forEach(function(i,s){var r=t.map(function(t){return t[s]});n[s]=e.apply(null,r)}),n},i.roundWithPrecision=function(t,e){var n=Math.pow(10,e||i.precision);return Math.round(t*n)/n},i.precision=8,i.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},i.serialize=function(t){return null===t||void 0===t?t:("number"==typeof t?t=""+t:"object"==typeof t&&(t=JSON.stringify({data:t})),Object.keys(i.escapingMap).reduce(function(t,e){return i.replaceAll(t,e,i.escapingMap[e])},t))},i.deserialize=function(t){if("string"!=typeof t)return t;t=Object.keys(i.escapingMap).reduce(function(t,e){return i.replaceAll(t,i.escapingMap[e],e)},t);try{t=JSON.parse(t),t=void 0!==t.data?t.data:t}catch(e){}return t},i.createSvg=function(t,e,n,s){var r;return e=e||"100%",n=n||"100%",Array.prototype.slice.call(t.querySelectorAll("svg")).filter(function(t){return t.getAttributeNS(i.namespaces.xmlns,"ct")}).forEach(function(e){t.removeChild(e)}),r=new i.Svg("svg").attr({width:e,height:n}).addClass(s).attr({style:"width: "+e+"; height: "+n+";"}),t.appendChild(r._node),r},i.normalizeData=function(t,e,n){var s,r={raw:t,normalized:{}};return r.normalized.series=i.getDataArray({series:t.series||[]},e,n),s=r.normalized.series.every(function(t){return t instanceof Array})?Math.max.apply(null,r.normalized.series.map(function(t){return t.length})):r.normalized.series.length,r.normalized.labels=(t.labels||[]).slice(),Array.prototype.push.apply(r.normalized.labels,i.times(Math.max(0,s-r.normalized.labels.length)).map(function(){return""})),e&&i.reverseData(r.normalized),r},i.safeHasProperty=function(t,e){return null!==t&&"object"==typeof t&&t.hasOwnProperty(e)},i.isDataHoleValue=function(t){return null===t||void 0===t||"number"==typeof t&&isNaN(t)},i.reverseData=function(t){t.labels.reverse(),t.series.reverse();for(var e=0;e<t.series.length;e++)"object"==typeof t.series[e]&&void 0!==t.series[e].data?t.series[e].data.reverse():t.series[e]instanceof Array&&t.series[e].reverse()},i.getDataArray=function(t,e,n){function s(t){if(i.safeHasProperty(t,"value"))return s(t.value);if(i.safeHasProperty(t,"data"))return s(t.data);if(t instanceof Array)return t.map(s);if(!i.isDataHoleValue(t)){if(n){var e={};return"string"==typeof n?e[n]=i.getNumberOrUndefined(t):e.y=i.getNumberOrUndefined(t),e.x=t.hasOwnProperty("x")?i.getNumberOrUndefined(t.x):e.x,e.y=t.hasOwnProperty("y")?i.getNumberOrUndefined(t.y):e.y,e}return i.getNumberOrUndefined(t)}}return t.series.map(s)},i.normalizePadding=function(t,e){return e=e||0,"number"==typeof t?{top:t,right:t,bottom:t,left:t}:{top:"number"==typeof t.top?t.top:e,right:"number"==typeof t.right?t.right:e,bottom:"number"==typeof t.bottom?t.bottom:e,left:"number"==typeof t.left?t.left:e}},i.getMetaData=function(t,e){var i=t.data?t.data[e]:t[e];return i?i.meta:void 0},i.orderOfMagnitude=function(t){return Math.floor(Math.log(Math.abs(t))/Math.LN10)},i.projectLength=function(t,e,i){return e/i.range*t},i.getAvailableHeight=function(t,e){return Math.max((i.quantity(e.height).value||t.height())-(e.chartPadding.top+e.chartPadding.bottom)-e.axisX.offset,0)},i.getHighLow=function(t,e,n){function s(t){if(void 0!==t)if(t instanceof Array)for(var e=0;e<t.length;e++)s(t[e]);else{var i=n?+t[n]:+t;a&&i>r.high&&(r.high=i),o&&i<r.low&&(r.low=i)}}e=i.extend({},e,n?e["axis"+n.toUpperCase()]:{});var r={high:void 0===e.high?-Number.MAX_VALUE:+e.high,low:void 0===e.low?Number.MAX_VALUE:+e.low},a=void 0===e.high,o=void 0===e.low;return(a||o)&&s(t),(e.referenceValue||0===e.referenceValue)&&(r.high=Math.max(e.referenceValue,r.high),r.low=Math.min(e.referenceValue,r.low)),r.high<=r.low&&(0===r.low?r.high=1:r.low<0?r.high=0:r.high>0?r.low=0:(r.high=1,r.low=0)),r},i.isNumeric=function(t){return null!==t&&isFinite(t)},i.isFalseyButZero=function(t){return!t&&0!==t},i.getNumberOrUndefined=function(t){return i.isNumeric(t)?+t:void 0},i.isMultiValue=function(t){return"object"==typeof t&&("x"in t||"y"in t)},i.getMultiValue=function(t,e){return i.isMultiValue(t)?i.getNumberOrUndefined(t[e||"y"]):i.getNumberOrUndefined(t)},i.rho=function(t){function e(t,i){return t%i===0?i:e(i,t%i)}function i(t){return t*t+1}if(1===t)return t;var n,s=2,r=2;if(t%2===0)return 2;do s=i(s)%t,r=i(i(r))%t,n=e(Math.abs(s-r),t);while(1===n);return n},i.getBounds=function(t,e,n,s){function r(t,e){return t===(t+=e)&&(t*=1+(e>0?f:-f)),t}var a,o,l,c=0,u={high:e.high,low:e.low};u.valueRange=u.high-u.low,u.oom=i.orderOfMagnitude(u.valueRange),u.step=Math.pow(10,u.oom),u.min=Math.floor(u.low/u.step)*u.step,u.max=Math.ceil(u.high/u.step)*u.step,u.range=u.max-u.min,u.numberOfSteps=Math.round(u.range/u.step);var h=i.projectLength(t,u.step,u),d=h<n,p=s?i.rho(u.range):0;if(s&&i.projectLength(t,1,u)>=n)u.step=1;else if(s&&p<u.step&&i.projectLength(t,p,u)>=n)u.step=p;else for(;;){if(d&&i.projectLength(t,u.step,u)<=n)u.step*=2;else{if(d||!(i.projectLength(t,u.step/2,u)>=n))break;if(u.step/=2,s&&u.step%1!==0){u.step*=2;break}}if(c++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}var f=2.221e-16;for(u.step=Math.max(u.step,f),o=u.min,l=u.max;o+u.step<=u.low;)o=r(o,u.step);for(;l-u.step>=u.high;)l=r(l,-u.step);u.min=o,u.max=l,u.range=u.max-u.min;var m=[];for(a=u.min;a<=u.max;a=r(a,u.step)){var g=i.roundWithPrecision(a);g!==m[m.length-1]&&m.push(g)}return u.values=m,u},i.polarToCartesian=function(t,e,i,n){var s=(n-90)*Math.PI/180;return{x:t+i*Math.cos(s),y:e+i*Math.sin(s)}},i.createChartRect=function(t,e,n){var s=!(!e.axisX&&!e.axisY),r=s?e.axisY.offset:0,a=s?e.axisX.offset:0,o=t.width()||i.quantity(e.width).value||0,l=t.height()||i.quantity(e.height).value||0,c=i.normalizePadding(e.chartPadding,n);o=Math.max(o,r+c.left+c.right),l=Math.max(l,a+c.top+c.bottom);var u={padding:c,width:function(){return this.x2-this.x1},height:function(){return this.y1-this.y2}};return s?("start"===e.axisX.position?(u.y2=c.top+a,u.y1=Math.max(l-c.bottom,u.y2+1)):(u.y2=c.top,u.y1=Math.max(l-c.bottom-a,u.y2+1)),"start"===e.axisY.position?(u.x1=c.left+r,u.x2=Math.max(o-c.right,u.x1+1)):(u.x1=c.left,u.x2=Math.max(o-c.right-r,u.x1+1))):(u.x1=c.left,u.x2=Math.max(o-c.right,u.x1+1),u.y2=c.top,u.y1=Math.max(l-c.bottom,u.y2+1)),u},i.createGrid=function(t,e,n,s,r,a,o,l){var c={};c[n.units.pos+"1"]=t,c[n.units.pos+"2"]=t,c[n.counterUnits.pos+"1"]=s,c[n.counterUnits.pos+"2"]=s+r;var u=a.elem("line",c,o.join(" "));l.emit("draw",i.extend({type:"grid",axis:n,index:e,group:a,element:u},c))},i.createGridBackground=function(t,e,i,n){var s=t.elem("rect",{x:e.x1,y:e.y2,width:e.width(),height:e.height()},i,!0);n.emit("draw",{type:"gridBackground",group:t,element:s})},i.createLabel=function(t,e,n,s,r,a,o,l,c,u,h){var d,p={};if(p[r.units.pos]=t+o[r.units.pos],p[r.counterUnits.pos]=o[r.counterUnits.pos],p[r.units.len]=e,p[r.counterUnits.len]=Math.max(0,a-10),u){var f='<span class="'+c.join(" ")+'" style="'+r.units.len+": "+Math.round(p[r.units.len])+"px; "+r.counterUnits.len+": "+Math.round(p[r.counterUnits.len])+'px">'+s[n]+"</span>";d=l.foreignObject(f,i.extend({style:"overflow: visible;"},p))}else d=l.elem("text",p,c.join(" ")).text(s[n]);h.emit("draw",i.extend({type:"label",axis:r,index:n,group:l,element:d,text:s[n]},p))},i.getSeriesOption=function(t,e,i){if(t.name&&e.series&&e.series[t.name]){var n=e.series[t.name];return n.hasOwnProperty(i)?n[i]:e[i]}return e[i]},i.optionsProvider=function(e,n,s){function r(e){var r=o;if(o=i.extend({},c),n)for(l=0;l<n.length;l++){var a=t.matchMedia(n[l][0]);a.matches&&(o=i.extend(o,n[l][1]))}s&&e&&s.emit("optionsChanged",{previousOptions:r,currentOptions:o})}function a(){u.forEach(function(t){t.removeListener(r)})}var o,l,c=i.extend({},e),u=[];if(!t.matchMedia)throw"window.matchMedia not found! Make sure you're using a polyfill.";if(n)for(l=0;l<n.length;l++){var h=t.matchMedia(n[l][0]);h.addListener(r),u.push(h)}return r(),{removeMediaQueryListeners:a,getCurrentOptions:function(){return i.extend({},o)}}},i.splitIntoSegments=function(t,e,n){var s={increasingX:!1,fillHoles:!1};n=i.extend({},s,n);for(var r=[],a=!0,o=0;o<t.length;o+=2)void 0===i.getMultiValue(e[o/2].value)?n.fillHoles||(a=!0):(n.increasingX&&o>=2&&t[o]<=t[o-2]&&(a=!0),a&&(r.push({pathCoordinates:[],valueData:[]}),a=!1),r[r.length-1].pathCoordinates.push(t[o],t[o+1]),r[r.length-1].valueData.push(e[o/2]));return r}}(window,document,t),function(t,e,i){"use strict";i.Interpolation={},i.Interpolation.none=function(t){var e={fillHoles:!1};return t=i.extend({},e,t),function(e,n){for(var s=new i.Svg.Path,r=!0,a=0;a<e.length;a+=2){var o=e[a],l=e[a+1],c=n[a/2];void 0!==i.getMultiValue(c.value)?(r?s.move(o,l,!1,c):s.line(o,l,!1,c),r=!1):t.fillHoles||(r=!0)}return s}},i.Interpolation.simple=function(t){var e={divisor:2,fillHoles:!1};t=i.extend({},e,t);var n=1/Math.max(1,t.divisor);return function(e,s){for(var r,a,o,l=new i.Svg.Path,c=0;c<e.length;c+=2){var u=e[c],h=e[c+1],d=(u-r)*n,p=s[c/2];void 0!==p.value?(void 0===o?l.move(u,h,!1,p):l.curve(r+d,a,u-d,h,u,h,!1,p),r=u,a=h,o=p):t.fillHoles||(r=u=o=void 0)}return l}},i.Interpolation.cardinal=function(t){var e={tension:1,fillHoles:!1};t=i.extend({},e,t);var n=Math.min(1,Math.max(0,t.tension)),s=1-n;return function r(e,a){var o=i.splitIntoSegments(e,a,{fillHoles:t.fillHoles});if(o.length){if(o.length>1){var l=[];return o.forEach(function(t){l.push(r(t.pathCoordinates,t.valueData))}),i.Svg.Path.join(l)}if(e=o[0].pathCoordinates,a=o[0].valueData,e.length<=4)return i.Interpolation.none()(e,a);for(var c,u=(new i.Svg.Path).move(e[0],e[1],!1,a[0]),h=0,d=e.length;d-2*!c>h;h+=2){var p=[{x:+e[h-2],y:+e[h-1]},{x:+e[h],y:+e[h+1]},{x:+e[h+2],y:+e[h+3]},{x:+e[h+4],y:+e[h+5]}];c?h?d-4===h?p[3]={x:+e[0],y:+e[1]}:d-2===h&&(p[2]={x:+e[0],y:+e[1]},p[3]={x:+e[2],y:+e[3]}):p[0]={x:+e[d-2],y:+e[d-1]}:d-4===h?p[3]=p[2]:h||(p[0]={x:+e[h],y:+e[h+1]}),u.curve(n*(-p[0].x+6*p[1].x+p[2].x)/6+s*p[2].x,n*(-p[0].y+6*p[1].y+p[2].y)/6+s*p[2].y,n*(p[1].x+6*p[2].x-p[3].x)/6+s*p[2].x,n*(p[1].y+6*p[2].y-p[3].y)/6+s*p[2].y,p[2].x,p[2].y,!1,a[(h+2)/2])}return u}return i.Interpolation.none()([])}},i.Interpolation.monotoneCubic=function(t){var e={fillHoles:!1};return t=i.extend({},e,t),function n(e,s){var r=i.splitIntoSegments(e,s,{fillHoles:t.fillHoles,increasingX:!0});if(r.length){if(r.length>1){var a=[];return r.forEach(function(t){a.push(n(t.pathCoordinates,t.valueData))}),i.Svg.Path.join(a)}if(e=r[0].pathCoordinates,s=r[0].valueData,e.length<=4)return i.Interpolation.none()(e,s);var o,l,c=[],u=[],h=e.length/2,d=[],p=[],f=[],m=[];for(o=0;o<h;o++)c[o]=e[2*o],u[o]=e[2*o+1];for(o=0;o<h-1;o++)f[o]=u[o+1]-u[o],m[o]=c[o+1]-c[o],p[o]=f[o]/m[o];for(d[0]=p[0],d[h-1]=p[h-2],o=1;o<h-1;o++)0===p[o]||0===p[o-1]||p[o-1]>0!=p[o]>0?d[o]=0:(d[o]=3*(m[o-1]+m[o])/((2*m[o]+m[o-1])/p[o-1]+(m[o]+2*m[o-1])/p[o]),isFinite(d[o])||(d[o]=0));for(l=(new i.Svg.Path).move(c[0],u[0],!1,s[0]),o=0;o<h-1;o++)l.curve(c[o]+m[o]/3,u[o]+d[o]*m[o]/3,c[o+1]-m[o]/3,u[o+1]-d[o+1]*m[o]/3,c[o+1],u[o+1],!1,s[o+1]);return l}return i.Interpolation.none()([])}},i.Interpolation.step=function(t){var e={postpone:!0,fillHoles:!1};return t=i.extend({},e,t),function(e,n){for(var s,r,a,o=new i.Svg.Path,l=0;l<e.length;l+=2){var c=e[l],u=e[l+1],h=n[l/2];void 0!==h.value?(void 0===a?o.move(c,u,!1,h):(t.postpone?o.line(c,r,!1,a):o.line(s,u,!1,h),o.line(c,u,!1,h)),s=c,r=u,a=h):t.fillHoles||(s=r=a=void 0)}return o}}}(window,document,t),function(t,e,i){"use strict";i.EventEmitter=function(){function t(t,e){n[t]=n[t]||[],n[t].push(e)}function e(t,e){n[t]&&(e?(n[t].splice(n[t].indexOf(e),1),0===n[t].length&&delete n[t]):delete n[t])}function i(t,e){n[t]&&n[t].forEach(function(t){t(e)}),n["*"]&&n["*"].forEach(function(i){i(t,e)})}var n=[];return{addEventHandler:t,removeEventHandler:e,emit:i}}}(window,document,t),function(t,e,i){"use strict";function n(t){var e=[];if(t.length)for(var i=0;i<t.length;i++)e.push(t[i]);return e}function s(t,e){var n=e||this.prototype||i.Class,s=Object.create(n);i.Class.cloneDefinitions(s,t);var r=function(){var t,e=s.constructor||function(){};return t=this===i?Object.create(s):this,e.apply(t,Array.prototype.slice.call(arguments,0)),t};return r.prototype=s,r["super"]=n,r.extend=this.extend,r}function r(){var t=n(arguments),e=t[0];return t.splice(1,t.length-1).forEach(function(t){Object.getOwnPropertyNames(t).forEach(function(i){delete e[i],Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))})}),e}i.Class={extend:s,cloneDefinitions:r}}(window,document,t),function(t,e,i){"use strict";function n(t,e,n){return t&&(this.data=t||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.eventEmitter.emit("data",{type:"update",data:this.data})),e&&(this.options=i.extend({},n?this.options:this.defaultOptions,e),this.initializeTimeoutId||(this.optionsProvider.removeMediaQueryListeners(),this.optionsProvider=i.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter))),this.initializeTimeoutId||this.createChart(this.optionsProvider.getCurrentOptions()),this}function s(){return this.initializeTimeoutId?t.clearTimeout(this.initializeTimeoutId):(t.removeEventListener("resize",this.resizeListener),this.optionsProvider.removeMediaQueryListeners()),this}function r(t,e){return this.eventEmitter.addEventHandler(t,e),this}function a(t,e){return this.eventEmitter.removeEventHandler(t,e),this}function o(){t.addEventListener("resize",this.resizeListener),this.optionsProvider=i.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.addEventHandler("optionsChanged",function(){this.update()}.bind(this)),this.options.plugins&&this.options.plugins.forEach(function(t){t instanceof Array?t[0](this,t[1]):t(this)}.bind(this)),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=void 0}function l(t,e,n,s,r){this.container=i.querySelector(t),this.data=e||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.defaultOptions=n,this.options=s,this.responsiveOptions=r,this.eventEmitter=i.EventEmitter(),this.supportsForeignObject=i.Svg.isSupported("Extensibility"),this.supportsAnimations=i.Svg.isSupported("AnimationEventsAttribute"),this.resizeListener=function(){this.update()}.bind(this),this.container&&(this.container.__chartist__&&this.container.__chartist__.detach(),this.container.__chartist__=this),this.initializeTimeoutId=setTimeout(o.bind(this),0)}i.Base=i.Class.extend({constructor:l,optionsProvider:void 0,container:void 0,svg:void 0,eventEmitter:void 0,createChart:function(){throw new Error("Base chart type can't be instantiated!")},update:n,detach:s,on:r,off:a,version:i.version,supportsForeignObject:!1})}(window,document,t),function(t,e,i){"use strict";function n(t,n,s,r,a){t instanceof Element?this._node=t:(this._node=e.createElementNS(i.namespaces.svg,t),"svg"===t&&this.attr({"xmlns:ct":i.namespaces.ct})),n&&this.attr(n),s&&this.addClass(s),r&&(a&&r._node.firstChild?r._node.insertBefore(this._node,r._node.firstChild):r._node.appendChild(this._node))}function s(t,e){return"string"==typeof t?e?this._node.getAttributeNS(e,t):this._node.getAttribute(t):(Object.keys(t).forEach(function(e){if(void 0!==t[e])if(e.indexOf(":")!==-1){var n=e.split(":");this._node.setAttributeNS(i.namespaces[n[0]],e,t[e])}else this._node.setAttribute(e,t[e])}.bind(this)),this)}function r(t,e,n,s){return new i.Svg(t,e,n,this,s)}function a(){return this._node.parentNode instanceof SVGElement?new i.Svg(this._node.parentNode):null}function o(){for(var t=this._node;"svg"!==t.nodeName;)t=t.parentNode;return new i.Svg(t)}function l(t){var e=this._node.querySelector(t);return e?new i.Svg(e):null}function c(t){var e=this._node.querySelectorAll(t);return e.length?new i.Svg.List(e):null}function u(){return this._node}function h(t,n,s,r){if("string"==typeof t){var a=e.createElement("div");a.innerHTML=t,t=a.firstChild}t.setAttribute("xmlns",i.namespaces.xmlns);var o=this.elem("foreignObject",n,s,r);return o._node.appendChild(t),o}function d(t){return this._node.appendChild(e.createTextNode(t)),this}function p(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this}function f(){return this._node.parentNode.removeChild(this._node),this.parent()}function m(t){return this._node.parentNode.replaceChild(t._node,this._node),t}function g(t,e){return e&&this._node.firstChild?this._node.insertBefore(t._node,this._node.firstChild):this._node.appendChild(t._node),this}function v(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[]}function x(t){return this._node.setAttribute("class",this.classes(this._node).concat(t.trim().split(/\s+/)).filter(function(t,e,i){return i.indexOf(t)===e}).join(" ")),this}function y(t){var e=t.trim().split(/\s+/);return this._node.setAttribute("class",this.classes(this._node).filter(function(t){return e.indexOf(t)===-1}).join(" ")),this}function b(){return this._node.setAttribute("class",""),this}function w(){return this._node.getBoundingClientRect().height}function E(){return this._node.getBoundingClientRect().width}function A(t,e,n){return void 0===e&&(e=!0),Object.keys(t).forEach(function(s){function r(t,e){var r,a,o,l={};t.easing&&(o=t.easing instanceof Array?t.easing:i.Svg.Easing[t.easing],delete t.easing),t.begin=i.ensureUnit(t.begin,"ms"),t.dur=i.ensureUnit(t.dur,"ms"),o&&(t.calcMode="spline",t.keySplines=o.join(" "),t.keyTimes="0;1"),e&&(t.fill="freeze",l[s]=t.from,this.attr(l),a=i.quantity(t.begin||0).value,t.begin="indefinite"),r=this.elem("animate",i.extend({attributeName:s},t)),e&&setTimeout(function(){try{r._node.beginElement()}catch(e){l[s]=t.to,this.attr(l),r.remove()}}.bind(this),a),n&&r._node.addEventListener("beginEvent",function(){n.emit("animationBegin",{element:this,animate:r._node,params:t})}.bind(this)),r._node.addEventListener("endEvent",function(){n&&n.emit("animationEnd",{element:this,animate:r._node,params:t}),e&&(l[s]=t.to,this.attr(l),r.remove())}.bind(this))}t[s]instanceof Array?t[s].forEach(function(t){r.bind(this)(t,!1)}.bind(this)):r.bind(this)(t[s],e)}.bind(this)),this}function S(t){var e=this;this.svgElements=[];for(var n=0;n<t.length;n++)this.svgElements.push(new i.Svg(t[n]));Object.keys(i.Svg.prototype).filter(function(t){return["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(t)===-1}).forEach(function(t){e[t]=function(){var n=Array.prototype.slice.call(arguments,0);return e.svgElements.forEach(function(e){i.Svg.prototype[t].apply(e,n)}),e}})}i.Svg=i.Class.extend({constructor:n,attr:s,elem:r,parent:a,root:o,querySelector:l,querySelectorAll:c,getNode:u,foreignObject:h,text:d,empty:p,remove:f,replace:m,append:g,classes:v,addClass:x,removeClass:y,removeAllClasses:b,height:w,width:E,animate:A}),i.Svg.isSupported=function(t){return e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#"+t,"1.1")};var z={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};i.Svg.Easing=z,i.Svg.List=i.Class.extend({constructor:S})}(window,document,t),function(t,e,i){"use strict";function n(t,e,n,s,r,a){var o=i.extend({command:r?t.toLowerCase():t.toUpperCase()},e,a?{data:a}:{});n.splice(s,0,o)}function s(t,e){t.forEach(function(i,n){b[i.command.toLowerCase()].forEach(function(s,r){e(i,s,n,r,t)})})}function r(t,e){this.pathElements=[],this.pos=0,this.close=t,this.options=i.extend({},w,e)}function a(t){return void 0!==t?(this.pos=Math.max(0,Math.min(this.pathElements.length,t)),this):this.pos}function o(t){return this.pathElements.splice(this.pos,t),this}function l(t,e,i,s){return n("M",{x:+t,y:+e},this.pathElements,this.pos++,i,s),this}function c(t,e,i,s){return n("L",{x:+t,y:+e},this.pathElements,this.pos++,i,s),this}function u(t,e,i,s,r,a,o,l){return n("C",{x1:+t,y1:+e,x2:+i,y2:+s,x:+r,y:+a},this.pathElements,this.pos++,o,l),this}function h(t,e,i,s,r,a,o,l,c){return n("A",{rx:+t,ry:+e,xAr:+i,lAf:+s,sf:+r,x:+a,y:+o},this.pathElements,this.pos++,l,c),this}function d(t){var e=t.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce(function(t,e){return e.match(/[A-Za-z]/)&&t.push([]),t[t.length-1].push(e),t},[]);"Z"===e[e.length-1][0].toUpperCase()&&e.pop();var n=e.map(function(t){var e=t.shift(),n=b[e.toLowerCase()];return i.extend({command:e},n.reduce(function(e,i,n){return e[i]=+t[n],e},{}))}),s=[this.pos,0];return Array.prototype.push.apply(s,n),Array.prototype.splice.apply(this.pathElements,s),this.pos+=n.length,this}function p(){var t=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(function(e,i){var n=b[i.command.toLowerCase()].map(function(e){return this.options.accuracy?Math.round(i[e]*t)/t:i[e]}.bind(this));return e+i.command+n.join(",")}.bind(this),"")+(this.close?"Z":"")}function f(t,e){return s(this.pathElements,function(i,n){i[n]*="x"===n[0]?t:e}),this}function m(t,e){return s(this.pathElements,function(i,n){i[n]+="x"===n[0]?t:e}),this}function g(t){return s(this.pathElements,function(e,i,n,s,r){var a=t(e,i,n,s,r);(a||0===a)&&(e[i]=a)}),this}function v(t){var e=new i.Svg.Path(t||this.close);return e.pos=this.pos,e.pathElements=this.pathElements.slice().map(function(t){return i.extend({},t)}),e.options=i.extend({},this.options),e}function x(t){var e=[new i.Svg.Path];return this.pathElements.forEach(function(n){n.command===t.toUpperCase()&&0!==e[e.length-1].pathElements.length&&e.push(new i.Svg.Path),e[e.length-1].pathElements.push(n)}),e}function y(t,e,n){for(var s=new i.Svg.Path(e,n),r=0;r<t.length;r++)for(var a=t[r],o=0;o<a.pathElements.length;o++)s.pathElements.push(a.pathElements[o]);return s}var b={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},w={accuracy:3};i.Svg.Path=i.Class.extend({constructor:r,position:a,remove:o,move:l,line:c,curve:u,arc:h,scale:f,translate:m,transform:g,parse:d,stringify:p,clone:v,splitByCommand:x}),i.Svg.Path.elementDescriptions=b,i.Svg.Path.join=y}(window,document,t),function(t,e,i){"use strict";function n(t,e,i,n){this.units=t,this.counterUnits=t===r.x?r.y:r.x,this.chartRect=e,this.axisLength=e[t.rectEnd]-e[t.rectStart],this.gridOffset=e[t.rectOffset],this.ticks=i,this.options=n}function s(t,e,n,s,r){var a=s["axis"+this.units.pos.toUpperCase()],o=this.ticks.map(this.projectValue.bind(this)),l=this.ticks.map(a.labelInterpolationFnc);o.forEach(function(c,u){var h,d={x:0,y:0};h=o[u+1]?o[u+1]-c:Math.max(this.axisLength-c,30),i.isFalseyButZero(l[u])&&""!==l[u]||("x"===this.units.pos?(c=this.chartRect.x1+c,d.x=s.axisX.labelOffset.x,"start"===s.axisX.position?d.y=this.chartRect.padding.top+s.axisX.labelOffset.y+(n?5:20):d.y=this.chartRect.y1+s.axisX.labelOffset.y+(n?5:20)):(c=this.chartRect.y1-c,d.y=s.axisY.labelOffset.y-(n?h:0),"start"===s.axisY.position?d.x=n?this.chartRect.padding.left+s.axisY.labelOffset.x:this.chartRect.x1-10:d.x=this.chartRect.x2+s.axisY.labelOffset.x+10),a.showGrid&&i.createGrid(c,u,this,this.gridOffset,this.chartRect[this.counterUnits.len](),t,[s.classNames.grid,s.classNames[this.units.dir]],r),a.showLabel&&i.createLabel(c,h,u,l,this,a.offset,d,e,[s.classNames.label,s.classNames[this.units.dir],"start"===a.position?s.classNames[a.position]:s.classNames.end],n,r))}.bind(this))}var r={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};i.Axis=i.Class.extend({constructor:n,createGridAndLabels:s,projectValue:function(t,e,i){throw new Error("Base axis can't be instantiated!")}}),i.Axis.units=r}(window,document,t),function(t,e,i){"use strict";function n(t,e,n,s){var r=s.highLow||i.getHighLow(e,s,t.pos);this.bounds=i.getBounds(n[t.rectEnd]-n[t.rectStart],r,s.scaleMinSpace||20,s.onlyInteger),this.range={min:this.bounds.min,max:this.bounds.max},i.AutoScaleAxis["super"].constructor.call(this,t,n,this.bounds.values,s)}function s(t){return this.axisLength*(+i.getMultiValue(t,this.units.pos)-this.bounds.min)/this.bounds.range}i.AutoScaleAxis=i.Axis.extend({constructor:n,projectValue:s})}(window,document,t),function(t,e,i){"use strict";function n(t,e,n,s){var r=s.highLow||i.getHighLow(e,s,t.pos);this.divisor=s.divisor||1,this.ticks=s.ticks||i.times(this.divisor).map(function(t,e){return r.low+(r.high-r.low)/this.divisor*e}.bind(this)),this.ticks.sort(function(t,e){return t-e}),this.range={min:r.low,max:r.high},i.FixedScaleAxis["super"].constructor.call(this,t,n,this.ticks,s),this.stepLength=this.axisLength/this.divisor}function s(t){return this.axisLength*(+i.getMultiValue(t,this.units.pos)-this.range.min)/(this.range.max-this.range.min)}i.FixedScaleAxis=i.Axis.extend({constructor:n,projectValue:s})}(window,document,t),function(t,e,i){"use strict";function n(t,e,n,s){i.StepAxis["super"].constructor.call(this,t,n,s.ticks,s);var r=Math.max(1,s.ticks.length-(s.stretch?1:0));this.stepLength=this.axisLength/r}function s(t,e){return this.stepLength*e}i.StepAxis=i.Axis.extend({constructor:n,projectValue:s})}(window,document,t),function(t,e,i){"use strict";function n(t){var e=i.normalizeData(this.data,t.reverseData,!0);this.svg=i.createSvg(this.container,t.width,t.height,t.classNames.chart);var n,s,a=this.svg.elem("g").addClass(t.classNames.gridGroup),o=this.svg.elem("g"),l=this.svg.elem("g").addClass(t.classNames.labelGroup),c=i.createChartRect(this.svg,t,r.padding);n=void 0===t.axisX.type?new i.StepAxis(i.Axis.units.x,e.normalized.series,c,i.extend({},t.axisX,{ticks:e.normalized.labels,stretch:t.fullWidth})):t.axisX.type.call(i,i.Axis.units.x,e.normalized.series,c,t.axisX),s=void 0===t.axisY.type?new i.AutoScaleAxis(i.Axis.units.y,e.normalized.series,c,i.extend({},t.axisY,{high:i.isNumeric(t.high)?t.high:t.axisY.high,low:i.isNumeric(t.low)?t.low:t.axisY.low})):t.axisY.type.call(i,i.Axis.units.y,e.normalized.series,c,t.axisY),n.createGridAndLabels(a,l,this.supportsForeignObject,t,this.eventEmitter),s.createGridAndLabels(a,l,this.supportsForeignObject,t,this.eventEmitter),t.showGridBackground&&i.createGridBackground(a,c,t.classNames.gridBackground,this.eventEmitter),e.raw.series.forEach(function(r,a){var l=o.elem("g");l.attr({"ct:series-name":r.name,"ct:meta":i.serialize(r.meta)}),l.addClass([t.classNames.series,r.className||t.classNames.series+"-"+i.alphaNumerate(a)].join(" "));var u=[],h=[];e.normalized.series[a].forEach(function(t,o){var l={x:c.x1+n.projectValue(t,o,e.normalized.series[a]),y:c.y1-s.projectValue(t,o,e.normalized.series[a])};u.push(l.x,l.y),h.push({value:t,valueIndex:o,meta:i.getMetaData(r,o)})}.bind(this));var d={lineSmooth:i.getSeriesOption(r,t,"lineSmooth"),showPoint:i.getSeriesOption(r,t,"showPoint"),showLine:i.getSeriesOption(r,t,"showLine"),showArea:i.getSeriesOption(r,t,"showArea"),areaBase:i.getSeriesOption(r,t,"areaBase")},p="function"==typeof d.lineSmooth?d.lineSmooth:d.lineSmooth?i.Interpolation.monotoneCubic():i.Interpolation.none(),f=p(u,h);if(d.showPoint&&f.pathElements.forEach(function(e){var o=l.elem("line",{x1:e.x,y1:e.y,x2:e.x+.01,y2:e.y},t.classNames.point).attr({"ct:value":[e.data.value.x,e.data.value.y].filter(i.isNumeric).join(","),"ct:meta":i.serialize(e.data.meta)});this.eventEmitter.emit("draw",{type:"point",value:e.data.value,index:e.data.valueIndex,meta:e.data.meta,series:r,seriesIndex:a,axisX:n,axisY:s,group:l,element:o,x:e.x,y:e.y})}.bind(this)),d.showLine){var m=l.elem("path",{d:f.stringify()},t.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:e.normalized.series[a],path:f.clone(),chartRect:c,index:a,series:r,seriesIndex:a,seriesMeta:r.meta,axisX:n,axisY:s,group:l,element:m})}if(d.showArea&&s.range){var g=Math.max(Math.min(d.areaBase,s.range.max),s.range.min),v=c.y1-s.projectValue(g);f.splitByCommand("M").filter(function(t){return t.pathElements.length>1}).map(function(t){var e=t.pathElements[0],i=t.pathElements[t.pathElements.length-1];return t.clone(!0).position(0).remove(1).move(e.x,v).line(e.x,e.y).position(t.pathElements.length+1).line(i.x,v)}).forEach(function(i){var o=l.elem("path",{d:i.stringify()},t.classNames.area,!0);this.eventEmitter.emit("draw",{type:"area",values:e.normalized.series[a],path:i.clone(),series:r,seriesIndex:a,axisX:n,axisY:s,chartRect:c,index:a,group:l,element:o})}.bind(this))}}.bind(this)),this.eventEmitter.emit("created",{bounds:s.bounds,chartRect:c,axisX:n,axisY:s,svg:this.svg,options:t})}function s(t,e,n,s){i.Line["super"].constructor.call(this,t,e,r,i.extend({},r,n),s)}var r={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:i.noop,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:i.noop,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,showGridBackground:!1,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};i.Line=i.Base.extend({constructor:s,createChart:n})}(window,document,t),function(t,e,i){"use strict";function n(t){var e,n;t.distributeSeries?(e=i.normalizeData(this.data,t.reverseData,t.horizontalBars?"x":"y"),e.normalized.series=e.normalized.series.map(function(t){return[t]})):e=i.normalizeData(this.data,t.reverseData,t.horizontalBars?"x":"y"),this.svg=i.createSvg(this.container,t.width,t.height,t.classNames.chart+(t.horizontalBars?" "+t.classNames.horizontalBars:""));var s=this.svg.elem("g").addClass(t.classNames.gridGroup),a=this.svg.elem("g"),o=this.svg.elem("g").addClass(t.classNames.labelGroup);if(t.stackBars&&0!==e.normalized.series.length){var l=i.serialMap(e.normalized.series,function(){return Array.prototype.slice.call(arguments).map(function(t){
return t}).reduce(function(t,e){return{x:t.x+(e&&e.x)||0,y:t.y+(e&&e.y)||0}},{x:0,y:0})});n=i.getHighLow([l],t,t.horizontalBars?"x":"y")}else n=i.getHighLow(e.normalized.series,t,t.horizontalBars?"x":"y");n.high=+t.high||(0===t.high?0:n.high),n.low=+t.low||(0===t.low?0:n.low);var c,u,h,d,p,f=i.createChartRect(this.svg,t,r.padding);u=t.distributeSeries&&t.stackBars?e.normalized.labels.slice(0,1):e.normalized.labels,t.horizontalBars?(c=d=void 0===t.axisX.type?new i.AutoScaleAxis(i.Axis.units.x,e.normalized.series,f,i.extend({},t.axisX,{highLow:n,referenceValue:0})):t.axisX.type.call(i,i.Axis.units.x,e.normalized.series,f,i.extend({},t.axisX,{highLow:n,referenceValue:0})),h=p=void 0===t.axisY.type?new i.StepAxis(i.Axis.units.y,e.normalized.series,f,{ticks:u}):t.axisY.type.call(i,i.Axis.units.y,e.normalized.series,f,t.axisY)):(h=d=void 0===t.axisX.type?new i.StepAxis(i.Axis.units.x,e.normalized.series,f,{ticks:u}):t.axisX.type.call(i,i.Axis.units.x,e.normalized.series,f,t.axisX),c=p=void 0===t.axisY.type?new i.AutoScaleAxis(i.Axis.units.y,e.normalized.series,f,i.extend({},t.axisY,{highLow:n,referenceValue:0})):t.axisY.type.call(i,i.Axis.units.y,e.normalized.series,f,i.extend({},t.axisY,{highLow:n,referenceValue:0})));var m=t.horizontalBars?f.x1+c.projectValue(0):f.y1-c.projectValue(0),g=[];h.createGridAndLabels(s,o,this.supportsForeignObject,t,this.eventEmitter),c.createGridAndLabels(s,o,this.supportsForeignObject,t,this.eventEmitter),t.showGridBackground&&i.createGridBackground(s,f,t.classNames.gridBackground,this.eventEmitter),e.raw.series.forEach(function(n,s){var r,o,l=s-(e.raw.series.length-1)/2;r=t.distributeSeries&&!t.stackBars?h.axisLength/e.normalized.series.length/2:t.distributeSeries&&t.stackBars?h.axisLength/2:h.axisLength/e.normalized.series[s].length/2,o=a.elem("g"),o.attr({"ct:series-name":n.name,"ct:meta":i.serialize(n.meta)}),o.addClass([t.classNames.series,n.className||t.classNames.series+"-"+i.alphaNumerate(s)].join(" ")),e.normalized.series[s].forEach(function(a,u){var v,x,y,b;if(b=t.distributeSeries&&!t.stackBars?s:t.distributeSeries&&t.stackBars?0:u,v=t.horizontalBars?{x:f.x1+c.projectValue(a&&a.x?a.x:0,u,e.normalized.series[s]),y:f.y1-h.projectValue(a&&a.y?a.y:0,b,e.normalized.series[s])}:{x:f.x1+h.projectValue(a&&a.x?a.x:0,b,e.normalized.series[s]),y:f.y1-c.projectValue(a&&a.y?a.y:0,u,e.normalized.series[s])},h instanceof i.StepAxis&&(h.options.stretch||(v[h.units.pos]+=r*(t.horizontalBars?-1:1)),v[h.units.pos]+=t.stackBars||t.distributeSeries?0:l*t.seriesBarDistance*(t.horizontalBars?-1:1)),y=g[u]||m,g[u]=y-(m-v[h.counterUnits.pos]),void 0!==a){var w={};w[h.units.pos+"1"]=v[h.units.pos],w[h.units.pos+"2"]=v[h.units.pos],!t.stackBars||"accumulate"!==t.stackMode&&t.stackMode?(w[h.counterUnits.pos+"1"]=m,w[h.counterUnits.pos+"2"]=v[h.counterUnits.pos]):(w[h.counterUnits.pos+"1"]=y,w[h.counterUnits.pos+"2"]=g[u]),w.x1=Math.min(Math.max(w.x1,f.x1),f.x2),w.x2=Math.min(Math.max(w.x2,f.x1),f.x2),w.y1=Math.min(Math.max(w.y1,f.y2),f.y1),w.y2=Math.min(Math.max(w.y2,f.y2),f.y1);var E=i.getMetaData(n,u);x=o.elem("line",w,t.classNames.bar).attr({"ct:value":[a.x,a.y].filter(i.isNumeric).join(","),"ct:meta":i.serialize(E)}),this.eventEmitter.emit("draw",i.extend({type:"bar",value:a,index:u,meta:E,series:n,seriesIndex:s,axisX:d,axisY:p,chartRect:f,group:o,element:x},w))}}.bind(this))}.bind(this)),this.eventEmitter.emit("created",{bounds:c.bounds,chartRect:f,axisX:d,axisY:p,svg:this.svg,options:t})}function s(t,e,n,s){i.Bar["super"].constructor.call(this,t,e,r,i.extend({},r,n),s)}var r={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:i.noop,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:i.noop,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,referenceValue:0,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,stackMode:"accumulate",horizontalBars:!1,distributeSeries:!1,reverseData:!1,showGridBackground:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};i.Bar=i.Base.extend({constructor:s,createChart:n})}(window,document,t),function(t,e,i){"use strict";function n(t,e,i){var n=e.x>t.x;return n&&"explode"===i||!n&&"implode"===i?"start":n&&"implode"===i||!n&&"explode"===i?"end":"middle"}function s(t){var e,s,r,o,l,c=i.normalizeData(this.data),u=[],h=t.startAngle;this.svg=i.createSvg(this.container,t.width,t.height,t.donut?t.classNames.chartDonut:t.classNames.chartPie),s=i.createChartRect(this.svg,t,a.padding),r=Math.min(s.width()/2,s.height()/2),l=t.total||c.normalized.series.reduce(function(t,e){return t+e},0);var d=i.quantity(t.donutWidth);"%"===d.unit&&(d.value*=r/100),r-=t.donut?d.value/2:0,o="outside"===t.labelPosition||t.donut?r:"center"===t.labelPosition?0:r/2,o+=t.labelOffset;var p={x:s.x1+s.width()/2,y:s.y2+s.height()/2},f=1===c.raw.series.filter(function(t){return t.hasOwnProperty("value")?0!==t.value:0!==t}).length;c.raw.series.forEach(function(t,e){u[e]=this.svg.elem("g",null,null)}.bind(this)),t.showLabel&&(e=this.svg.elem("g",null,null)),c.raw.series.forEach(function(s,a){if(0!==c.normalized.series[a]||!t.ignoreEmptyValues){u[a].attr({"ct:series-name":s.name}),u[a].addClass([t.classNames.series,s.className||t.classNames.series+"-"+i.alphaNumerate(a)].join(" "));var m=l>0?h+c.normalized.series[a]/l*360:0,g=Math.max(0,h-(0===a||f?0:.2));m-g>=359.99&&(m=g+359.99);var v=i.polarToCartesian(p.x,p.y,r,g),x=i.polarToCartesian(p.x,p.y,r,m),y=new i.Svg.Path((!t.donut)).move(x.x,x.y).arc(r,r,0,m-h>180,0,v.x,v.y);t.donut||y.line(p.x,p.y);var b=u[a].elem("path",{d:y.stringify()},t.donut?t.classNames.sliceDonut:t.classNames.slicePie);if(b.attr({"ct:value":c.normalized.series[a],"ct:meta":i.serialize(s.meta)}),t.donut&&b.attr({style:"stroke-width: "+d.value+"px"}),this.eventEmitter.emit("draw",{type:"slice",value:c.normalized.series[a],totalDataSum:l,index:a,meta:s.meta,series:s,group:u[a],element:b,path:y.clone(),center:p,radius:r,startAngle:h,endAngle:m}),t.showLabel){var w;w=1===c.raw.series.length?{x:p.x,y:p.y}:i.polarToCartesian(p.x,p.y,o,h+(m-h)/2);var E;E=c.normalized.labels&&!i.isFalseyButZero(c.normalized.labels[a])?c.normalized.labels[a]:c.normalized.series[a];var A=t.labelInterpolationFnc(E,a);if(A||0===A){var S=e.elem("text",{dx:w.x,dy:w.y,"text-anchor":n(p,w,t.labelDirection)},t.classNames.label).text(""+A);this.eventEmitter.emit("draw",{type:"label",index:a,group:e,element:S,text:""+A,x:w.x,y:w.y})}}h=m}}.bind(this)),this.eventEmitter.emit("created",{chartRect:s,svg:this.svg,options:t})}function r(t,e,n,s){i.Pie["super"].constructor.call(this,t,e,a,i.extend({},a,n),s)}var a={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:i.noop,labelDirection:"neutral",reverseData:!1,ignoreEmptyValues:!1};i.Pie=i.Base.extend({constructor:r,createChart:s,determineAnchorPosition:n})}(window,document,t),t}),!function(t,e){"function"==typeof define&&define.amd?define(["chartist"],function(i){return t.returnExportsGlobal=e(i)}):"object"==typeof exports?module.exports=e(require("chartist")):t["Chartist.plugins.tooltips"]=e(Chartist)}(this,function(t){return function(t,e,i){"use strict";function n(t){r(t,"tooltip-show")||(t.className=t.className+" tooltip-show")}function s(t){var e=new RegExp("tooltip-show\\s*","gi");t.className=t.className.replace(e,"").trim()}function r(t,e){return(" "+t.getAttribute("class")+" ").indexOf(" "+e+" ")>-1}function a(t,e){do t=t.nextSibling;while(t&&!r(t,e));return t}function o(t){return t.innerText||t.textContent}var l={currency:void 0,currencyFormatCallback:void 0,tooltipOffset:{x:0,y:-20},anchorToPoint:!1,appendToBody:!1,"class":void 0,pointClass:"ct-point"};i.plugins=i.plugins||{},i.plugins.tooltip=function(c){return c=i.extend({},l,c),function(l){function u(t,e,i){p.addEventListener(t,function(t){e&&!r(t.target,e)||i(t)})}function h(e){m=m||f.offsetHeight,g=g||f.offsetWidth;var i,n,s=-g/2+c.tooltipOffset.x,r=-m+c.tooltipOffset.y;if(c.appendToBody)f.style.top=e.pageY+r+"px",f.style.left=e.pageX+s+"px";else{var a=p.getBoundingClientRect(),o=e.pageX-a.left-t.pageXOffset,l=e.pageY-a.top-t.pageYOffset;!0===c.anchorToPoint&&e.target.x2&&e.target.y2&&(i=parseInt(e.target.x2.baseVal.value),n=parseInt(e.target.y2.baseVal.value)),f.style.top=(n||l)+r+"px",f.style.left=(i||o)+s+"px"}}var d=c.pointClass;l instanceof i.Bar?d="ct-bar":l instanceof i.Pie&&(d=l.options.donut?"ct-slice-donut":"ct-slice-pie");var p=l.container,f=p.querySelector(".chartist-tooltip");f||(f=e.createElement("div"),f.className=c["class"]?"chartist-tooltip "+c["class"]:"chartist-tooltip",c.appendToBody?e.body.appendChild(f):p.appendChild(f));var m=f.offsetHeight,g=f.offsetWidth;s(f),u("mouseover",d,function(t){var s=t.target,r="",u=l instanceof i.Pie?s:s.parentNode,d=u?s.parentNode.getAttribute("ct:meta")||s.parentNode.getAttribute("ct:series-name"):"",p=s.getAttribute("ct:meta")||d||"",v=!!p,x=s.getAttribute("ct:value");if(c.transformTooltipTextFnc&&"function"==typeof c.transformTooltipTextFnc&&(x=c.transformTooltipTextFnc(x)),c.tooltipFnc&&"function"==typeof c.tooltipFnc)r=c.tooltipFnc(p,x);else{if(c.metaIsHTML){var y=e.createElement("textarea");y.innerHTML=p,p=y.value}if(p='<span class="chartist-tooltip-meta">'+p+"</span>",v)r+=p+"<br>";else if(l instanceof i.Pie){var b=a(s,"ct-label");b&&(r+=o(b)+"<br>")}x&&(c.currency&&(x=void 0!=c.currencyFormatCallback?c.currencyFormatCallback(x,c):c.currency+x.replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,")),x='<span class="chartist-tooltip-value">'+x+"</span>",r+=x)}r&&(f.innerHTML=r,h(t),n(f),m=f.offsetHeight,g=f.offsetWidth)}),u("mouseout",d,function(){s(f)}),u("mousemove",null,function(t){!1===c.anchorToPoint&&h(t)})}}}(window,document,t),t.plugins.tooltips});
!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports&&"function"==typeof require?require("jquery"):jQuery)}(function(t,e){function i(e,i){this._name=s,this.el=e,this.$el=t(e),this.$el.prop("multiple")||(this.settings=t.extend({},o,i,this.$el.data()),this._defaults=o,this.$options=this.$el.find("option, optgroup"),this.init(),t.fn[s].instances.push(this))}var s="comboSelect",n="comboselect",o={comboClass:"combo-select",comboArrowClass:"combo-arrow",comboDropDownClass:"combo-dropdown",inputClass:"combo-input text-input",disabledClass:"option-disabled",hoverClass:"option-hover",selectedClass:"option-selected",markerClass:"combo-marker",themeClass:"",maxHeight:200,extendStyle:!0,focusInput:!0},r={ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40,ENTER:13,SHIFT:16},l=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase());t.extend(i.prototype,{init:function(){this._construct(),this._events()},_construct:function(){this.$el.data("plugin_"+n+"_tabindex",this.$el.prop("tabindex")),!l&&this.$el.prop("tabIndex",-1),this.$container=this.$el.wrapAll('<div class="'+this.settings.comboClass+" "+this.settings.themeClass+'" />').parent(),this.settings.extendStyle&&this.$el.attr("style")&&this.$container.attr("style",this.$el.attr("style")),this.$arrow=t('<div class="'+this.settings.comboArrowClass+'" />').appendTo(this.$container),this.$dropdown=t('<ul class="'+this.settings.comboDropDownClass+'" />').appendTo(this.$container),this._build(),this.$input=t('<input type="text"'+(l?'tabindex="-1"':"")+' placeholder="'+this.getPlaceholder()+'" class="'+this.settings.inputClass+'">').appendTo(this.$container),this._updateInput()},getPlaceholder:function(){var t="";return this.$options.filter(function(t,e){return"OPTION"==e.nodeName}).each(function(e,i){""==i.value&&(t=i.innerHTML)}),t},_build:function(){var t=this,e="",i=0;this.$options.each(function(s,n){return"optgroup"==n.nodeName.toLowerCase()?e+='<li class="option-group">'+this.label+"</li>":(e+='<li class="'+(this.disabled?t.settings.disabledClass:"option-item")+" "+(i==t.$el.prop("selectedIndex")?t.settings.selectedClass:"")+'" data-index="'+i+'" data-value="'+this.value+'">'+this.innerHTML+"</li>",void i++)}),this.$dropdown.html(e),this.$items=this.$dropdown.children()},_events:function(){this.$container.on("focus.input","input",t.proxy(this._focus,this)),this.$container.on("mouseup.input","input",function(t){t.preventDefault()}),this.$container.on("blur.input","input",t.proxy(this._blur,this)),this.$el.on("change.select",t.proxy(this._change,this)),this.$el.on("focus.select",t.proxy(this._focus,this)),this.$el.on("blur.select",t.proxy(this._blurSelect,this)),this.$container.on("click.arrow","."+this.settings.comboArrowClass,t.proxy(this._toggle,this)),this.$container.on("comboselect:close",t.proxy(this._close,this)),this.$container.on("comboselect:open",t.proxy(this._open,this)),this.$container.on("comboselect:update",t.proxy(this._update,this)),t("html").off("click.comboselect").on("click.comboselect",function(){t.each(t.fn[s].instances,function(t,e){e.$container.trigger("comboselect:close")})}),this.$container.on("click.comboselect",function(t){t.stopPropagation()}),this.$container.on("keydown","input",t.proxy(this._keydown,this)),this.$container.on("keyup","input",t.proxy(this._keyup,this)),this.$container.on("http://the-radio.ru/min/click.item",".option-item",t.proxy(this._select,this))},_keydown:function(t){switch(t.which){case r.UP:this._move("up",t);break;case r.DOWN:this._move("down",t);break;case r.TAB:this._enter(t);break;case r.RIGHT:this._autofill(t);break;case r.ENTER:this._enter(t)}},_keyup:function(t){switch(t.which){case r.ESC:this.$container.trigger("comboselect:close");break;case r.ENTER:case r.UP:case r.DOWN:case r.LEFT:case r.RIGHT:case r.TAB:case r.SHIFT:break;default:this._filter(t.target.value)}},_enter:function(t){var e=this._getHovered();if(e.length&&this._select(e),t&&t.which==r.ENTER){if(!e.length)return this._blur(),!0;t.preventDefault()}},_move:function(t){var e=this._getVisible(),i=this._getHovered(),s=i.prevAll(".option-item").filter(":visible").length,n=e.length;switch(t){case"up":s--,s<0&&(s=n-1);break;case"down":s++,s>=n&&(s=0)}e.removeClass(this.settings.hoverClass).eq(s).addClass(this.settings.hoverClass),this.opened||this.$container.trigger("comboselect:open"),this._fixScroll()},_select:function(e){var i=t(e.currentTarget?e.currentTarget:e);if(i.length){var s=i.data("index");this._selectByIndex(s),this.$input.focus(),this.$container.trigger("comboselect:close")}},_selectByIndex:function(t){"undefined"==typeof t&&(t=0),this.$el.prop("selectedIndex")!=t&&this.$el.prop("selectedIndex",t).trigger("change")},_autofill:function(){var t=this._getHovered();if(t.length){var e=t.data("index");this._selectByIndex(e)}},_filter:function(e){var i=this,s=this._getAll();needle=t.trim(e).toLowerCase(),reEscape=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\"].join("|\\")+")","g"),pattern="("+e.replace(reEscape,"\\$1")+")",t("."+i.settings.markerClass,s).contents().unwrap(),needle?(this.$items.filter(".option-group, .option-disabled").hide(),s.hide().filter(function(){var e=t(this),s=t.trim(e.text()).toLowerCase();if(s.toString().indexOf(needle)!=-1)return e.html(function(t,e){return e.replace(new RegExp(pattern,"gi"),'<span class="'+i.settings.markerClass+'">$1</span>')}),!0}).show()):this.$items.show(),this.$container.trigger("comboselect:open")},_highlight:function(){var t=this._getVisible().removeClass(this.settings.hoverClass),e=t.filter("."+this.settings.selectedClass);e.length?e.addClass(this.settings.hoverClass):t.removeClass(this.settings.hoverClass).first().addClass(this.settings.hoverClass)},_updateInput:function(){var e=this.$el.prop("selectedIndex");return this.$el.val()?(text=this.$el.find("option").eq(e).html(),this.$input.val(text)):this.$input.val(""),this._getAll().removeClass(this.settings.selectedClass).filter(function(){return t(this).data("index")==e}).addClass(this.settings.selectedClass)},_blurSelect:function(){this.$container.removeClass("combo-focus")},_focus:function(t){this.$container.toggleClass("combo-focus",!this.opened),l||(this.opened||this.$container.trigger("comboselect:open"),this.settings.focusInput&&t&&t.currentTarget&&"INPUT"==t.currentTarget.nodeName&&t.currentTarget.select())},_blur:function(){var e=t.trim(this.$input.val().toLowerCase()),i=!isNaN(e),s=this.$options.filter(function(){return i?parseInt(t.trim(this.innerHTML).toLowerCase())==e:t.trim(this.innerHTML).toLowerCase()==e}).prop("index");this._selectByIndex(s)},_change:function(){this._updateInput()},_getAll:function(){return this.$items.filter(".option-item")},_getVisible:function(){return this.$items.filter(".option-item").filter(":visible")},_getHovered:function(){return this._getVisible().filter("."+this.settings.hoverClass)},_open:function(){var e=this;this.$container.addClass("combo-open"),this.opened=!0,this.settings.focusInput&&setTimeout(function(){!e.$input.is(":focus")&&e.$input.focus()}),this._highlight(),this._fixScroll(),t.each(t.fn[s].instances,function(t,i){i!=e&&i.opened&&i.$container.trigger("comboselect:close")})},_toggle:function(){this.opened?this._close.call(this):this._open.call(this)},_close:function(){this.$container.removeClass("combo-open combo-focus"),this.$container.trigger("comboselect:closed"),this.opened=!1,this.$items.show()},_fixScroll:function(){if(!this.$dropdown.is(":hidden")){var t=this._getHovered();if(t.length){var e,i,s,n=t.outerHeight();e=t[0].offsetTop,i=this.$dropdown.scrollTop(),s=i+this.settings.maxHeight-n,e<i?this.$dropdown.scrollTop(e):e>s&&this.$dropdown.scrollTop(e-this.settings.maxHeight+n)}}},_update:function(){this.$options=this.$el.find("option, optgroup"),this.$dropdown.empty(),this._build()},dispose:function(){this.$arrow.remove(),this.$input.remove(),this.$dropdown.remove(),this.$el.removeAttr("tabindex"),this.$el.data("plugin_"+n+"_tabindex")&&this.$el.prop("tabindex",this.$el.data("plugin_"+n+"_tabindex")),this.$el.unwrap(),this.$el.removeData("plugin_"+n),this.$el.removeData("plugin_"+n+"_tabindex"),this.$el.off("change.select focus.select blur.select")}}),t.fn[s]=function(e,s){return this.each(function(){var o=t(this),r=o.data("plugin_"+n);"string"==typeof e?r&&"function"==typeof r[e]&&r[e](s):(r&&r.dispose&&r.dispose(),t.data(this,"plugin_"+n,new i(this,e)))}),this},t.fn[s].instances=[]});
!function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():t.Headhesive=e()}(this,function(){"use strict";var t=function(e,s){for(var o in s)s.hasOwnProperty(o)&&(e[o]="object"==typeof s[o]?t(e[o],s[o]):s[o]);return e},e=function(t,e){var s,o,i,n=Date.now||function(){return(new Date).getTime()},l=null,c=0,r=function(){c=n(),l=null,i=t.apply(s,o),s=o=null};return function(){var f=n(),h=e-(f-c);return s=this,o=arguments,0>=h?(clearTimeout(l),l=null,c=f,i=t.apply(s,o),s=o=null):l||(l=setTimeout(r,h)),i}},s=function(){return void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop},o=function(t,e){for(var s=0,o=t.offsetHeight;t;)s+=t.offsetTop,t=t.offsetParent;return"bottom"===e&&(s+=o),s},i=function(e,s){"querySelector"in document&&"addEventListener"in window&&(this.visible=!1,this.options={offset:300,offsetSide:"top",classes:{clone:"headhesive",stick:"headhesive--stick",unstick:"headhesive--unstick"},throttle:250,onInit:function(){},onStick:function(){},onUnstick:function(){},onDestroy:function(){}},this.elem="string"==typeof e?document.querySelector(e):e,this.options=t(this.options,s),this.init())};return i.prototype={constructor:i,init:function(){if(this.clonedElem=this.elem.cloneNode(!0),this.clonedElem.className+=" "+this.options.classes.clone,document.body.insertBefore(this.clonedElem,document.body.firstChild),"number"==typeof this.options.offset)this.scrollOffset=this.options.offset;else{if("string"!=typeof this.options.offset)throw new Error("Invalid offset: "+this.options.offset);this._setScrollOffset()}this._throttleUpdate=e(this.update.bind(this),this.options.throttle),this._throttleScrollOffset=e(this._setScrollOffset.bind(this),this.options.throttle),window.addEventListener("scroll",this._throttleUpdate,!1),window.addEventListener("resize",this._throttleScrollOffset,!1),this.options.onInit.call(this)},_setScrollOffset:function(){"string"==typeof this.options.offset&&(this.scrollOffset=o(document.querySelector(this.options.offset),this.options.offsetSide))},destroy:function(){document.body.removeChild(this.clonedElem),window.removeEventListener("scroll",this._throttleUpdate),window.removeEventListener("resize",this._throttleScrollOffset),this.options.onDestroy.call(this)},stick:function(){this.visible||(this.clonedElem.className=this.clonedElem.className.replace(new RegExp("(^|\\s)*"+this.options.classes.unstick+"(\\s|$)*","g"),""),this.clonedElem.className+=" "+this.options.classes.stick,this.visible=!0,this.options.onStick.call(this))},unstick:function(){this.visible&&(this.clonedElem.className=this.clonedElem.className.replace(new RegExp("(^|\\s)*"+this.options.classes.stick+"(\\s|$)*","g"),""),this.clonedElem.className+=" "+this.options.classes.unstick,this.visible=!1,this.options.onUnstick.call(this))},update:function(){s()>this.scrollOffset?this.stick():this.unstick()}},i});
!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):t.jQuery?t.jQuery:t.Zepto)}(this,function(t,e){t.fn.jPlayer=function(s){var i="jPlayer",a="string"==typeof s,o=Array.prototype.slice.call(arguments,1),r=this;return s=!a&&o.length?t.extend.apply(null,[!0,s].concat(o)):s,a&&"_"===s.charAt(0)?r:(this.each(a?function(){var a=t(this).data(i),n=a&&t.isFunction(a[s])?a[s].apply(a,o):a;return n!==a&&n!==e?(r=n,!1):void 0}:function(){var e=t(this).data(i);e?e.option(s||{}):t(this).data(i,new t.jPlayer(s,this))}),r)},t.jPlayer=function(e,s){if(arguments.length){this.element=t(s),this.options=t.extend(!0,{},this.options,e);var i=this;this.element.bind("remove.jPlayer",function(){i.destroy()}),this._init()}},"function"!=typeof t.fn.stop&&(t.fn.stop=function(){}),t.jPlayer.emulateMethods="load play pause",t.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate",t.jPlayer.emulateOptions="muted volume",t.jPlayer.reservedEvent="ready flashreset resize repeat error warning",t.jPlayer.event={},t.each(["ready","setmedia","flashreset","resize","repeat","click","error","warning","loadstart","progress","suspend","abort","emptied","stalled","play","pause","loadedmetadata","loadeddata","waiting","playing","canplay","canplaythrough","seeking","seeked","timeupdate","ended","ratechange","durationchange","volumechange"],function(){t.jPlayer.event[this]="jPlayer_"+this}),t.jPlayer.htmlEvent=["loadstart","abort","emptied","stalled","loadedmetadata","canplay","canplaythrough"],t.jPlayer.pause=function(){t.jPlayer.prototype.destroyRemoved(),t.each(t.jPlayer.prototype.instances,function(t,e){e.data("jPlayer").status.srcSet&&e.jPlayer("pause")})},t.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""};var s=function(){this.init()};s.prototype={init:function(){this.options={timeFormat:t.jPlayer.timeFormat}},time:function(t){t=t&&"number"==typeof t?t:0;var e=new Date(1e3*t),s=e.getUTCHours(),i=this.options.timeFormat.showHour?e.getUTCMinutes():e.getUTCMinutes()+60*s,a=this.options.timeFormat.showMin?e.getUTCSeconds():e.getUTCSeconds()+60*i,o=this.options.timeFormat.padHour&&10>s?"0"+s:s,r=this.options.timeFormat.padMin&&10>i?"0"+i:i,n=this.options.timeFormat.padSec&&10>a?"0"+a:a,l="";return l+=this.options.timeFormat.showHour?o+this.options.timeFormat.sepHour:"",l+=this.options.timeFormat.showMin?r+this.options.timeFormat.sepMin:"",l+=this.options.timeFormat.showSec?n+this.options.timeFormat.sepSec:""}};var i=new s;t.jPlayer.convertTime=function(t){return i.time(t)},t.jPlayer.uaBrowser=function(t){var e=t.toLowerCase(),s=/(webkit)[ \/]([\w.]+)/,i=/(opera)(?:.*version)?[ \/]([\w.]+)/,a=/(msie) ([\w.]+)/,o=/(mozilla)(?:.*? rv:([\w.]+))?/,r=s.exec(e)||i.exec(e)||a.exec(e)||e.indexOf("compatible")<0&&o.exec(e)||[];return{browser:r[1]||"",version:r[2]||"0"}},t.jPlayer.uaPlatform=function(t){var e=t.toLowerCase(),s=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/,i=/(ipad|playbook)/,a=/(android)/,o=/(mobile)/,r=s.exec(e)||[],n=i.exec(e)||!o.exec(e)&&a.exec(e)||[];return r[1]&&(r[1]=r[1].replace(/\s/g,"_")),{platform:r[1]||"",tablet:n[1]||""}},t.jPlayer.browser={},t.jPlayer.platform={};var a=t.jPlayer.uaBrowser(navigator.userAgent);a.browser&&(t.jPlayer.browser[a.browser]=!0,t.jPlayer.browser.version=a.version);var o=t.jPlayer.uaPlatform(navigator.userAgent);o.platform&&(t.jPlayer.platform[o.platform]=!0,t.jPlayer.platform.mobile=!o.tablet,t.jPlayer.platform.tablet=!!o.tablet),t.jPlayer.getDocMode=function(){var e;return t.jPlayer.browser.msie&&(document.documentMode?e=document.documentMode:(e=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(e=7))),e},t.jPlayer.browser.documentMode=t.jPlayer.getDocMode(),t.jPlayer.nativeFeatures={init:function(){var t,e,s,i=document,a=i.createElement("video"),o={w3c:["fullscreenEnabled","fullscreenElement","requestFullscreen","exitFullscreen","fullscreenchange","fullscreenerror"],moz:["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],webkit:["","webkitCurrentFullScreenElement","webkitRequestFullScreen","webkitCancelFullScreen","webkitfullscreenchange",""],webkitVideo:["webkitSupportsFullscreen","webkitDisplayingFullscreen","webkitEnterFullscreen","webkitExitFullscreen","",""],ms:["","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError"]},r=["w3c","moz","webkit","webkitVideo","ms"];for(this.fullscreen=t={support:{w3c:!!i[o.w3c[0]],moz:!!i[o.moz[0]],webkit:"function"==typeof i[o.webkit[3]],webkitVideo:"function"==typeof a[o.webkitVideo[2]],ms:"function"==typeof a[o.ms[2]]},used:{}},e=0,s=r.length;s>e;e++){var n=r[e];if(t.support[n]){t.spec=n,t.used[n]=!0;break}}if(t.spec){var l=o[t.spec];t.api={fullscreenEnabled:!0,fullscreenElement:function(t){return t=t?t:i,t[l[1]]},requestFullscreen:function(t){return t[l[2]]()},exitFullscreen:function(t){return t=t?t:i,t[l[3]]()}},t.event={fullscreenchange:l[4],fullscreenerror:l[5]}}else t.api={fullscreenEnabled:!1,fullscreenElement:function(){return null},requestFullscreen:function(){},exitFullscreen:function(){}},t.event={}}},t.jPlayer.nativeFeatures.init(),t.jPlayer.focus=null,t.jPlayer.keyIgnoreElementNames="A INPUT TEXTAREA SELECT BUTTON";var r=function(e){var s,i=t.jPlayer.focus;i&&(t.each(t.jPlayer.keyIgnoreElementNames.split(/\s+/g),function(t,i){return e.target.nodeName.toUpperCase()===i.toUpperCase()?(s=!0,!1):void 0}),s||t.each(i.options.keyBindings,function(s,a){return a&&t.isFunction(a.fn)&&("number"==typeof a.key&&e.which===a.key||"string"==typeof a.key&&e.key===a.key)?(e.preventDefault(),a.fn(i),!1):void 0}))};t.jPlayer.keys=function(e){var s="keydown.jPlayer";t(document.documentElement).unbind(s),e&&t(document.documentElement).bind(s,r)},t.jPlayer.keys(!0),t.jPlayer.prototype={count:0,version:{script:"2.9.2",needFlash:"2.9.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",auroraFormats:"wav",preload:"metadata",volume:.8,muted:!1,remainingDuration:!1,toggleDuration:!1,captureDuration:!0,playbackRate:1,defaultPlaybackRate:1,minPlaybackRate:.5,maxPlaybackRate:4,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",playbackRateBar:".jp-playback-rate-bar",playbackRateBarValue:".jp-playback-rate-bar-value",currentTime:".jp-current-time",duration:".jp-duration",title:".jp-title",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},stateClass:{playing:"jp-state-playing",seeking:"jp-state-seeking",muted:"jp-state-muted",looped:"jp-state-looped",fullScreen:"jp-state-full-screen",noVolume:"jp-state-no-volume"},useStateClassSkin:!1,autoBlur:!0,smoothPlayBar:!1,fullScreen:!1,fullWindow:!1,autohide:{restored:!1,full:!0,fadeIn:200,fadeOut:600,hold:1e3},loop:!1,repeat:function(e){e.jPlayer.options.loop?t(this).unbind(".jPlayerRepeat").bind(t.jPlayer.event.ended+".jPlayer.jPlayerRepeat",function(){t(this).jPlayer("play")}):t(this).unbind(".jPlayerRepeat")},nativeVideoControls:{},noFullWindow:{msie:/msie [0-6]\./,ipad:/ipad.*?os [0-4]\./,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3]\.(?!.*?mobile)/,android_phone:/(?=.*android)(?!.*chrome)(?=.*mobile)/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/,playbook:/playbook/},timeFormat:{},keyEnabled:!1,audioFullScreen:!1,keyBindings:{play:{key:80,fn:function(t){t.status.paused?t.play():t.pause()}},fullScreen:{key:70,fn:function(t){(t.status.video||t.options.audioFullScreen)&&t._setOption("fullScreen",!t.options.fullScreen)}},muted:{key:77,fn:function(t){t._muted(!t.options.muted)}},volumeUp:{key:190,fn:function(t){t.volume(t.options.volume+.1)}},volumeDown:{key:188,fn:function(t){t.volume(t.options.volume-.1)}},loop:{key:76,fn:function(t){t._loop(!t.options.loop)}}},verticalVolume:!1,verticalPlaybackRate:!1,globalVolume:!1,idPrefix:"jp",noConflict:"jQuery",emulateHtml:!1,consoleAlerts:!0,errorAlerts:!1,warningAlerts:!1},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,remaining:0,videoWidth:0,videoHeight:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:!1},solution:{html:!0,aurora:!0,flash:!0},format:{mp3:{codec:"audio/mpeg",flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:!0,media:"audio"},m3u8a:{codec:'application/vnd.apple.mpegurl; codecs="mp4a.40.2"',flashCanPlay:!1,media:"audio"},m3ua:{codec:"audio/mpegurl",flashCanPlay:!1,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis, opus"',flashCanPlay:!1,media:"audio"},flac:{codec:"audio/x-flac",flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},m3u8v:{codec:'application/vnd.apple.mpegurl; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!1,media:"video"},m3uv:{codec:"audio/mpegurl",flashCanPlay:!1,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"video"}},_init:function(){var s=this;if(this.element.empty(),this.status=t.extend({},this.status),this.internal=t.extend({},this.internal),this.options.timeFormat=t.extend({},t.jPlayer.timeFormat,this.options.timeFormat),this.internal.cmdsIgnored=t.jPlayer.platform.ipad||t.jPlayer.platform.iphone||t.jPlayer.platform.ipod,this.internal.domNode=this.element.get(0),this.options.keyEnabled&&!t.jPlayer.focus&&(t.jPlayer.focus=this),this.androidFix={setMedia:!1,play:!1,pause:!1,time:NaN},t.jPlayer.platform.android&&(this.options.preload="auto"!==this.options.preload?"metadata":"auto"),this.formats=[],this.solutions=[],this.require={},this.htmlElement={},this.html={},this.html.audio={},this.html.video={},this.aurora={},this.aurora.formats=[],this.aurora.properties=[],this.flash={},this.css={},this.css.cs={},this.css.jq={},this.ancestorJq=[],this.options.volume=this._limitValue(this.options.volume,0,1),t.each(this.options.supplied.toLowerCase().split(","),function(e,i){var a=i.replace(/^\s+|\s+$/g,"");if(s.format[a]){var o=!1;t.each(s.formats,function(t,e){return a===e?(o=!0,!1):void 0}),o||s.formats.push(a)}}),t.each(this.options.solution.toLowerCase().split(","),function(e,i){var a=i.replace(/^\s+|\s+$/g,"");if(s.solution[a]){var o=!1;t.each(s.solutions,function(t,e){return a===e?(o=!0,!1):void 0}),o||s.solutions.push(a)}}),t.each(this.options.auroraFormats.toLowerCase().split(","),function(e,i){var a=i.replace(/^\s+|\s+$/g,"");if(s.format[a]){var o=!1;t.each(s.aurora.formats,function(t,e){return a===e?(o=!0,!1):void 0}),o||s.aurora.formats.push(a)}}),this.internal.instance="jp_"+this.count,this.instances[this.internal.instance]=this.element,this.element.attr("id")||this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count),this.internal.self=t.extend({},{id:this.element.attr("id"),jq:this.element}),this.internal.audio=t.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:e}),this.internal.video=t.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:e}),this.internal.flash=t.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:e,swf:this.options.swfPath+(".swf"!==this.options.swfPath.toLowerCase().slice(-4)?(this.options.swfPath&&"/"!==this.options.swfPath.slice(-1)?"/":"")+"jquery.jplayer.swf":"")}),this.internal.poster=t.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:e}),t.each(t.jPlayer.event,function(t,i){s.options[t]!==e&&(s.element.bind(i+".jPlayer",s.options[t]),s.options[t]=e)}),this.require.audio=!1,this.require.video=!1,t.each(this.formats,function(t,e){s.require[s.format[e].media]=!0}),this.options=this.require.video?t.extend(!0,{},this.optionsVideo,this.options):t.extend(!0,{},this.optionsAudio,this.options),this._setSize(),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this.status.noVolume=this._uaBlocklist(this.options.noVolume),t.jPlayer.nativeFeatures.fullscreen.api.fullscreenEnabled&&this._fullscreenAddEventListeners(),this._restrictNativeVideoControls(),this.htmlElement.poster=document.createElement("img"),this.htmlElement.poster.id=this.internal.poster.id,this.htmlElement.poster.onload=function(){(!s.status.video||s.status.waitForPlay)&&s.internal.poster.jq.show()},this.element.append(this.htmlElement.poster),this.internal.poster.jq=t("#"+this.internal.poster.id),this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),this.internal.poster.jq.hide(),this.internal.poster.jq.bind("click.jPlayer",function(){s._trigger(t.jPlayer.event.click)}),this.html.audio.available=!1,this.require.audio&&(this.htmlElement.audio=document.createElement("audio"),this.htmlElement.audio.id=this.internal.audio.id,this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio)),this.html.video.available=!1,this.require.video&&(this.htmlElement.video=document.createElement("video"),this.htmlElement.video.id=this.internal.video.id,this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video)),this.flash.available=this._checkForFlash(10.1),this.html.canPlay={},this.aurora.canPlay={},this.flash.canPlay={},t.each(this.formats,function(e,i){s.html.canPlay[i]=s.html[s.format[i].media].available&&""!==s.htmlElement[s.format[i].media].canPlayType(s.format[i].codec),s.aurora.canPlay[i]=t.inArray(i,s.aurora.formats)>-1,s.flash.canPlay[i]=s.format[i].flashCanPlay&&s.flash.available}),this.html.desired=!1,this.aurora.desired=!1,this.flash.desired=!1,t.each(this.solutions,function(e,i){if(0===e)s[i].desired=!0;else{var a=!1,o=!1;t.each(s.formats,function(t,e){s[s.solutions[0]].canPlay[e]&&("video"===s.format[e].media?o=!0:a=!0)}),s[i].desired=s.require.audio&&!a||s.require.video&&!o}}),this.html.support={},this.aurora.support={},this.flash.support={},t.each(this.formats,function(t,e){s.html.support[e]=s.html.canPlay[e]&&s.html.desired,s.aurora.support[e]=s.aurora.canPlay[e]&&s.aurora.desired,s.flash.support[e]=s.flash.canPlay[e]&&s.flash.desired}),this.html.used=!1,this.aurora.used=!1,this.flash.used=!1,t.each(this.solutions,function(e,i){t.each(s.formats,function(t,e){return s[i].support[e]?(s[i].used=!0,!1):void 0})}),this._resetActive(),this._resetGate(),this._cssSelectorAncestor(this.options.cssSelectorAncestor),this.html.used||this.aurora.used||this.flash.used?this.css.jq.noSolution.length&&this.css.jq.noSolution.hide():(this._error({type:t.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:t.jPlayer.errorMsg.NO_SOLUTION,hint:t.jPlayer.errorHint.NO_SOLUTION}),this.css.jq.noSolution.length&&this.css.jq.noSolution.show()),this.flash.used){var i,a="jQuery="+encodeURI(this.options.noConflict)+"&id="+encodeURI(this.internal.self.id)+"&vol="+this.options.volume+"&muted="+this.options.muted;if(t.jPlayer.browser.msie&&(Number(t.jPlayer.browser.version)<9||t.jPlayer.browser.documentMode<9)){var o='<object id="'+this.internal.flash.id+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0" tabindex="-1"></object>',r=['<param name="movie" value="'+this.internal.flash.swf+'" />','<param name="FlashVars" value="'+a+'" />','<param name="allowScriptAccess" value="always" />','<param name="bgcolor" value="'+this.options.backgroundColor+'" />','<param name="wmode" value="'+this.options.wmode+'" />'];i=document.createElement(o);for(var n=0;n<r.length;n++)i.appendChild(document.createElement(r[n]))}else{var l=function(t,e,s){var i=document.createElement("param");i.setAttribute("name",e),i.setAttribute("value",s),t.appendChild(i)};i=document.createElement("object"),i.setAttribute("id",this.internal.flash.id),i.setAttribute("name",this.internal.flash.id),i.setAttribute("data",this.internal.flash.swf),i.setAttribute("type","application/x-shockwave-flash"),i.setAttribute("width","1"),i.setAttribute("height","1"),i.setAttribute("tabindex","-1"),l(i,"flashvars",a),l(i,"allowscriptaccess","always"),l(i,"bgcolor",this.options.backgroundColor),l(i,"wmode",this.options.wmode)}this.element.append(i),this.internal.flash.jq=t(i)}this.status.playbackRateEnabled=!(!this.html.used||this.flash.used)&&this._testPlaybackRate("audio"),this._updatePlaybackRate(),this.html.used&&(this.html.audio.available&&(this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio),this.element.append(this.htmlElement.audio),this.internal.audio.jq=t("#"+this.internal.audio.id)),this.html.video.available&&(this._addHtmlEventListeners(this.htmlElement.video,this.html.video),this.element.append(this.htmlElement.video),this.internal.video.jq=t("#"+this.internal.video.id),this.internal.video.jq.css(this.status.nativeVideoControls?{width:this.status.width,height:this.status.height}:{width:"0px",height:"0px"}),this.internal.video.jq.bind("click.jPlayer",function(){s._trigger(t.jPlayer.event.click)}))),this.aurora.used,this.options.emulateHtml&&this._emulateHtmlBridge(),!this.html.used&&!this.aurora.used||this.flash.used||setTimeout(function(){s.internal.ready=!0,s.version.flash="n/a",s._trigger(t.jPlayer.event.repeat),s._trigger(t.jPlayer.event.ready)},100),this._updateNativeVideoControls(),this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),t.jPlayer.prototype.count++},destroy:function(){this.clearMedia(),this._removeUiClass(),this.css.jq.currentTime.length&&this.css.jq.currentTime.text(""),this.css.jq.duration.length&&this.css.jq.duration.text(""),t.each(this.css.jq,function(t,e){e.length&&e.unbind(".jPlayer")}),this.internal.poster.jq.unbind(".jPlayer"),this.internal.video.jq&&this.internal.video.jq.unbind(".jPlayer"),this._fullscreenRemoveEventListeners(),this===t.jPlayer.focus&&(t.jPlayer.focus=null),this.options.emulateHtml&&this._destroyHtmlBridge(),this.element.removeData("jPlayer"),this.element.unbind(".jPlayer"),this.element.empty(),delete this.instances[this.internal.instance]},destroyRemoved:function(){var e=this;t.each(this.instances,function(t,s){e.element!==s&&(s.data("jPlayer")||(s.jPlayer("destroy"),delete e.instances[t]))})},enable:function(){},disable:function(){},_testCanPlayType:function(t){try{return t.canPlayType(this.format.mp3.codec),!0}catch(e){return!1}},_testPlaybackRate:function(t){var e,s=.5;t="string"==typeof t?t:"audio",e=document.createElement(t);try{return"playbackRate"in e&&(e.playbackRate=s,e.playbackRate===s)}catch(i){return!1}},_uaBlocklist:function(e){var s=navigator.userAgent.toLowerCase(),i=!1;return t.each(e,function(t,e){return e&&e.test(s)?(i=!0,!1):void 0}),i},_restrictNativeVideoControls:function(){this.require.audio&&this.status.nativeVideoControls&&(this.status.nativeVideoControls=!1,this.status.noFullWindow=!0)},_updateNativeVideoControls:function(){this.html.video.available&&this.html.used&&(this.htmlElement.video.controls=this.status.nativeVideoControls,this._updateAutohide(),this.status.nativeVideoControls&&this.require.video?(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})):this.status.waitForPlay&&this.status.video&&(this.internal.poster.jq.show(),this.internal.video.jq.css({width:"0px",height:"0px"})))},_addHtmlEventListeners:function(e,s){var i=this;e.preload=this.options.preload,e.muted=this.options.muted,e.volume=this.options.volume,this.status.playbackRateEnabled&&(e.defaultPlaybackRate=this.options.defaultPlaybackRate,e.playbackRate=this.options.playbackRate),e.addEventListener("progress",function(){s.gate&&(i.internal.cmdsIgnored&&this.readyState>0&&(i.internal.cmdsIgnored=!1),i._getHtmlStatus(e),i._updateInterface(),i._trigger(t.jPlayer.event.progress))},!1),e.addEventListener("loadeddata",function(){s.gate&&(i.androidFix.setMedia=!1,i.androidFix.play&&(i.androidFix.play=!1,i.play(i.androidFix.time)),i.androidFix.pause&&(i.androidFix.pause=!1,i.pause(i.androidFix.time)),i._trigger(t.jPlayer.event.loadeddata))},!1),e.addEventListener("timeupdate",function(){s.gate&&(i._getHtmlStatus(e),i._updateInterface(),i._trigger(t.jPlayer.event.timeupdate))},!1),e.addEventListener("durationchange",function(){s.gate&&(i._getHtmlStatus(e),i._updateInterface(),i._trigger(t.jPlayer.event.durationchange))},!1),e.addEventListener("play",function(){s.gate&&(i._updateButtons(!0),i._html_checkWaitForPlay(),i._trigger(t.jPlayer.event.play))},!1),e.addEventListener("playing",function(){s.gate&&(i._updateButtons(!0),i._seeked(),i._trigger(t.jPlayer.event.playing))},!1),e.addEventListener("pause",function(){s.gate&&(i._updateButtons(!1),i._trigger(t.jPlayer.event.pause))},!1),e.addEventListener("waiting",function(){s.gate&&(i._seeking(),i._trigger(t.jPlayer.event.waiting))},!1),e.addEventListener("seeking",function(){s.gate&&(i._seeking(),i._trigger(t.jPlayer.event.seeking))},!1),e.addEventListener("seeked",function(){s.gate&&(i._seeked(),i._trigger(t.jPlayer.event.seeked))},!1),e.addEventListener("volumechange",function(){s.gate&&(i.options.volume=e.volume,i.options.muted=e.muted,i._updateMute(),i._updateVolume(),i._trigger(t.jPlayer.event.volumechange))},!1),e.addEventListener("ratechange",function(){s.gate&&(i.options.defaultPlaybackRate=e.defaultPlaybackRate,i.options.playbackRate=e.playbackRate,i._updatePlaybackRate(),i._trigger(t.jPlayer.event.ratechange))},!1),e.addEventListener("suspend",function(){s.gate&&(i._seeked(),i._trigger(t.jPlayer.event.suspend))},!1),e.addEventListener("ended",function(){s.gate&&(t.jPlayer.browser.webkit||(i.htmlElement.media.currentTime=0),i.htmlElement.media.pause(),i._updateButtons(!1),i._getHtmlStatus(e,!0),i._updateInterface(),i._trigger(t.jPlayer.event.ended))},!1),e.addEventListener("error",function(){s.gate&&(i._updateButtons(!1),i._seeked(),i.status.srcSet&&(clearTimeout(i.internal.htmlDlyCmdId),i.status.waitForLoad=!0,i.status.waitForPlay=!0,i.status.video&&!i.status.nativeVideoControls&&i.internal.video.jq.css({width:"0px",height:"0px"}),i._validString(i.status.media.poster)&&!i.status.nativeVideoControls&&i.internal.poster.jq.show(),i.css.jq.videoPlay.length&&i.css.jq.videoPlay.show(),i._error({type:t.jPlayer.error.URL,context:i.status.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL})))},!1),t.each(t.jPlayer.htmlEvent,function(a,o){e.addEventListener(this,function(){s.gate&&i._trigger(t.jPlayer.event[o])},!1)})},_addAuroraEventListeners:function(e,s){var i=this;e.volume=100*this.options.volume,e.on("progress",function(){s.gate&&(i.internal.cmdsIgnored&&this.readyState>0&&(i.internal.cmdsIgnored=!1),i._getAuroraStatus(e),i._updateInterface(),i._trigger(t.jPlayer.event.progress),e.duration>0&&i._trigger(t.jPlayer.event.timeupdate))},!1),e.on("ready",function(){s.gate&&i._trigger(t.jPlayer.event.loadeddata)},!1),e.on("duration",function(){s.gate&&(i._getAuroraStatus(e),i._updateInterface(),i._trigger(t.jPlayer.event.durationchange))},!1),e.on("end",function(){s.gate&&(i._updateButtons(!1),i._getAuroraStatus(e,!0),i._updateInterface(),i._trigger(t.jPlayer.event.ended))},!1),e.on("error",function(){s.gate&&(i._updateButtons(!1),i._seeked(),i.status.srcSet&&(i.status.waitForLoad=!0,i.status.waitForPlay=!0,i.status.video&&!i.status.nativeVideoControls&&i.internal.video.jq.css({width:"0px",height:"0px"}),i._validString(i.status.media.poster)&&!i.status.nativeVideoControls&&i.internal.poster.jq.show(),i.css.jq.videoPlay.length&&i.css.jq.videoPlay.show(),i._error({type:t.jPlayer.error.URL,context:i.status.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL})))},!1)},_getHtmlStatus:function(t,e){var s=0,i=0,a=0,o=0;isFinite(t.duration)&&(this.status.duration=t.duration),s=t.currentTime,i=this.status.duration>0?100*s/this.status.duration:0,"object"==typeof t.seekable&&t.seekable.length>0?(a=this.status.duration>0?100*t.seekable.end(t.seekable.length-1)/this.status.duration:100,o=this.status.duration>0?100*t.currentTime/t.seekable.end(t.seekable.length-1):0):(a=100,o=i),e&&(s=0,o=0,i=0),this.status.seekPercent=a,this.status.currentPercentRelative=o,this.status.currentPercentAbsolute=i,this.status.currentTime=s,this.status.remaining=this.status.duration-this.status.currentTime,this.status.videoWidth=t.videoWidth,this.status.videoHeight=t.videoHeight,this.status.readyState=t.readyState,this.status.networkState=t.networkState,this.status.playbackRate=t.playbackRate,this.status.ended=t.ended},_getAuroraStatus:function(t,e){var s=0,i=0,a=0,o=0;this.status.duration=t.duration/1e3,s=t.currentTime/1e3,i=this.status.duration>0?100*s/this.status.duration:0,t.buffered>0?(a=this.status.duration>0?t.buffered*this.status.duration/this.status.duration:100,o=this.status.duration>0?s/(t.buffered*this.status.duration):0):(a=100,o=i),e&&(s=0,o=0,i=0),this.status.seekPercent=a,this.status.currentPercentRelative=o,this.status.currentPercentAbsolute=i,this.status.currentTime=s,this.status.remaining=this.status.duration-this.status.currentTime,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_resetStatus:function(){this.status=t.extend({},this.status,t.jPlayer.prototype.status)},_trigger:function(e,s,i){var a=t.Event(e);a.jPlayer={},a.jPlayer.version=t.extend({},this.version),a.jPlayer.options=t.extend(!0,{},this.options),a.jPlayer.status=t.extend(!0,{},this.status),a.jPlayer.html=t.extend(!0,{},this.html),a.jPlayer.aurora=t.extend(!0,{},this.aurora),a.jPlayer.flash=t.extend(!0,{},this.flash),s&&(a.jPlayer.error=t.extend({},s)),i&&(a.jPlayer.warning=t.extend({},i)),this.element.trigger(a)},jPlayerFlashEvent:function(e,s){if(e===t.jPlayer.event.ready)if(this.internal.ready){if(this.flash.gate){if(this.status.srcSet){var i=this.status.currentTime,a=this.status.paused;this.setMedia(this.status.media),this.volumeWorker(this.options.volume),i>0&&(a?this.pause(i):this.play(i))}this._trigger(t.jPlayer.event.flashreset)}}else this.internal.ready=!0,this.internal.flash.jq.css({width:"0px",height:"0px"}),this.version.flash=s.version,this.version.needFlash!==this.version.flash&&this._error({type:t.jPlayer.error.VERSION,context:this.version.flash,message:t.jPlayer.errorMsg.VERSION+this.version.flash,hint:t.jPlayer.errorHint.VERSION}),this._trigger(t.jPlayer.event.repeat),this._trigger(e);if(this.flash.gate)switch(e){case t.jPlayer.event.progress:this._getFlashStatus(s),this._updateInterface(),this._trigger(e);break;case t.jPlayer.event.timeupdate:this._getFlashStatus(s),this._updateInterface(),this._trigger(e);break;case t.jPlayer.event.play:this._seeked(),this._updateButtons(!0),this._trigger(e);break;case t.jPlayer.event.pause:this._updateButtons(!1),this._trigger(e);break;case t.jPlayer.event.ended:this._updateButtons(!1),this._trigger(e);break;case t.jPlayer.event.click:this._trigger(e);break;case t.jPlayer.event.error:this.status.waitForLoad=!0,this.status.waitForPlay=!0,this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"}),this._validString(this.status.media.poster)&&this.internal.poster.jq.show(),this.css.jq.videoPlay.length&&this.status.video&&this.css.jq.videoPlay.show(),this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media),this._updateButtons(!1),this._error({type:t.jPlayer.error.URL,context:s.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL});break;case t.jPlayer.event.seeking:this._seeking(),this._trigger(e);break;case t.jPlayer.event.seeked:this._seeked(),this._trigger(e);break;case t.jPlayer.event.ready:break;default:this._trigger(e)}return!1},_getFlashStatus:function(t){this.status.seekPercent=t.seekPercent,this.status.currentPercentRelative=t.currentPercentRelative,this.status.currentPercentAbsolute=t.currentPercentAbsolute,this.status.currentTime=t.currentTime,this.status.duration=t.duration,this.status.remaining=t.duration-t.currentTime,this.status.videoWidth=t.videoWidth,this.status.videoHeight=t.videoHeight,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_updateButtons:function(t){t===e?t=!this.status.paused:this.status.paused=!t,t?this.addStateClass("playing"):this.removeStateClass("playing"),!this.status.noFullWindow&&this.options.fullWindow?this.addStateClass("fullScreen"):this.removeStateClass("fullScreen"),this.options.loop?this.addStateClass("looped"):this.removeStateClass("looped"),this.css.jq.play.length&&this.css.jq.pause.length&&(t?(this.css.jq.play.hide(),this.css.jq.pause.show()):(this.css.jq.play.show(),this.css.jq.pause.hide())),this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length&&(this.status.noFullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.hide()):this.options.fullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.show()):(this.css.jq.fullScreen.show(),this.css.jq.restoreScreen.hide())),this.css.jq.repeat.length&&this.css.jq.repeatOff.length&&(this.options.loop?(this.css.jq.repeat.hide(),this.css.jq.repeatOff.show()):(this.css.jq.repeat.show(),this.css.jq.repeatOff.hide()))},_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%"),this.css.jq.playBar.length&&(this.options.smoothPlayBar?this.css.jq.playBar.stop().animate({width:this.status.currentPercentAbsolute+"%"},250,"linear"):this.css.jq.playBar.width(this.status.currentPercentRelative+"%"));var t="";this.css.jq.currentTime.length&&(t=this._convertTime(this.status.currentTime),t!==this.css.jq.currentTime.text()&&this.css.jq.currentTime.text(this._convertTime(this.status.currentTime)));var e="",s=this.status.duration,i=this.status.remaining;this.css.jq.duration.length&&("string"==typeof this.status.media.duration?e=this.status.media.duration:("number"==typeof this.status.media.duration&&(s=this.status.media.duration,i=s-this.status.currentTime),e=this.options.remainingDuration?(i>0?"-":"")+this._convertTime(i):this._convertTime(s)),e!==this.css.jq.duration.text()&&this.css.jq.duration.text(e))},_convertTime:s.prototype.time,_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg"),this.addStateClass("seeking")},_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg"),this.removeStateClass("seeking")},_resetGate:function(){this.html.audio.gate=!1,this.html.video.gate=!1,this.aurora.gate=!1,this.flash.gate=!1},_resetActive:function(){this.html.active=!1,this.aurora.active=!1,this.flash.active=!1},_escapeHtml:function(t){return t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")},_qualifyURL:function(t){var e=document.createElement("div");
return e.innerHTML='<a href="'+this._escapeHtml(t)+'">x</a>',e.firstChild.href},_absoluteMediaUrls:function(e){var s=this;return t.each(e,function(t,i){i&&s.format[t]&&"data:"!==i.substr(0,5)&&(e[t]=s._qualifyURL(i))}),e},addStateClass:function(t){this.ancestorJq.length&&this.ancestorJq.addClass(this.options.stateClass[t])},removeStateClass:function(t){this.ancestorJq.length&&this.ancestorJq.removeClass(this.options.stateClass[t])},setMedia:function(e){var s=this,i=!1,a=this.status.media.poster!==e.poster;this._resetMedia(),this._resetGate(),this._resetActive(),this.androidFix.setMedia=!1,this.androidFix.play=!1,this.androidFix.pause=!1,e=this._absoluteMediaUrls(e),t.each(this.formats,function(a,o){var r="video"===s.format[o].media;return t.each(s.solutions,function(a,n){if(s[n].support[o]&&s._validString(e[o])){var l="html"===n,h="aurora"===n;return r?(l?(s.html.video.gate=!0,s._html_setVideo(e),s.html.active=!0):(s.flash.gate=!0,s._flash_setVideo(e),s.flash.active=!0),s.css.jq.videoPlay.length&&s.css.jq.videoPlay.show(),s.status.video=!0):(l?(s.html.audio.gate=!0,s._html_setAudio(e),s.html.active=!0,t.jPlayer.platform.android&&(s.androidFix.setMedia=!0)):h?(s.aurora.gate=!0,s._aurora_setAudio(e),s.aurora.active=!0):(s.flash.gate=!0,s._flash_setAudio(e),s.flash.active=!0),s.css.jq.videoPlay.length&&s.css.jq.videoPlay.hide(),s.status.video=!1),i=!0,!1}}),!i&&void 0}),i?(this.status.nativeVideoControls&&this.html.video.gate||this._validString(e.poster)&&(a?this.htmlElement.poster.src=e.poster:this.internal.poster.jq.show()),"string"==typeof e.title&&(this.css.jq.title.length&&this.css.jq.title.html(e.title),this.htmlElement.audio&&this.htmlElement.audio.setAttribute("title",e.title),this.htmlElement.video&&this.htmlElement.video.setAttribute("title",e.title)),this.status.srcSet=!0,this.status.media=t.extend({},e),this._updateButtons(!1),this._updateInterface(),this._trigger(t.jPlayer.event.setmedia)):this._error({type:t.jPlayer.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:t.jPlayer.errorMsg.NO_SUPPORT,hint:t.jPlayer.errorHint.NO_SUPPORT})},_resetMedia:function(){this._resetStatus(),this._updateButtons(!1),this._updateInterface(),this._seeked(),this.internal.poster.jq.hide(),clearTimeout(this.internal.htmlDlyCmdId),this.html.active?this._html_resetMedia():this.aurora.active?this._aurora_resetMedia():this.flash.active&&this._flash_resetMedia()},clearMedia:function(){this._resetMedia(),this.html.active?this._html_clearMedia():this.aurora.active?this._aurora_clearMedia():this.flash.active&&this._flash_clearMedia(),this._resetGate(),this._resetActive()},load:function(){this.status.srcSet?this.html.active?this._html_load():this.aurora.active?this._aurora_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")},focus:function(){this.options.keyEnabled&&(t.jPlayer.focus=this)},play:function(t){var e="object"==typeof t;e&&this.options.useStateClassSkin&&!this.status.paused?this.pause(t):(t="number"==typeof t?t:NaN,this.status.srcSet?(this.focus(),this.html.active?this._html_play(t):this.aurora.active?this._aurora_play(t):this.flash.active&&this._flash_play(t)):this._urlNotSetError("play"))},videoPlay:function(){this.play()},pause:function(t){t="number"==typeof t?t:NaN,this.status.srcSet?this.html.active?this._html_pause(t):this.aurora.active?this._aurora_pause(t):this.flash.active&&this._flash_pause(t):this._urlNotSetError("pause")},tellOthers:function(e,s){var i=this,a="function"==typeof s,o=Array.prototype.slice.call(arguments);"string"==typeof e&&(a&&o.splice(1,1),t.jPlayer.prototype.destroyRemoved(),t.each(this.instances,function(){i.element!==this&&(!a||s.call(this.data("jPlayer"),i))&&this.jPlayer.apply(this,o)}))},pauseOthers:function(t){this.tellOthers("pause",function(){return this.status.srcSet},t)},stop:function(){this.status.srcSet?this.html.active?this._html_pause(0):this.aurora.active?this._aurora_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(t){t=this._limitValue(t,0,100),this.status.srcSet?this.html.active?this._html_playHead(t):this.aurora.active?this._aurora_playHead(t):this.flash.active&&this._flash_playHead(t):this._urlNotSetError("playHead")},_muted:function(t){this.mutedWorker(t),this.options.globalVolume&&this.tellOthers("mutedWorker",function(){return this.options.globalVolume},t)},mutedWorker:function(e){this.options.muted=e,this.html.used&&this._html_setProperty("muted",e),this.aurora.used&&this._aurora_mute(e),this.flash.used&&this._flash_mute(e),this.html.video.gate||this.html.audio.gate||(this._updateMute(e),this._updateVolume(this.options.volume),this._trigger(t.jPlayer.event.volumechange))},mute:function(t){var s="object"==typeof t;s&&this.options.useStateClassSkin&&this.options.muted?this._muted(!1):(t=t===e||!!t,this._muted(t))},unmute:function(t){t=t===e||!!t,this._muted(!t)},_updateMute:function(t){t===e&&(t=this.options.muted),t?this.addStateClass("muted"):this.removeStateClass("muted"),this.css.jq.mute.length&&this.css.jq.unmute.length&&(this.status.noVolume?(this.css.jq.mute.hide(),this.css.jq.unmute.hide()):t?(this.css.jq.mute.hide(),this.css.jq.unmute.show()):(this.css.jq.mute.show(),this.css.jq.unmute.hide()))},volume:function(t){this.volumeWorker(t),this.options.globalVolume&&this.tellOthers("volumeWorker",function(){return this.options.globalVolume},t)},volumeWorker:function(e){e=this._limitValue(e,0,1),this.options.volume=e,this.html.used&&this._html_setProperty("volume",e),this.aurora.used&&this._aurora_volume(e),this.flash.used&&this._flash_volume(e),this.html.video.gate||this.html.audio.gate||(this._updateVolume(e),this._trigger(t.jPlayer.event.volumechange))},volumeBar:function(e){if(this.css.jq.volumeBar.length){var s=t(e.currentTarget),i=s.offset(),a=e.pageX-i.left,o=s.width(),r=s.height()-e.pageY+i.top,n=s.height();this.volume(this.options.verticalVolume?r/n:a/o)}this.options.muted&&this._muted(!1)},_updateVolume:function(t){t===e&&(t=this.options.volume),t=this.options.muted?0:t,this.status.noVolume?(this.addStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.hide(),this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.hide(),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.hide()):(this.removeStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.show(),this.css.jq.volumeBarValue.length&&(this.css.jq.volumeBarValue.show(),this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"](100*t+"%")),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.show())},volumeMax:function(){this.volume(1),this.options.muted&&this._muted(!1)},_cssSelectorAncestor:function(e){var s=this;this.options.cssSelectorAncestor=e,this._removeUiClass(),this.ancestorJq=e?t(e):[],e&&1!==this.ancestorJq.length&&this._warning({type:t.jPlayer.warning.CSS_SELECTOR_COUNT,context:e,message:t.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:t.jPlayer.warningHint.CSS_SELECTOR_COUNT}),this._addUiClass(),t.each(this.options.cssSelector,function(t,e){s._cssSelector(t,e)}),this._updateInterface(),this._updateButtons(),this._updateAutohide(),this._updateVolume(),this._updateMute()},_cssSelector:function(e,s){var i=this;if("string"==typeof s)if(t.jPlayer.prototype.options.cssSelector[e]){if(this.css.jq[e]&&this.css.jq[e].length&&this.css.jq[e].unbind(".jPlayer"),this.options.cssSelector[e]=s,this.css.cs[e]=this.options.cssSelectorAncestor+" "+s,this.css.jq[e]=s?t(this.css.cs[e]):[],this.css.jq[e].length&&this[e]){var a=function(s){s.preventDefault(),i[e](s),i.options.autoBlur?t(this).blur():t(this).focus()};this.css.jq[e].bind("click.jPlayer",a)}s&&1!==this.css.jq[e].length&&this._warning({type:t.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[e],message:t.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[e].length+" found for "+e+" method.",hint:t.jPlayer.warningHint.CSS_SELECTOR_COUNT})}else this._warning({type:t.jPlayer.warning.CSS_SELECTOR_METHOD,context:e,message:t.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:t.jPlayer.warningHint.CSS_SELECTOR_METHOD});else this._warning({type:t.jPlayer.warning.CSS_SELECTOR_STRING,context:s,message:t.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:t.jPlayer.warningHint.CSS_SELECTOR_STRING})},duration:function(t){this.options.toggleDuration&&(this.options.captureDuration&&t.stopPropagation(),this._setOption("remainingDuration",!this.options.remainingDuration))},seekBar:function(e){if(this.css.jq.seekBar.length){var s=t(e.currentTarget),i=s.offset(),a=e.pageX-i.left,o=s.width(),r=100*a/o;this.playHead(r)}},playbackRate:function(t){this._setOption("playbackRate",t)},playbackRateBar:function(e){if(this.css.jq.playbackRateBar.length){var s,i,a=t(e.currentTarget),o=a.offset(),r=e.pageX-o.left,n=a.width(),l=a.height()-e.pageY+o.top,h=a.height();s=this.options.verticalPlaybackRate?l/h:r/n,i=s*(this.options.maxPlaybackRate-this.options.minPlaybackRate)+this.options.minPlaybackRate,this.playbackRate(i)}},_updatePlaybackRate:function(){var t=this.options.playbackRate,e=(t-this.options.minPlaybackRate)/(this.options.maxPlaybackRate-this.options.minPlaybackRate);this.status.playbackRateEnabled?(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.show(),this.css.jq.playbackRateBarValue.length&&(this.css.jq.playbackRateBarValue.show(),this.css.jq.playbackRateBarValue[this.options.verticalPlaybackRate?"height":"width"](100*e+"%"))):(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.hide(),this.css.jq.playbackRateBarValue.length&&this.css.jq.playbackRateBarValue.hide())},repeat:function(t){var e="object"==typeof t;this._loop(!(e&&this.options.useStateClassSkin&&this.options.loop))},repeatOff:function(){this._loop(!1)},_loop:function(e){this.options.loop!==e&&(this.options.loop=e,this._updateButtons(),this._trigger(t.jPlayer.event.repeat))},option:function(s,i){var a=s;if(0===arguments.length)return t.extend(!0,{},this.options);if("string"==typeof s){var o=s.split(".");if(i===e){for(var r=t.extend(!0,{},this.options),n=0;n<o.length;n++){if(r[o[n]]===e)return this._warning({type:t.jPlayer.warning.OPTION_KEY,context:s,message:t.jPlayer.warningMsg.OPTION_KEY,hint:t.jPlayer.warningHint.OPTION_KEY}),e;r=r[o[n]]}return r}a={};for(var l=a,h=0;h<o.length;h++)h<o.length-1?(l[o[h]]={},l=l[o[h]]):l[o[h]]=i}return this._setOptions(a),this},_setOptions:function(e){var s=this;return t.each(e,function(t,e){s._setOption(t,e)}),this},_setOption:function(e,s){var i=this;switch(e){case"volume":this.volume(s);break;case"muted":this._muted(s);break;case"globalVolume":this.options[e]=s;break;case"cssSelectorAncestor":this._cssSelectorAncestor(s);break;case"cssSelector":t.each(s,function(t,e){i._cssSelector(t,e)});break;case"playbackRate":this.options[e]=s=this._limitValue(s,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("playbackRate",s),this._updatePlaybackRate();break;case"defaultPlaybackRate":this.options[e]=s=this._limitValue(s,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("defaultPlaybackRate",s),this._updatePlaybackRate();break;case"minPlaybackRate":this.options[e]=s=this._limitValue(s,.1,this.options.maxPlaybackRate-.1),this._updatePlaybackRate();break;case"maxPlaybackRate":this.options[e]=s=this._limitValue(s,this.options.minPlaybackRate+.1,16),this._updatePlaybackRate();break;case"fullScreen":if(this.options[e]!==s){var a=t.jPlayer.nativeFeatures.fullscreen.used.webkitVideo;(!a||a&&!this.status.waitForPlay)&&(a||(this.options[e]=s),s?this._requestFullscreen():this._exitFullscreen(),a||this._setOption("fullWindow",s))}break;case"fullWindow":this.options[e]!==s&&(this._removeUiClass(),this.options[e]=s,this._refreshSize());break;case"size":this.options.fullWindow||this.options[e].cssClass===s.cssClass||this._removeUiClass(),this.options[e]=t.extend({},this.options[e],s),this._refreshSize();break;case"sizeFull":this.options.fullWindow&&this.options[e].cssClass!==s.cssClass&&this._removeUiClass(),this.options[e]=t.extend({},this.options[e],s),this._refreshSize();break;case"autohide":this.options[e]=t.extend({},this.options[e],s),this._updateAutohide();break;case"loop":this._loop(s);break;case"remainingDuration":this.options[e]=s,this._updateInterface();break;case"toggleDuration":this.options[e]=s;break;case"nativeVideoControls":this.options[e]=t.extend({},this.options[e],s),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this._restrictNativeVideoControls(),this._updateNativeVideoControls();break;case"noFullWindow":this.options[e]=t.extend({},this.options[e],s),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this._restrictNativeVideoControls(),this._updateButtons();break;case"noVolume":this.options[e]=t.extend({},this.options[e],s),this.status.noVolume=this._uaBlocklist(this.options.noVolume),this._updateVolume(),this._updateMute();break;case"emulateHtml":this.options[e]!==s&&(this.options[e]=s,s?this._emulateHtmlBridge():this._destroyHtmlBridge());break;case"timeFormat":this.options[e]=t.extend({},this.options[e],s);break;case"keyEnabled":this.options[e]=s,s||this!==t.jPlayer.focus||(t.jPlayer.focus=null);break;case"keyBindings":this.options[e]=t.extend(!0,{},this.options[e],s);break;case"audioFullScreen":this.options[e]=s;break;case"autoBlur":this.options[e]=s}return this},_refreshSize:function(){this._setSize(),this._addUiClass(),this._updateSize(),this._updateButtons(),this._updateAutohide(),this._trigger(t.jPlayer.event.resize)},_setSize:function(){this.options.fullWindow?(this.status.width=this.options.sizeFull.width,this.status.height=this.options.sizeFull.height,this.status.cssClass=this.options.sizeFull.cssClass):(this.status.width=this.options.size.width,this.status.height=this.options.size.height,this.status.cssClass=this.options.size.cssClass),this.element.css({width:this.status.width,height:this.status.height})},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)},_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):!this.status.waitForPlay&&this.flash.active&&this.status.video&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height})},_updateAutohide:function(){var t=this,e="mousemove.jPlayer",s=".jPlayerAutohide",i=e+s,a=function(e){var s,i,a=!1;"undefined"!=typeof t.internal.mouse?(s=t.internal.mouse.x-e.pageX,i=t.internal.mouse.y-e.pageY,a=Math.floor(s)>0||Math.floor(i)>0):a=!0,t.internal.mouse={x:e.pageX,y:e.pageY},a&&t.css.jq.gui.fadeIn(t.options.autohide.fadeIn,function(){clearTimeout(t.internal.autohideId),t.internal.autohideId=setTimeout(function(){t.css.jq.gui.fadeOut(t.options.autohide.fadeOut)},t.options.autohide.hold)})};this.css.jq.gui.length&&(this.css.jq.gui.stop(!0,!0),clearTimeout(this.internal.autohideId),delete this.internal.mouse,this.element.unbind(s),this.css.jq.gui.unbind(s),this.status.nativeVideoControls?this.css.jq.gui.hide():this.options.fullWindow&&this.options.autohide.full||!this.options.fullWindow&&this.options.autohide.restored?(this.element.bind(i,a),this.css.jq.gui.bind(i,a),this.css.jq.gui.hide()):this.css.jq.gui.show())},fullScreen:function(t){var e="object"==typeof t;e&&this.options.useStateClassSkin&&this.options.fullScreen?this._setOption("fullScreen",!1):this._setOption("fullScreen",!0)},restoreScreen:function(){this._setOption("fullScreen",!1)},_fullscreenAddEventListeners:function(){var e=this,s=t.jPlayer.nativeFeatures.fullscreen;s.api.fullscreenEnabled&&s.event.fullscreenchange&&("function"!=typeof this.internal.fullscreenchangeHandler&&(this.internal.fullscreenchangeHandler=function(){e._fullscreenchange()}),document.addEventListener(s.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1))},_fullscreenRemoveEventListeners:function(){var e=t.jPlayer.nativeFeatures.fullscreen;this.internal.fullscreenchangeHandler&&document.removeEventListener(e.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1)},_fullscreenchange:function(){this.options.fullScreen&&!t.jPlayer.nativeFeatures.fullscreen.api.fullscreenElement()&&this._setOption("fullScreen",!1)},_requestFullscreen:function(){var e=this.ancestorJq.length?this.ancestorJq[0]:this.element[0],s=t.jPlayer.nativeFeatures.fullscreen;s.used.webkitVideo&&(e=this.htmlElement.video),s.api.fullscreenEnabled&&s.api.requestFullscreen(e)},_exitFullscreen:function(){var e,s=t.jPlayer.nativeFeatures.fullscreen;s.used.webkitVideo&&(e=this.htmlElement.video),s.api.fullscreenEnabled&&s.api.exitFullscreen(e)},_html_initMedia:function(e){var s=t(this.htmlElement.media).empty();t.each(e.track||[],function(t,e){var i=document.createElement("track");i.setAttribute("kind",e.kind?e.kind:""),i.setAttribute("src",e.src?e.src:""),i.setAttribute("srclang",e.srclang?e.srclang:""),i.setAttribute("label",e.label?e.label:""),e.def&&i.setAttribute("default",e.def),s.append(i)}),this.htmlElement.media.src=this.status.src,"none"!==this.options.preload&&this._html_load(),this._trigger(t.jPlayer.event.timeupdate)},_html_setFormat:function(e){var s=this;t.each(this.formats,function(t,i){return s.html.support[i]&&e[i]?(s.status.src=e[i],s.status.format[i]=!0,s.status.formatType=i,!1):void 0})},_html_setAudio:function(t){this._html_setFormat(t),this.htmlElement.media=this.htmlElement.audio,this._html_initMedia(t)},_html_setVideo:function(t){this._html_setFormat(t),this.status.nativeVideoControls&&(this.htmlElement.video.poster=this._validString(t.poster)?t.poster:""),this.htmlElement.media=this.htmlElement.video,this._html_initMedia(t)},_html_resetMedia:function(){this.htmlElement.media&&(this.htmlElement.media.id!==this.internal.video.id||this.status.nativeVideoControls||this.internal.video.jq.css({width:"0px",height:"0px"}),this.htmlElement.media.pause())},_html_clearMedia:function(){this.htmlElement.media&&(this.htmlElement.media.src="about:blank",this.htmlElement.media.load())},_html_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.htmlElement.media.load()),clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(t){var e=this,s=this.htmlElement.media;if(this.androidFix.pause=!1,this._html_load(),this.androidFix.setMedia)this.androidFix.play=!0,this.androidFix.time=t;else if(isNaN(t))s.play();else{this.internal.cmdsIgnored&&s.play();try{if(s.seekable&&!("object"==typeof s.seekable&&s.seekable.length>0))throw 1;s.currentTime=t,s.play()}catch(i){return void(this.internal.htmlDlyCmdId=setTimeout(function(){e.play(t)},250))}}this._html_checkWaitForPlay()},_html_pause:function(t){var e=this,s=this.htmlElement.media;if(this.androidFix.play=!1,t>0?this._html_load():clearTimeout(this.internal.htmlDlyCmdId),s.pause(),this.androidFix.setMedia)this.androidFix.pause=!0,this.androidFix.time=t;else if(!isNaN(t))try{if(s.seekable&&!("object"==typeof s.seekable&&s.seekable.length>0))throw 1;s.currentTime=t}catch(i){return void(this.internal.htmlDlyCmdId=setTimeout(function(){e.pause(t)},250))}t>0&&this._html_checkWaitForPlay()},_html_playHead:function(t){var e=this,s=this.htmlElement.media;this._html_load();try{if("object"==typeof s.seekable&&s.seekable.length>0)s.currentTime=t*s.seekable.end(s.seekable.length-1)/100;else{if(!(s.duration>0)||isNaN(s.duration))throw"e";s.currentTime=t*s.duration/100}}catch(i){return void(this.internal.htmlDlyCmdId=setTimeout(function(){e.playHead(t)},250))}this.status.waitForLoad||this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})))},_html_setProperty:function(t,e){this.html.audio.available&&(this.htmlElement.audio[t]=e),this.html.video.available&&(this.htmlElement.video[t]=e)},_aurora_setAudio:function(e){var s=this;t.each(this.formats,function(t,i){return s.aurora.support[i]&&e[i]?(s.status.src=e[i],s.status.format[i]=!0,s.status.formatType=i,!1):void 0}),this.aurora.player=new AV.Player.fromURL(this.status.src),this._addAuroraEventListeners(this.aurora.player,this.aurora),"auto"===this.options.preload&&(this._aurora_load(),this.status.waitForLoad=!1)},_aurora_resetMedia:function(){this.aurora.player&&this.aurora.player.stop()},_aurora_clearMedia:function(){},_aurora_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.aurora.player.preload())},_aurora_play:function(e){this.status.waitForLoad||isNaN(e)||this.aurora.player.seek(e),this.aurora.player.playing||this.aurora.player.play(),this.status.waitForLoad=!1,this._aurora_checkWaitForPlay(),this._updateButtons(!0),this._trigger(t.jPlayer.event.play)},_aurora_pause:function(e){isNaN(e)||this.aurora.player.seek(1e3*e),this.aurora.player.pause(),e>0&&this._aurora_checkWaitForPlay(),this._updateButtons(!1),this._trigger(t.jPlayer.event.pause)},_aurora_playHead:function(t){this.aurora.player.duration>0&&this.aurora.player.seek(t*this.aurora.player.duration/100),this.status.waitForLoad||this._aurora_checkWaitForPlay()},_aurora_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1)},_aurora_volume:function(t){this.aurora.player.volume=100*t},_aurora_mute:function(t){t?(this.aurora.properties.lastvolume=this.aurora.player.volume,this.aurora.player.volume=0):this.aurora.player.volume=this.aurora.properties.lastvolume,this.aurora.properties.muted=t},_flash_setAudio:function(e){var s=this;try{t.each(this.formats,function(t,i){if(s.flash.support[i]&&e[i]){switch(i){case"m4a":case"fla":s._getMovie().fl_setAudio_m4a(e[i]);break;case"mp3":s._getMovie().fl_setAudio_mp3(e[i]);break;case"rtmpa":s._getMovie().fl_setAudio_rtmp(e[i])}return s.status.src=e[i],s.status.format[i]=!0,s.status.formatType=i,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(i){this._flashError(i)}},_flash_setVideo:function(e){var s=this;try{t.each(this.formats,function(t,i){if(s.flash.support[i]&&e[i]){switch(i){case"m4v":case"flv":s._getMovie().fl_setVideo_m4v(e[i]);break;case"rtmpv":s._getMovie().fl_setVideo_rtmp(e[i])}return s.status.src=e[i],s.status.format[i]=!0,s.status.formatType=i,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(i){this._flashError(i)}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",height:"0px"}),this._flash_pause(NaN)},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()}catch(t){this._flashError(t)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(t){this._flashError(t)}this.status.waitForLoad=!1},_flash_play:function(t){try{this._getMovie().fl_play(t)}catch(e){this._flashError(e)}this.status.waitForLoad=!1,this._flash_checkWaitForPlay()},_flash_pause:function(t){try{this._getMovie().fl_pause(t)}catch(e){this._flashError(e)}t>0&&(this.status.waitForLoad=!1,this._flash_checkWaitForPlay())},_flash_playHead:function(t){try{this._getMovie().fl_play_head(t)}catch(e){this._flashError(e)}this.status.waitForLoad||this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.flash.jq.css({width:this.status.width,height:this.status.height})))},_flash_volume:function(t){try{this._getMovie().fl_volume(t)}catch(e){this._flashError(e)}},_flash_mute:function(t){try{this._getMovie().fl_mute(t)}catch(e){this._flashError(e)}},_getMovie:function(){return document[this.internal.flash.id]},_getFlashPluginVersion:function(){var t,e=0;if(window.ActiveXObject)try{if(t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")){var s=t.GetVariable("$version");s&&(s=s.split(" ")[1].split(","),e=parseInt(s[0],10)+"."+parseInt(s[1],10))}}catch(i){}else navigator.plugins&&navigator.mimeTypes.length>0&&(t=navigator.plugins["Shockwave Flash"],t&&(e=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1")));return 1*e},_checkForFlash:function(t){var e=!1;return this._getFlashPluginVersion()>=t&&(e=!0),e},_validString:function(t){return t&&"string"==typeof t},_limitValue:function(t,e,s){return e>t?e:t>s?s:t},_urlNotSetError:function(e){this._error({type:t.jPlayer.error.URL_NOT_SET,context:e,message:t.jPlayer.errorMsg.URL_NOT_SET,hint:t.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(e){var s;s=this.internal.ready?"FLASH_DISABLED":"FLASH",this._error({type:t.jPlayer.error[s],context:this.internal.flash.swf,message:t.jPlayer.errorMsg[s]+e.message,hint:t.jPlayer.errorHint[s]}),this.internal.flash.jq.css({width:"1px",height:"1px"})},_error:function(e){this._trigger(t.jPlayer.event.error,e),this.options.errorAlerts&&this._alert("Error!"+(e.message?"\n"+e.message:"")+(e.hint?"\n"+e.hint:"")+"\nContext: "+e.context)},_warning:function(s){this._trigger(t.jPlayer.event.warning,e,s),this.options.warningAlerts&&this._alert("Warning!"+(s.message?"\n"+s.message:"")+(s.hint?"\n"+s.hint:"")+"\nContext: "+s.context)},_alert:function(t){var e="jPlayer "+this.version.script+" : id='"+this.internal.self.id+"' : "+t;this.options.consoleAlerts?window.console&&window.console.log&&window.console.log(e):alert(e)},_emulateHtmlBridge:function(){var e=this;t.each(t.jPlayer.emulateMethods.split(/\s+/g),function(t,s){e.internal.domNode[s]=function(t){e[s](t)}}),t.each(t.jPlayer.event,function(s,i){var a=!0;t.each(t.jPlayer.reservedEvent.split(/\s+/g),function(t,e){return e===s?(a=!1,!1):void 0}),a&&e.element.bind(i+".jPlayer.jPlayerHtml",function(){e._emulateHtmlUpdate();var t=document.createEvent("Event");t.initEvent(s,!1,!0),e.internal.domNode.dispatchEvent(t)})})},_emulateHtmlUpdate:function(){var e=this;t.each(t.jPlayer.emulateStatus.split(/\s+/g),function(t,s){e.internal.domNode[s]=e.status[s]}),t.each(t.jPlayer.emulateOptions.split(/\s+/g),function(t,s){e.internal.domNode[s]=e.options[s]})},_destroyHtmlBridge:function(){var e=this;this.element.unbind(".jPlayerHtml");var s=t.jPlayer.emulateMethods+" "+t.jPlayer.emulateStatus+" "+t.jPlayer.emulateOptions;t.each(s.split(/\s+/g),function(t,s){delete e.internal.domNode[s]})}},t.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"},t.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+t.jPlayer.prototype.version.script+" needs Jplayer.swf version "+t.jPlayer.prototype.version.needFlash+" but found "},t.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."},t.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"},t.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer('option') is undefined."},t.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}});
if("undefined"==typeof jQuery)throw Error("jquery-confirm requires jQuery");var jconfirm,Jconfirm;!function(t){t.fn.confirm=function(n,i){return"undefined"==typeof n&&(n={}),"string"==typeof n&&(n={content:n,title:!!i&&i}),t(this).each(function(){var i=t(this);i.on("click",function(e){e.preventDefault(),e=t.extend({},n),i.attr("data-title")&&(e.title=i.attr("data-title")),i.attr("data-content")&&(e.content=i.attr("data-content")),e.$target=i,i.attr("href")&&!n.confirm&&(e.confirm=function(){location.href=i.attr("href")}),t.confirm(e)})}),t(this)},t.confirm=function(t,n){return"undefined"==typeof t&&(t={}),"string"==typeof t&&(t={content:t,title:!!n&&n}),jconfirm(t)},t.alert=function(t,n){return"undefined"==typeof t&&(t={}),"string"==typeof t&&(t={content:t,title:!!n&&n}),t.cancelButton=!1,jconfirm(t)},t.dialog=function(t,n){return"undefined"==typeof t&&(t={}),"string"==typeof t&&(t={content:t,title:!!n&&n}),t.cancelButton=!1,t.confirmButton=!1,t.confirmKeys=[13],jconfirm(t)},jconfirm=function(n){return"undefined"==typeof n&&(n={}),jconfirm.defaults&&t.extend(jconfirm.pluginDefaults,jconfirm.defaults),n=t.extend({},jconfirm.pluginDefaults,n),new Jconfirm(n)},Jconfirm=function(n){t.extend(this,n),this._init()},Jconfirm.prototype={_init:function(){var t=this;this._rand=Math.round(99999*Math.random()),this._buildHTML(),this._bindEvents(),setTimeout(function(){t.open(),t._watchContent()},0)},_buildHTML:function(){var n=this;this.animation="anim-"+this.animation.toLowerCase(),this.closeAnimation="anim-"+this.closeAnimation.toLowerCase(),this.theme="jconfirm-"+this.theme.toLowerCase(),"anim-none"==this.animation&&(this.animationSpeed=0),this._lastFocused=t("body").find(":focus"),this.$el=t(this.template).appendTo(this.container).addClass(this.theme),this.$el.find(".jconfirm-box-container").addClass(this.columnClass),this.$el.find(".jconfirm-bg").css(this._getCSS(this.animationSpeed,1)),this.$body=this.$b=this.$el.find(".jconfirm-box").css(this._getCSS(this.animationSpeed,this.animationBounce)).addClass(this.animation),this.rtl&&this.$el.addClass("rtl"),this._contentReady=t.Deferred(),this._modalReady=t.Deferred(),this.$title=this.$el.find(".title"),this.$content=this.contentDiv=this.$el.find("div.content"),this.$contentPane=this.$el.find(".content-pane"),this.$icon=this.$el.find(".icon-c"),this.$closeIcon=this.$el.find(".closeIcon"),this.$contentPane.css(this._getCSS(this.animationSpeed,1)),this.setTitle(),this.setIcon(),this._setButtons(),this.closeIconClass&&this.$closeIcon.html('<i class="'+this.closeIconClass+'"></i>'),n._contentHash=this._hash(n.$content.html()),t.when(this._contentReady,this._modalReady).then(function(){n.setContent(),n.setTitle(),n.setIcon()}),this._getContent(),this._imagesLoaded(),this.autoClose&&this._startCountDown()},_unwatchContent:function(){clearInterval(this._timer)},_hash:function(){return btoa(encodeURIComponent(this.$content.html()))},_watchContent:function(){var t=this;this._timer=setInterval(function(){var n=t._hash(t.$content.html());t._contentHash!=n&&(t._contentHash=n,t.setDialogCenter(),t._imagesLoaded())},this.watchInterval)},_bindEvents:function(){var n=this,i=!1;this.$el.find(".jconfirm-scrollpane").click(function(t){i||(n.backgroundDismiss?(n.cancel(),n.close()):(n.$b.addClass("hilight"),setTimeout(function(){n.$b.removeClass("hilight")},800))),i=!1}),this.$el.find(".jconfirm-box").click(function(t){i=!0}),this.$confirmButton&&this.$confirmButton.click(function(t){t.preventDefault(),t=n.confirm(n.$b),n._stopCountDown(),n.onAction("confirm"),("undefined"==typeof t||t)&&n.close()}),this.$cancelButton&&this.$cancelButton.click(function(t){t.preventDefault(),t=n.cancel(n.$b),n._stopCountDown(),n.onAction("cancel"),("undefined"==typeof t||t)&&n.close()}),this.$closeButton&&this.$closeButton.click(function(t){t.preventDefault(),n._stopCountDown(),n.cancel(),n.onAction("close"),n.close()}),this.keyboardEnabled&&setTimeout(function(){t(window).on("keyup."+this._rand,function(t){n.reactOnKey(t)})},500),t(window).on("resize."+this._rand,function(){n.setDialogCenter(!0)})},_getCSS:function(t,n){return{"-webkit-transition-duration":t/1e3+"s","transition-duration":t/1e3+"s","-webkit-transition-timing-function":"cubic-bezier(.36,1.1,.2, "+n+")","transition-timing-function":"cubic-bezier(.36,1.1,.2, "+n+")"}},_imagesLoaded:function(){var n=this;t.each(this.$content.find("img:not(.loaded)"),function(i,e){var o=setInterval(function(){"0px"!==t(e).css("height")&&(t(e).addClass("loaded"),n.setDialogCenter(),clearInterval(o))},40)})},_setButtons:function(){this.$btnc=this.$el.find(".buttons"),this.confirmButton&&""!==t.trim(this.confirmButton)&&(this.$confirmButton=t('<button type="button" class="btn">'+this.confirmButton+"</button>").appendTo(this.$btnc).addClass(this.confirmButtonClass)),this.cancelButton&&""!==t.trim(this.cancelButton)&&(this.$cancelButton=t('<button type="button" class="btn">'+this.cancelButton+"</button>").appendTo(this.$btnc).addClass(this.cancelButtonClass)),this.confirmButton||this.cancelButton||this.$btnc.hide(),this.confirmButton||this.cancelButton||null!==this.closeIcon||(this.$closeButton=this.$b.find(".closeIcon").show()),!0===this.closeIcon&&(this.$closeButton=this.$b.find(".closeIcon").show())},setTitle:function(t){this.title="undefined"!=typeof t?t:this.title,this.$title.html(this.title||"")},setIcon:function(t){this.title="undefined"!=typeof string?t:this.title,this.$icon.html(this.icon?'<i class="'+this.icon+'"></i>':"")},setContent:function(t){this.content="undefined"==typeof t?this.content:t,""==this.content?(this.$content.html(this.content),this.$contentPane.hide()):(this.$content.html(this.content),this.$contentPane.show()),this.$content.hasClass("loading")&&(this.$content.removeClass("loading"),this.$btnc.find("button").prop("disabled",!1))},_getContent:function(n){var i=this;this._isAjax=!1,this.content?"string"==typeof this.content?"url:"===this.content.substr(0,4).toLowerCase()?(this._isAjax=!0,this.$content.addClass("loading"),this.$btnc.find("button").prop("disabled",!0),n=this.content.substring(4,this.content.length),t.get(n).done(function(t){i.content=t,i._contentReady.resolve()}).always(function(t,n,e){"function"==typeof i.contentLoaded&&i.contentLoaded(t,n,e)})):(this.setContent(this.content),this._contentReady.reject()):"function"==typeof this.content&&(this.$content.addClass("loading"),this.$btnc.find("button").attr("disabled","disabled"),n=this.content(this),"object"==typeof n&&"function"==typeof n.always&&(this._isAjax=!0,n.always(function(t,n){i._contentReady.resolve()}))):(this.content="",this.setContent(this.content),this._contentReady.reject()),this.setDialogCenter()},_stopCountDown:function(){clearInterval(this.timerInterval),this.$cd&&this.$cd.remove()},_startCountDown:function(){var n=this.autoClose.split("|");if(/cancel/.test(n[0])&&"alert"===this.type)return!1;if(/confirm|cancel/.test(n[0])){this.$cd=t('<span class="countdown">').appendTo(this["$"+n[0]+"Button"]);var i=this;i.$cd.parent().click();var e=n[1]/1e3;this.timerInterval=setInterval(function(){i.$cd.html(" ("+--e+")"),0===e&&(i.$cd.html(""),i.$cd.parent().trigger("click"),clearInterval(i.timerInterval))},1e3)}},reactOnKey:function(n){var i=t(".jconfirm");return i.eq(i.length-1)[0]===this.$el[0]&&(n=n.which,(!this.contentDiv.find(":input").is(":focus")||!/13|32/.test(n))&&(-1!==t.inArray(n,this.cancelKeys)&&(this.$cancelButton?this.$cancelButton.click():this.close()),void(-1!==t.inArray(n,this.confirmKeys)&&this.$confirmButton&&this.$confirmButton.click())))},setDialogCenter:function(){if("none"==this.$contentPane.css("display"))var n=0,i=0;else n=this.$content.outerHeight(),i=this.$contentPane.height(),0==i&&(i=n);var e=this.$content.outerWidth();this.$content.css({clip:"rect(0px "+(100+e)+"px "+n+"px -100px)"}),this.$contentPane.css({height:n}),e=t(window).height(),n=this.$b.outerHeight()-i+n,this.$b.css(n>e-100?{"margin-top":50,"margin-bottom":50}:{"margin-top":(e-n)/2})},close:function(){var n=this;return!this.isClosed()&&("function"==typeof this.onClose&&this.onClose(),this._unwatchContent(),n._lastFocused.focus(),t(window).unbind("resize."+this._rand),this.keyboardEnabled&&t(window).unbind("keyup."+this._rand),n.$el.find(".jconfirm-bg").removeClass("seen"),this.$b.addClass(this.closeAnimation),setTimeout(function(){n.$el.remove()},25*("anim-none"==this.closeAnimation?0:this.animationSpeed)/100),jconfirm.record.closed+=1,--jconfirm.record.currentlyOpen,!0)},open:function(){var t=this;if(this.isClosed())return!1;t.$el.find(".jconfirm-bg").addClass("seen"),this.$b.removeClass(this.animation),this.$b.find("input[autofocus]:visible:first").focus(),jconfirm.record.opened+=1,jconfirm.record.currentlyOpen+=1,"function"==typeof this.onOpen&&this.onOpen();var n="jconfirm-box"+this._rand;return this.$b.attr("aria-labelledby",n).attr("tabindex",-1).focus(),this.$title?this.$title.attr("id",n):this.$content&&this.$content.attr("id",n),setTimeout(function(){t.$b.css({"transition-property":t.$b.css("transition-property")+", margin"}),t._modalReady.resolve()},this.animationSpeed),!0},isClosed:function(){return""===this.$el.css("display")}},jconfirm.pluginDefaults={template:'<div class="jconfirm"><div class="jconfirm-bg"></div><div class="jconfirm-scrollpane"><div class="container"><div class="row"><div class="jconfirm-box-container"><div class="jconfirm-box" role="dialog" aria-labelledby="labelled" tabindex="-1"><div class="closeIcon">&times;</div><div class="title-c"><span class="icon-c"></span><span class="title"></span></div><div class="content-pane"><div class="content"></div></div><div class="buttons"></div><div class="jquery-clear"></div></div></div></div></div></div></div>',title:"Hello",content:"Are you sure to continue?",contentLoaded:function(){},icon:"",confirmButton:"Okay",cancelButton:"Close",confirmButtonClass:"btn-default",cancelButtonClass:"btn-default",theme:"white",animation:"zoom",closeAnimation:"scale",animationSpeed:500,animationBounce:1.2,keyboardEnabled:!1,rtl:!1,confirmKeys:[13],cancelKeys:[27],container:"body",confirm:function(){},cancel:function(){},backgroundDismiss:!1,autoClose:!1,closeIcon:null,closeIconClass:!1,watchInterval:100,columnClass:"col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3 col-xs-10 col-xs-offset-1",onOpen:function(){},onClose:function(){},onAction:function(){}},jconfirm.record={opened:0,closed:0,currentlyOpen:0}}(jQuery);
!function(e){var t=function(e){return e.split("").reverse().join("")},n={numberStep:function(t,n){var r=Math.floor(t);e(n.elem).text(r)}},r=function(e){var t=e.elem;t.nodeType&&t.parentNode&&(t=t._animateNumberSetter,t||(t=n.numberStep),t(e.now,e))};e.Tween&&e.Tween.propHooks?e.Tween.propHooks.number={set:r}:e.fx.step.number=r,e.animateNumber={numberStepFactories:{append:function(t){return function(n,r){var o=Math.floor(n);e(r.elem).prop("number",n).text(o+t)}},separator:function(n,r,o){return n=n||" ",r=r||3,o=o||"",function(a,i){var u=Math.floor(a).toString(),p=e(i.elem);if(u.length>r){for(var m,f,l,c=u,h=r,s=c.split("").reverse(),u=[],b=0,v=Math.ceil(c.length/h);b<v;b++){for(m="",l=0;l<h&&(f=b*h+l,f!==c.length);l++)m+=s[f];u.push(m)}c=u.length-1,h=t(u[c]),u[c]=t(parseInt(h,10).toString()),u=u.join(n),u=t(u)}p.prop("number",a).text(u+o)}}}},e.fn.animateNumber=function(){for(var t=arguments[0],r=e.extend({},n,t),o=e(this),a=[r],i=1,u=arguments.length;i<u;i++)a.push(arguments[i]);if(t.numberStep){var p=this.each(function(){this._animateNumberSetter=t.numberStep}),m=r.complete;r.complete=function(){p.each(function(){delete this._animateNumberSetter}),m&&m.apply(this,arguments)}}return o.animate.apply(o,a)}}(jQuery);
!function(n){n.extend(n.easing,{easeIn:function(e,u,t,r,a){return n.easing.easeInQuad(e,u,t,r,a)},easeOut:function(e,u,t,r,a){return n.easing.easeOutQuad(e,u,t,r,a)},easeInOut:function(e,u,t,r,a){return n.easing.easeInOutQuad(e,u,t,r,a)},expoin:function(e,u,t,r,a){return n.easing.easeInExpo(e,u,t,r,a)},expoout:function(e,u,t,r,a){return n.easing.easeOutExpo(e,u,t,r,a)},expoinout:function(e,u,t,r,a){return n.easing.easeInOutExpo(e,u,t,r,a)},bouncein:function(e,u,t,r,a){return n.easing.easeInBounce(e,u,t,r,a)},bounceout:function(e,u,t,r,a){return n.easing.easeOutBounce(e,u,t,r,a)},bounceinout:function(e,u,t,r,a){return n.easing.easeInOutBounce(e,u,t,r,a)},elasin:function(e,u,t,r,a){return n.easing.easeInElastic(e,u,t,r,a)},elasout:function(e,u,t,r,a){return n.easing.easeOutElastic(e,u,t,r,a)},elasinout:function(e,u,t,r,a){return n.easing.easeInOutElastic(e,u,t,r,a)},backin:function(e,u,t,r,a){return n.easing.easeInBack(e,u,t,r,a)},backout:function(e,u,t,r,a){return n.easing.easeOutBack(e,u,t,r,a)},backinout:function(e,u,t,r,a){return n.easing.easeInOutBack(e,u,t,r,a)}})}(jQuery),function(n){"function"==typeof define&&define.amd?define(["jquery"],function(e){return n(e)}):"object"==typeof module&&"object"==typeof module.exports?exports=n(require("jquery")):n(jQuery)}(function(n){function e(n){var e=7.5625,u=2.75;return n<1/u?e*n*n:n<2/u?e*(n-=1.5/u)*n+.75:n<2.5/u?e*(n-=2.25/u)*n+.9375:e*(n-=2.625/u)*n+.984375}n.easing.jswing=n.easing.swing;var u=Math.pow,t=Math.sqrt,r=Math.sin,a=Math.cos,i=Math.PI,o=1.70158,s=1.525*o,c=o+1,f=2*i/3,I=2*i/4.5;n.extend(n.easing,{def:"easeOutQuad",swing:function(e){return n.easing[n.easing.def](e)},easeInQuad:function(n){return n*n},easeOutQuad:function(n){return 1-(1-n)*(1-n)},easeInOutQuad:function(n){return n<.5?2*n*n:1-u(-2*n+2,2)/2},easeInCubic:function(n){return n*n*n},easeOutCubic:function(n){return 1-u(1-n,3)},easeInOutCubic:function(n){return n<.5?4*n*n*n:1-u(-2*n+2,3)/2},easeInQuart:function(n){return n*n*n*n},easeOutQuart:function(n){return 1-u(1-n,4)},easeInOutQuart:function(n){return n<.5?8*n*n*n*n:1-u(-2*n+2,4)/2},easeInQuint:function(n){return n*n*n*n*n},easeOutQuint:function(n){return 1-u(1-n,5)},easeInOutQuint:function(n){return n<.5?16*n*n*n*n*n:1-u(-2*n+2,5)/2},easeInSine:function(n){return 1-a(n*i/2)},easeOutSine:function(n){return r(n*i/2)},easeInOutSine:function(n){return-(a(i*n)-1)/2},easeInExpo:function(n){return 0===n?0:u(2,10*n-10)},easeOutExpo:function(n){return 1===n?1:1-u(2,-10*n)},easeInOutExpo:function(n){return 0===n?0:1===n?1:n<.5?u(2,20*n-10)/2:(2-u(2,-20*n+10))/2},easeInCirc:function(n){return 1-t(1-u(n,2))},easeOutCirc:function(n){return t(1-u(n-1,2))},easeInOutCirc:function(n){return n<.5?(1-t(1-u(2*n,2)))/2:(t(1-u(-2*n+2,2))+1)/2},easeInElastic:function(n){return 0===n?0:1===n?1:-u(2,10*n-10)*r((10*n-10.75)*f)},easeOutElastic:function(n){return 0===n?0:1===n?1:u(2,-10*n)*r((10*n-.75)*f)+1},easeInOutElastic:function(n){return 0===n?0:1===n?1:n<.5?-(u(2,20*n-10)*r((20*n-11.125)*I))/2:u(2,-20*n+10)*r((20*n-11.125)*I)/2+1},easeInBack:function(n){return c*n*n*n-o*n*n},easeOutBack:function(n){return 1+c*u(n-1,3)+o*u(n-1,2)},easeInOutBack:function(n){return n<.5?u(2*n,2)*(2*(s+1)*n-s)/2:(u(2*n-2,2)*((s+1)*(2*n-2)+s)+2)/2},easeInBounce:function(n){return 1-e(1-n)},easeOutBounce:e,easeInOutBounce:function(n){return n<.5?(1-e(1-2*n))/2:(1+e(2*n-1))/2}})});
!function(e,t,i,o){var n=e(t);e.fn.lazyload=function(r){function f(){var t=0;l.each(function(){var i=e(this);if(!h.skip_invisible||i.is(":visible"))if(e.abovethetop(this,h)||e.leftofbegin(this,h));else if(e.belowthefold(this,h)||e.rightoffold(this,h)){if(++t>h.failure_limit)return!1}else i.trigger("appear"),t=0})}var a,l=this,h={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return r&&(o!==r.failurelimit&&(r.failure_limit=r.failurelimit,delete r.failurelimit),o!==r.effectspeed&&(r.effect_speed=r.effectspeed,delete r.effectspeed),e.extend(h,r)),a=h.container===o||h.container===t?n:e(h.container),0===h.event.indexOf("scroll")&&a.bind(h.event,function(){return f()}),this.each(function(){var t=this,i=e(t);t.loaded=!1,(i.attr("src")===o||i.attr("src")===!1)&&i.is("img")&&i.attr("src",h.placeholder),i.one("appear",function(){if(!this.loaded){if(h.appear){var o=l.length;h.appear.call(t,o,h)}e("<img />").bind("load",function(){var o=i.attr("data-"+h.data_attribute);i.hide(),i.is("img")?i.attr("src",o):i.css("background-image","url('"+o+"')"),i[h.effect](h.effect_speed),t.loaded=!0;var n=e.grep(l,function(e){return!e.loaded});if(l=e(n),h.load){var r=l.length;h.load.call(t,r,h)}}).attr("src",i.attr("data-"+h.data_attribute))}}),0!==h.event.indexOf("scroll")&&i.bind(h.event,function(){t.loaded||i.trigger("appear")})}),n.bind("resize",function(){f()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&n.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&l.each(function(){e(this).trigger("appear")})}),e(i).ready(function(){f()}),this},e.belowthefold=function(i,r){var f;return f=r.container===o||r.container===t?(t.innerHeight?t.innerHeight:n.height())+n.scrollTop():e(r.container).offset().top+e(r.container).height(),f<=e(i).offset().top-r.threshold},e.rightoffold=function(i,r){var f;return f=r.container===o||r.container===t?n.width()+n.scrollLeft():e(r.container).offset().left+e(r.container).width(),f<=e(i).offset().left-r.threshold},e.abovethetop=function(i,r){var f;return f=r.container===o||r.container===t?n.scrollTop():e(r.container).offset().top,f>=e(i).offset().top+r.threshold+e(i).height()},e.leftofbegin=function(i,r){var f;return f=r.container===o||r.container===t?n.scrollLeft():e(r.container).offset().left,f>=e(i).offset().left+r.threshold+e(i).width()},e.inviewport=function(t,i){return!(e.rightoffold(t,i)||e.leftofbegin(t,i)||e.belowthefold(t,i)||e.abovethetop(t,i))},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})}(jQuery,window,document);
(function(){var t,e,n,i,s=function(t,e){return function(){return t.apply(e,arguments)}};t=jQuery,e=function(){function t(){}return t.transitions={webkitTransition:"webkitTransitionEnd",mozTransition:"mozTransitionEnd",oTransition:"oTransitionEnd",transition:"transitionend"},t.transition=function(t){var e,n,i,s,o,r;for(n=0,i=t.length;n<i;n++)for(r in e=t[n],s=this.transitions)if(o=s[r],null!=e.style[r])return o},t.execute=function(t,e){var n;return n=this.transition(t),null!=n?t.one(n,e):e()},t}(),i=function(){function e(t){this.url=t}return e.prototype.type=function(){switch(!1){case!this.url.match(/\.(webp|jpeg|jpg|jpe|gif|png|bmp)$/i):return"image";default:return"unknown"}},e.prototype.preload=function(t){var e;return e=new Image,e.src=this.url,e.onload=function(n){return function(){return n.dimensions={width:e.width,height:e.height},t(n)}}(this)},e.prototype.$content=function(){return t("<img />").attr({src:this.url})},e}(),n=function(){function n(e,i){null==i&&(i={}),this.show=s(this.show,this),this.hide=s(this.hide,this),this.observe=s(this.observe,this),this.keyup=s(this.keyup,this),this.size=s(this.size,this),this.align=s(this.align,this),this.process=s(this.process,this),this.resize=s(this.resize,this),this.type=s(this.type,this),this.prev=s(this.prev,this),this.next=s(this.next,this),this.close=s(this.close,this),this.$=s(this.$,this),this.$target=e,this.settings=t.extend({},this.defaults,i),this.$el=t(this.settings.template),this.$overlay=this.$("."+n.namespace+"-overlay"),this.$content=this.$("."+n.namespace+"-content"),this.$container=this.$("."+n.namespace+"-container"),this.$close=this.$("."+n.namespace+"-close"),this.$prev=this.$("."+n.namespace+"-prev"),this.$next=this.$("."+n.namespace+"-next"),this.$body=this.$("."+n.namespace+"-body"),this.dimensions=this.settings.dimensions,this.process()}return n.namespace="lighter",n.prototype.defaults={loading:"#{Lighter.namespace}-loading",fetched:"#{Lighter.namespace}-fetched",padding:40,dimensions:{width:480,height:480},template:"<div class='"+n.namespace+" "+n.namespace+"-fade'>\n  <div class='"+n.namespace+"-container'>\n    <span class='"+n.namespace+"-content'></span>\n    <a class='"+n.namespace+"-close'>&times;</a>\n    <a class='"+n.namespace+"-prev'>&lsaquo;</a>\n    <a class='"+n.namespace+"-next'>&rsaquo;</a>\n  </div>\n  <div class='"+n.namespace+"-spinner'>\n    <div class='"+n.namespace+"-dot'></div>\n    <div class='"+n.namespace+"-dot'></div>\n    <div class='"+n.namespace+"-dot'></div>\n  </div>\n  <div class='"+n.namespace+"-overlay'></div>\n</div>"},n.lighter=function(t,e){var i;return null==e&&(e={}),(i=t.data("_lighter"))||t.data("_lighter",i=new n(t,e)),i},n.prototype.$=function(t){return this.$el.find(t)},n.prototype.close=function(t){return null!=t&&t.preventDefault(),null!=t&&t.stopPropagation(),this.hide()},n.prototype.next=function(t){return null!=t&&t.preventDefault(),null!=t?t.stopPropagation():void 0},n.prototype.prev=function(){return"undefined"!=typeof event&&null!==event&&event.preventDefault(),"undefined"!=typeof event&&null!==event?event.stopPropagation():void 0},n.prototype.type=function(t){return null==t&&this.href(),this.settings.type||(this.href().match(/\.(webp|jpeg|jpg|jpe|gif|png|bmp)$/i)?"image":void 0)},n.prototype.resize=function(t){return this.dimensions=t,this.align()},n.prototype.process=function(){var t,e;return t=function(t){return function(){return t.$el.removeClass(n.namespace+"-loading").addClass(n.namespace+"-fetched")}}(this),e=function(t){return function(){return t.$el.removeClass(n.namespace+"-fetched").addClass(n.namespace+"-loading")}}(this),this.slide=new i(this.$target.attr("href")),e(),this.slide.preload(function(e){return function(n){return e.resize(n.dimensions),e.$content.html(e.slide.$content()),t()}}(this))},n.prototype.align=function(){var t;return t=this.size(),this.$container.css({width:t.width,height:t.height,margin:"-"+t.height/2+"px -"+t.width/2+"px"})},n.prototype.size=function(){var e;return e=Math.max(this.dimensions.height/(t(window).height()-this.settings.padding),this.dimensions.width/(t(window).width()-this.settings.padding)),{width:1<e?Math.round(this.dimensions.width/e):this.dimensions.width,height:1<e?Math.round(this.dimensions.height/e):this.dimensions.height}},n.prototype.keyup=function(t){if(null==t.target.form&&(27===t.which&&this.close(),37===t.which&&this.prev(),39===t.which))return this.next()},n.prototype.observe=function(e){return null==e&&(e="on"),t(window)[e]("resize",this.align),t(document)[e]("keyup",this.keyup),this.$overlay[e]("click",this.close),this.$close[e]("click",this.close),this.$next[e]("click",this.next),this.$prev[e]("click",this.prev)},n.prototype.hide=function(){var t,i;return t=function(t){return function(){return t.observe("off")}}(this),i=function(t){return function(){return t.$el.remove()}}(this),t(),this.$el.position(),this.$el.addClass(n.namespace+"-fade"),e.execute(this.$el,i)},n.prototype.show=function(){var i;return i=function(t){return function(){return t.observe("on")}}(this),function(e){return function(){return t(document.body).append(e.$el)}}(this)(),this.$el.position(),this.$el.removeClass(n.namespace+"-fade"),e.execute(this.$el,i)},n}(),t.fn.extend({lighter:function(e){return null==e&&(e={}),this.each(function(){var i,s,o;return i=t(this),o=t.extend({},t.fn.lighter.defaults,"object"==typeof e&&e),s="string"==typeof e?e:e.action,null==s&&(s="show"),n.lighter(i,o)[s]()})}}),t(document).on("click","[data-lighter]",function(e){return e.preventDefault(),e.stopPropagation(),t(this).lighter()})}).call(this);
!function(t,e,i,n){function r(e,i){this.$element=t(e),this.options=t.extend({},r.Defaults,this._getOptionsFromElementAttributes(),i),this._prepare(),this._bind()}r.prototype._bind=function(){var r,o,a,s,p,c=this.$element,h=this.options;s="ontouchend"in e||e.DocumentTouch&&i instanceof DocumentTouch,p=1==s?"touchend.rippleria":"click.rippleria",this.$element.bind(p,function(e){var i=t("<div class='rippleria-ink'/>");c.append(i),h.color!=n&&i.css("background-color",h.color);var p="rippleria "+h.duration/1e3+"s "+h.easing;if(i.css("animation",p),i.css("-webkit-animation",p),setTimeout(function(){i.remove()},parseFloat(h.duration)),i.height()||i.width()||(r=Math.max(c.outerWidth(),c.outerHeight()),i.css({height:r,width:r})),1==s){var l=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];o=l.pageX-c.offset().left-i.width()/2,a=l.pageY-c.offset().top-i.height()/2}else o=e.pageX-c.offset().left-i.width()/2,a=e.pageY-c.offset().top-i.height()/2;i.css({top:a+"px",left:o+"px"})})},r.prototype._prepare=function(){var t=this.$element;if("static"==t.css("position")&&t.css("position","relative"),t.css("overflow","hidden"),t.find("img")[0]!=n&&t.on("dragstart",function(t){t.preventDefault()}),this.options.detectBrightness){var e,i,r,o,a=this.$element.css("background-color");if("transparent"==a){var s=function(t){var e=t.css("background-color");return 0!=t.length&&"transparent"==e?s(t.parent()):e};a=s(this.$element.parent())}a.match(/^rgba/)?(a=a.match(/rgba\(([^)]+)\)/)[1],a=a.split(/ *, */).map(Number),e=a[0],i=a[1],r=a[2]):a.match(/^rgb/)?(a=a.match(/rgb\(([^)]+)\)/)[1],a=a.split(/ *, */).map(Number),e=a[0],i=a[1],r=a[2]):"#"==a[0]&&7==a.length?(e=parseInt(a.slice(1,3),16),i=parseInt(a.slice(3,5),16),r=parseInt(a.slice(5,7),16)):"#"==a[0]&&4==a.length&&(e=parseInt(a[1]+a[1],16),i=parseInt(a[2]+a[2],16),r=parseInt(a[3]+a[3],16)),o=(299*e+587*i+114*r)/1e3,o>150&&this.$element.addClass("rippleria-dark")}},r.prototype._getOptionsFromElementAttributes=function(){var e=this;return attrs={},t.each(r.Defaults,function(t,i){var n=e.$element.attr("data-rippleria-"+t);null!=n&&(attrs[t]=n)}),attrs},r.prototype.changeColor=function(t){this.options.color=t},r.prototype.changeEasing=function(t){this.options.easing=t},r.prototype.changeDuration=function(t){this.options.duration=t},r.Defaults={duration:750,easing:"linear",color:n,detectBrightness:!0},t.fn.rippleria=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t(this),o=n.data("rippleria");o||(o=new r(this,"object"==typeof e&&e),n.data("rippleria",o)),"string"==typeof e&&"_"!==e.charAt(0)&&o[e].apply(o,i)})}}(window.jQuery,window,document);
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):jQuery&&!jQuery.fn.hoverIntent&&e(jQuery)}(function(e){var t,n,i={interval:100,sensitivity:6,timeout:0},o=0,s=function(e){t=e.pageX,n=e.pageY},r=function(e,i,o,a){return Math.sqrt((o.pX-t)*(o.pX-t)+(o.pY-n)*(o.pY-n))<a.sensitivity?(i.off("mousemove.hoverIntent"+o.namespace,s),delete o.timeoutId,o.isActive=!0,delete o.pX,delete o.pY,a.over.apply(i[0],[e])):(o.pX=t,o.pY=n,void(o.timeoutId=setTimeout(function(){r(e,i,o,a)},a.interval)))};e.fn.hoverIntent=function(t,n,a){var d=o++,u=e.extend({},i),u=e.isPlainObject(t)?e.extend(u,t):e.isFunction(n)?e.extend(u,{over:t,out:n,selector:a}):e.extend(u,{over:t,out:t,selector:n});return t=function(t){var n=e.extend({},t),i=e(this),o=i.data("hoverIntent");o||i.data("hoverIntent",o={});var a=o[d];a||(o[d]=a={id:d}),a.timeoutId&&(a.timeoutId=clearTimeout(a.timeoutId)),o=a.namespace=".hoverIntent"+d,"mouseenter"===t.type?a.isActive||(a.pX=n.pageX,a.pY=n.pageY,i.on("mousemove.hoverIntent"+o,s),a.timeoutId=setTimeout(function(){r(n,i,a,u)},u.interval)):a.isActive&&(i.off("mousemove.hoverIntent"+o,s),a.timeoutId=setTimeout(function(){var e=a,t=u.out;delete i.data("hoverIntent")[e.id],t.apply(i[0],[n])},u.timeout))},this.on({"mouseenter.hoverIntent":t,"mouseleave.hoverIntent":t},u.selector)}}),function(e){e.fn.menumaker=function(t){var n=e(this),i=e.extend({title:"Menu",format:"dropdown",sticky:!1},t);return this.each(function(){return n.prepend('<div id="menu-button">'+i.title+"</div>"),e(this).find("#menu-button").on("click",function(){e(this).toggleClass("menu-opened");var t=e(this).next("ul");t.hasClass("open")?t.hide().removeClass("open"):(t.show().addClass("open"),"dropdown"===i.format&&t.find("ul").show())}),n.find("li ul").parent().addClass("has-sub"),multiTg=function(){n.find(".has-sub").prepend('<span class="submenu-button"></span>'),n.find(".submenu-button").on("click",function(){e(this).toggleClass("submenu-opened"),e(this).siblings("ul").hasClass("open")?e(this).siblings("ul").removeClass("open").hide():e(this).siblings("ul").addClass("open").show()})},"multitoggle"===i.format?multiTg():n.addClass("dropdown"),i.sticky===!0&&n.css("position","fixed"),resizeFix=function(){e(window).width()>860&&n.find("ul").show(),e(window).width()<=860&&n.find("ul").hide().removeClass("open")},resizeFix(),e(window).on("resize",resizeFix)})}}(jQuery),function(e){e("#cssmenu").menumaker({title:"Меню",format:"multitoggle"}),e("#cssmenu").prepend("<div id='menu-line' class='only-line'></div>");var t,n,i,o,s=!1,r=0,a=e("#cssmenu #menu-line");e("#cssmenu > ul > li").each(function(){e(this).hasClass("active")&&(t=e(this),s=!0)}),s===!1&&(t=e("#cssmenu > ul > li").first()),o=n=t.width(),i=r=t.position().left,a.css("width",n),a.css("left",r),e("#cssmenu > ul > li").hover(function(){t=e(this),n=t.width(),r=t.position().left,a.css("width",n),a.css("left",r)},function(){a.css("left",i),a.css("width",o)})}(jQuery),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";function t(e,t,n){var i;return function(){var o=this,s=arguments,r=function(){i=null,n||e.apply(o,s)},a=n&&!i;clearTimeout(i),i=setTimeout(r,t),a&&e.apply(o,s)}}function n(e){var t=++u;return String(null==e?"rmjs-":e)+t}function i(e){var t=e.clone().css({height:"auto",width:e.width(),maxHeight:"none",overflow:"hidden"}).insertAfter(e),n=t.outerHeight(),i=parseInt(t.css({maxHeight:""}).css("max-height").replace(/[^-\d\.]/g,""),10),o=e.data("defaultHeight");t.remove();var s=i||e.data("collapsedHeight")||o;e.data({expandedHeight:n,maxHeight:i,collapsedHeight:s}).css({maxHeight:"none"})}function o(e){if(!d[e.selector]){var t=" ";e.embedCSS&&""!==e.blockCSS&&(t+=e.selector+" + [data-readmore-toggle], "+e.selector+"[data-readmore]{"+e.blockCSS+"}"),t+=e.selector+"[data-readmore]{transition: height "+e.speed+"ms;overflow: hidden;}",function(e,t){var n=e.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(e.createTextNode(t)),e.getElementsByTagName("head")[0].appendChild(n)}(document,t),d[e.selector]=!0}}function s(t,n){this.element=t,this.options=e.extend({},a,n),o(this.options),this._defaults=a,this._name=r,this.init(),window.addEventListener?(window.addEventListener("load",c),window.addEventListener("resize",c)):(window.attachEvent("load",c),window.attachEvent("resize",c))}var r="readmore",a={speed:100,collapsedHeight:200,heightMargin:16,moreLink:'<a href="#">Read More</a>',lessLink:'<a href="#">Close</a>',embedCSS:!0,blockCSS:"display: block; width: 100%;",startOpen:!1,blockProcessed:function(){},beforeToggle:function(){},afterToggle:function(){}},d={},u=0,c=t(function(){e("[data-readmore]").each(function(){var t=e(this),n="true"===t.attr("aria-expanded");i(t),t.css({height:t.data(n?"expandedHeight":"collapsedHeight")})})},100);s.prototype={init:function(){var t=e(this.element);t.data({defaultHeight:this.options.collapsedHeight,heightMargin:this.options.heightMargin}),i(t);var o=t.data("collapsedHeight"),s=t.data("heightMargin");if(t.outerHeight(!0)<=o+s)return this.options.blockProcessed&&"function"==typeof this.options.blockProcessed&&this.options.blockProcessed(t,!1),!0;var r=t.attr("id")||n(),a=this.options.startOpen?this.options.lessLink:this.options.moreLink;t.attr({"data-readmore":"","aria-expanded":this.options.startOpen,id:r}),t.after(e(a).on("click",function(e){return function(n){e.toggle(this,t[0],n)}}(this)).attr({"data-readmore-toggle":r,"aria-controls":r})),this.options.startOpen||t.css({height:o}),this.options.blockProcessed&&"function"==typeof this.options.blockProcessed&&this.options.blockProcessed(t,!0)},toggle:function(t,n,i){i&&i.preventDefault(),t||(t=e('[aria-controls="'+this.element.id+'"]')[0]),n||(n=this.element);var o=e(n),s="",r="",a=!1,d=o.data("collapsedHeight");o.height()<=d?(s=o.data("expandedHeight")+"px",r="lessLink",a=!0):(s=d,r="moreLink"),this.options.beforeToggle&&"function"==typeof this.options.beforeToggle&&this.options.beforeToggle(t,o,!a),o.css({height:s}),o.on("transitionend",function(n){return function(){n.options.afterToggle&&"function"==typeof n.options.afterToggle&&n.options.afterToggle(t,o,a),e(this).attr({"aria-expanded":a}).off("transitionend")}}(this)),e(t).replaceWith(e(this.options[r]).on("click",function(e){return function(t){e.toggle(this,n,t)}}(this)).attr({"data-readmore-toggle":o.attr("id"),"aria-controls":o.attr("id")}))},destroy:function(){e(this.element).each(function(){var t=e(this);t.attr({"data-readmore":null,"aria-expanded":null}).css({maxHeight:"",height:""}).next("[data-readmore-toggle]").remove(),t.removeData()})}},e.fn.readmore=function(t){var n=arguments,i=this.selector;return t=t||{},"object"==typeof t?this.each(function(){if(e.data(this,"plugin_"+r)){var n=e.data(this,"plugin_"+r);n.destroy.apply(n)}t.selector=i,e.data(this,"plugin_"+r,new s(this,t))}):"string"==typeof t&&"_"!==t[0]&&"init"!==t?this.each(function(){var i=e.data(this,"plugin_"+r);i instanceof s&&"function"==typeof i[t]&&i[t].apply(i,Array.prototype.slice.call(n,1))}):void 0}}),function(e){var t=!1;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof exports&&(module.exports=e(),t=!0),!t){var n=window.Cookies,i=window.Cookies=e();i.noConflict=function(){return window.Cookies=n,i}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(n){function i(t,o,s){var r;if("undefined"!=typeof document){if(arguments.length>1){if(s=e({path:"/"},i.defaults,s),"number"==typeof s.expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*s.expires),s.expires=a}s.expires=s.expires?s.expires.toUTCString():"";try{r=JSON.stringify(o),/^[\{\[]/.test(r)&&(o=r)}catch(d){}o=n.write?n.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape);var u="";for(var c in s)s[c]&&(u+="; "+c,s[c]!==!0&&(u+="="+s[c]));return document.cookie=t+"="+o+u}t||(r={});for(var h=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,f=0;f<h.length;f++){var p=h[f].split("="),m=p.slice(1).join("=");'"'===m.charAt(0)&&(m=m.slice(1,-1));try{var g=p[0].replace(l,decodeURIComponent);if(m=n.read?n.read(m,g):n(m,g)||m.replace(l,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(d){}if(t===g){r=m;break}t||(r[g]=m)}catch(d){}}return r}}return i.set=i,i.get=function(e){return i.call(i,e)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(t,n){i(t,"",e(n,{expires:-1}))},i.withConverter=t,i}return t(function(){})}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Countdown=e()}}(function(){return function e(t,n,i){function o(r,a){if(!n[r]){if(!t[r]){var d="function"==typeof require&&require;if(!a&&d)return d(r,!0);if(s)return s(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[r]={exports:{}};t[r][0].call(c.exports,function(e){var n=t[r][1][e];return o(n?n:e)},c,c.exports,e,t,n,i)}return n[r].exports}for(var s="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){var i={date:"June 7, 2087 15:03:25",refresh:1e3,offset:0,onEnd:function(){},render:function(e){this.el.innerHTML=e.years+" years, "+e.days+" days, "+this.leadingZeros(e.hours)+" hours, "+this.leadingZeros(e.min)+" min and "+this.leadingZeros(e.sec)+" sec"}},o=function(e,t){this.el=e,this.options={},this.interval=!1;for(var n in i)i.hasOwnProperty(n)&&(this.options[n]="undefined"!=typeof t[n]?t[n]:i[n],"date"===n&&"object"!=typeof this.options.date&&(this.options.date=new Date(this.options.date)),"function"==typeof this.options[n]&&(this.options[n]=this.options[n].bind(this)));this.getDiffDate=function(){var e=(this.options.date.getTime()-Date.now()+this.options.offset)/1e3,t={years:0,days:0,hours:0,min:0,sec:0,millisec:0};return e<=0?(this.interval&&(this.stop(),this.options.onEnd()),t):(e>=31557600&&(t.years=Math.floor(e/31557600),e-=365.25*t.years*86400),e>=86400&&(t.days=Math.floor(e/86400),e-=86400*t.days),e>=3600&&(t.hours=Math.floor(e/3600),e-=3600*t.hours),e>=60&&(t.min=Math.floor(e/60),e-=60*t.min),t.sec=Math.round(e),t.millisec=e%1*1e3,t)}.bind(this),this.leadingZeros=function(e,t){return t=t||2,e=String(e),e.length>t?e:(Array(t+1).join("0")+e).substr(-t)},this.update=function(e){return"object"!=typeof e&&(e=new Date(e)),this.options.date=e,this.render(),this}.bind(this),this.stop=function(){return this.interval&&(clearInterval(this.interval),this.interval=!1),this}.bind(this),this.render=function(){return this.options.render(this.getDiffDate()),this}.bind(this),this.start=function(){if(!this.interval)return this.render(),this.options.refresh&&(this.interval=setInterval(this.render,this.options.refresh)),this}.bind(this),this.updateOffset=function(e){return this.options.offset=e,this}.bind(this),this.start()};t.exports=o},{}],2:[function(e,t,n){var i=e("./countdown.js"),o="countdown",s="date";jQuery.fn.countdown=function(e){return $.each(this,function(t,n){var r=$(n);r.data(o)||(r.data(s)&&(e.date=r.data(s)),r.data(o,new i(n,e)))})},t.exports=i},{"./countdown.js":1}]},{},[2])(2)});
!function(e){window.lightcase={cache:{},support:{},labels:{errorMessage:"Source could not be found...","http://the-radio.ru/min/sequenceInfo.of":" of ",close:"Close","http://the-radio.ru/min/navigator.prev":"Prev","http://the-radio.ru/min/navigator.next":"Next","http://the-radio.ru/min/navigator.play":"Play","navigator.pause":"Pause"},init:function(t){return this.each(function(){e(this).unbind("click.lightcase").bind("click.lightcase",function(i){i.preventDefault(),e(this).lightcase("start",t)})})},start:function(t){lightcase.origin=this,lightcase.settings=e.extend(!0,{idPrefix:"lightcase-",classPrefix:"lightcase-",attrPrefix:"lc-",transition:"elastic",transitionIn:null,transitionOut:null,cssTransitions:!0,speedIn:250,speedOut:250,maxWidth:800,maxHeight:500,forceWidth:!1,forceHeight:!1,liveResize:!0,fullScreenModeForMobile:!0,mobileMatchExpression:/(iphone|ipod|ipad|android|blackberry|symbian)/,disableShrink:!1,shrinkFactor:.75,overlayOpacity:.9,slideshow:!1,timeout:5e3,swipe:!0,useKeys:!0,useCategories:!0,navigateEndless:!0,closeOnOverlayClick:!0,title:null,caption:null,showTitle:!0,showCaption:!0,showSequenceInfo:!0,inline:{width:"auto",height:"auto"},ajax:{width:"auto",height:"auto",type:"get",dataType:"html",data:{}},iframe:{width:800,height:500,frameborder:0},flash:{width:400,height:205,wmode:"transparent"},video:{width:400,height:225,poster:"",preload:"auto",controls:!0,autobuffer:!0,autoplay:!0,loop:!1},attr:"data-rel",href:null,type:null,typeMapping:{image:"jpg,jpeg,gif,png,bmp",flash:"swf",video:"mp4,mov,ogv,ogg,webm",iframe:"html,php",ajax:"json,txt",inline:"#"},errorMessage:function(){return'<p class="'+lightcase.settings.classPrefix+'error">'+lightcase.labels.errorMessage+"</p>"},markup:function(){e("body").append($overlay=e('<div id="'+lightcase.settings.idPrefix+'overlay"></div>'),$loading=e('<div id="'+lightcase.settings.idPrefix+'loading" class="'+lightcase.settings.classPrefix+'icon-spin"></div>'),$case=e('<div id="'+lightcase.settings.idPrefix+'case" aria-hidden="true" role="dialog"></div>')),$case.after($nav=e('<div id="'+lightcase.settings.idPrefix+'nav"></div>')),$nav.append($close=e('<a href="#" class="'+lightcase.settings.classPrefix+'icon-close"><span>'+lightcase.labels.close+"</span></a>"),$prev=e('<a href="#" class="'+lightcase.settings.classPrefix+'icon-prev"><span>'+lightcase.labels["http://the-radio.ru/min/navigator.prev"]+"</span></a>").hide(),$next=e('<a href="#" class="'+lightcase.settings.classPrefix+'icon-next"><span>'+lightcase.labels["http://the-radio.ru/min/navigator.next"]+"</span></a>").hide(),$play=e('<a href="#" class="'+lightcase.settings.classPrefix+'icon-play"><span>'+lightcase.labels["http://the-radio.ru/min/navigator.play"]+"</span></a>").hide(),$pause=e('<a href="#" class="'+lightcase.settings.classPrefix+'icon-pause"><span>'+lightcase.labels["navigator.pause"]+"</span></a>").hide()),$case.append($content=e('<div class="'+lightcase.settings.classPrefix+'content"></div>'),$info=e('<div class="'+lightcase.settings.classPrefix+'info"></div>')),$content.append($contentInner=e('<div class="'+lightcase.settings.classPrefix+'contentInner"></div>')),$info.append($sequenceInfo=e('<div class="'+lightcase.settings.classPrefix+'sequenceInfo"></div>'),$title=e('<h4 class="'+lightcase.settings.classPrefix+'title"></h4>'),$caption=e('<p class="'+lightcase.settings.classPrefix+'caption"></p>'))},onInit:{},onStart:{},onFinish:{},onClose:{},onCleanup:{}},t),lightcase.callHooks(lightcase.settings.onInit),lightcase.objectData=lightcase.getObjectData(this),lightcase.cacheScrollPosition(),lightcase.watchScrollInteraction(),lightcase.addElements(),lightcase.lightcaseOpen(),lightcase.dimensions=lightcase.getDimensions()},getObjectData:function(t){var i={title:lightcase.settings.title||t.attr("title"),caption:lightcase.settings.caption||t.children("img").attr("alt"),url:lightcase.verifyDataUrl(lightcase.determineLinkTarget()),requestType:lightcase.settings.ajax.type,requestData:lightcase.settings.ajax.data,requestDataType:lightcase.settings.ajax.dataType,rel:t.attr(lightcase.determineAttributeSelector()),type:lightcase.settings.type||lightcase.verifyDataType(lightcase.determineLinkTarget()),isPartOfSequence:lightcase.isPartOfSequence(t.attr(lightcase.settings.attr),":"),isPartOfSequenceWithSlideshow:lightcase.isPartOfSequence(t.attr(lightcase.settings.attr),":slideshow"),currentIndex:e(lightcase.determineAttributeSelector()).index(t),sequenceLength:e(lightcase.determineAttributeSelector()).length};return i.sequenceInfo=i.currentIndex+1+lightcase.labels["http://the-radio.ru/min/sequenceInfo.of"]+i.sequenceLength,i.prevIndex=i.currentIndex-1,i.nextIndex=i.currentIndex+1,i},prefixAttributeName:function(e){return"data-"+lightcase.settings.attrPrefix+e},determineLinkTarget:function(){return lightcase.settings.href||e(lightcase.origin).attr("data-href")||e(lightcase.origin).attr("href")},determineAttributeSelector:function(){var t=e(lightcase.origin),i="";if("undefined"!=typeof lightcase.cache.selector)i=lightcase.cache.selector;else if(lightcase.settings.useCategories===!0&&t.attr(lightcase.prefixAttributeName("categories"))){var s=t.attr(lightcase.prefixAttributeName("categories")).split(" ");e.each(s,function(e,t){e>0&&(i+=","),i+="["+lightcase.prefixAttributeName("categories")+'~="'+t+'"]'})}else i="["+lightcase.settings.attr+'="'+t.attr(lightcase.settings.attr)+'"]';return lightcase.cache.selector=i,i},isPartOfSequence:function(t,i){var s=e("["+lightcase.settings.attr+'="'+t+'"]'),a=new RegExp(i);return!!(a.test(t)&&s.length>1)},isSlideshowEnabled:function(){return!(!lightcase.objectData.isPartOfSequence||lightcase.settings.slideshow!==!0&&lightcase.objectData.isPartOfSequenceWithSlideshow!==!0)},loadContent:function(){lightcase.cache.originalObject&&lightcase.restoreObject(),lightcase.createObject()},createObject:function(){var t;switch(lightcase.objectData.type){case"image":t=e(new Image),t.attr({src:lightcase.objectData.url,alt:lightcase.objectData.title});break;case"inline":t=e('<div class="'+lightcase.settings.classPrefix+'inlineWrap"></div>'),t.html(lightcase.cloneObject(e(lightcase.objectData.url))),e.each(lightcase.settings.inline,function(e,i){t.attr(lightcase.prefixAttributeName(e),i)});break;case"ajax":t=e('<div class="'+lightcase.settings.classPrefix+'inlineWrap"></div>'),e.each(lightcase.settings.ajax,function(e,i){"data"!==e&&t.attr(lightcase.prefixAttributeName(e),i)});break;case"flash":t=e('<embed src="'+lightcase.objectData.url+'" type="application/x-shockwave-flash"></embed>'),e.each(lightcase.settings.flash,function(e,i){t.attr(e,i)});break;case"video":t=e("<video></video>"),t.attr("src",lightcase.objectData.url),e.each(lightcase.settings.video,function(e,i){t.attr(e,i)});break;default:t=e("<iframe></iframe>"),t.attr({src:lightcase.objectData.url}),e.each(lightcase.settings.iframe,function(e,i){t.attr(e,i)})}lightcase.addObject(t),lightcase.loadObject(t)},addObject:function(e){$contentInner.html(e),lightcase.loading("start"),lightcase.callHooks(lightcase.settings.onStart),lightcase.settings.showSequenceInfo===!0&&lightcase.objectData.isPartOfSequence?($sequenceInfo.html(lightcase.objectData.sequenceInfo),$sequenceInfo.show()):($sequenceInfo.empty(),$sequenceInfo.hide()),lightcase.settings.showTitle===!0&&void 0!==lightcase.objectData.title&&""!==lightcase.objectData.title?($title.html(lightcase.objectData.title),$title.show()):"undefined"!=typeof $title.empty&&($title.empty(),$title.hide()),lightcase.settings.showCaption===!0&&void 0!==lightcase.objectData.caption&&""!==lightcase.objectData.caption?($caption.html(lightcase.objectData.caption),$caption.show()):($caption.empty(),$caption.hide())},loadObject:function(t){switch(lightcase.objectData.type){case"inline":e(lightcase.objectData.url)?lightcase.showContent(t):lightcase.error();break;case"ajax":e.ajax(e.extend({},lightcase.settings.ajax,{url:lightcase.objectData.url,type:lightcase.objectData.requestType,dataType:lightcase.objectData.requestDataType,data:lightcase.objectData.requestData,success:function(e,i,s){"json"===lightcase.objectData.requestDataType?lightcase.objectData.data=e:t.html(e),lightcase.showContent(t)},error:function(e,t,i){lightcase.error()}}));break;case"flash":lightcase.showContent(t);break;case"video":"function"==typeof t.get(0).canPlayType||0===$case.find("video").length?lightcase.showContent(t):lightcase.error();break;default:lightcase.objectData.url?(t.load(function(){lightcase.showContent(t)}),t.error(function(){lightcase.error()})):lightcase.error()}},error:function(){lightcase.objectData.type="error";var t=e('<div class="'+lightcase.settings.classPrefix+'inlineWrap"></div>');t.html(lightcase.settings.errorMessage),$contentInner.html(t),lightcase.showContent($contentInner)},calculateDimensions:function(e){lightcase.cleanupDimensions();var t={objectWidth:e.attr("width")?e.attr("width"):e.attr(lightcase.prefixAttributeName("width")),objectHeight:e.attr("height")?e.attr("height"):e.attr(lightcase.prefixAttributeName("height"))};if(!lightcase.settings.disableShrink)switch(t.maxWidth=parseInt(lightcase.dimensions.windowWidth*lightcase.settings.shrinkFactor),t.maxHeight=parseInt(lightcase.dimensions.windowHeight*lightcase.settings.shrinkFactor),t.maxWidth>lightcase.settings.maxWidth&&(t.maxWidth=lightcase.settings.maxWidth),t.maxHeight>lightcase.settings.maxHeight&&(t.maxHeight=lightcase.settings.maxHeight),t.differenceWidthAsPercent=parseInt(100/t.maxWidth*t.objectWidth),t.differenceHeightAsPercent=parseInt(100/t.maxHeight*t.objectHeight),lightcase.objectData.type){case"image":case"flash":case"video":t.differenceWidthAsPercent>100&&t.differenceWidthAsPercent>t.differenceHeightAsPercent&&(t.objectWidth=t.maxWidth,t.objectHeight=parseInt(t.objectHeight/t.differenceWidthAsPercent*100)),t.differenceHeightAsPercent>100&&t.differenceHeightAsPercent>t.differenceWidthAsPercent&&(t.objectWidth=parseInt(t.objectWidth/t.differenceHeightAsPercent*100),t.objectHeight=t.maxHeight),t.differenceHeightAsPercent>100&&t.differenceWidthAsPercent<t.differenceHeightAsPercent&&(t.objectWidth=parseInt(t.maxWidth/t.differenceHeightAsPercent*t.differenceWidthAsPercent),t.objectHeight=t.maxHeight);break;case"error":!isNaN(t.objectWidth)&&t.objectWidth>t.maxWidth&&(t.objectWidth=t.maxWidth);break;default:(isNaN(t.objectWidth)||t.objectWidth>t.maxWidth)&&!lightcase.settings.forceWidth&&(t.objectWidth=t.maxWidth),(isNaN(t.objectHeight)&&"auto"!==t.objectHeight||t.objectHeight>t.maxHeight)&&!lightcase.settings.forceHeight&&(t.objectHeight=t.maxHeight)}lightcase.adjustDimensions(e,t)},adjustDimensions:function(e,t){e.css({width:t.objectWidth,height:t.objectHeight,"max-width":e.attr(lightcase.prefixAttributeName("max-width"))?e.attr(lightcase.prefixAttributeName("max-width")):t.maxWidth,"max-height":e.attr(lightcase.prefixAttributeName("max-height"))?e.attr(lightcase.prefixAttributeName("max-height")):t.maxHeight}),$contentInner.css({width:e.outerWidth(),height:e.outerHeight(),"max-width":"100%"}),$case.css({width:$contentInner.outerWidth()}),$case.css({"margin-top":parseInt(-($case.outerHeight()/2)),"margin-left":parseInt(-($case.outerWidth()/2))})},loading:function(e){"start"===e?($case.addClass(lightcase.settings.classPrefix+"loading"),$loading.show()):"end"===e&&($case.removeClass(lightcase.settings.classPrefix+"loading"),$loading.hide())},getDimensions:function(){return{windowWidth:e(window).innerWidth(),windowHeight:e(window).innerHeight()}},verifyDataUrl:function(e){return!(!e||void 0===e||""===e)&&(e.indexOf("#")>-1&&(e=e.split("#"),e="#"+e[e.length-1]),e.toString())},verifyDataType:function(e){var e=lightcase.verifyDataUrl(e),t=lightcase.settings.typeMapping;if(e)for(var i in t)for(var s=t[i].split(","),a=0;a<s.length;a++){var c=s[a].toLowerCase(),n=new RegExp(".("+c+")$","i"),l=e.toLowerCase().split("?")[0].substr(-5);if(n.test(l)===!0)return i;if("inline"===i&&(e.indexOf(c)>-1||!e))return i}return"iframe"},addElements:function(){"undefined"!=typeof $case&&e("#"+$case.attr("id")).length||lightcase.settings.markup()},showContent:function(e){switch($case.attr(lightcase.prefixAttributeName("type"),lightcase.objectData.type),lightcase.cache.object=e,lightcase.calculateDimensions(e),lightcase.callHooks(lightcase.settings.onFinish),lightcase.settings.transitionIn){case"scrollTop":case"scrollRight":case"scrollBottom":case"scrollLeft":case"scrollHorizontal":case"scrollVertical":lightcase.transition.scroll($case,"in",lightcase.settings.speedIn),lightcase.transition.fade($contentInner,"in",lightcase.settings.speedIn);break;case"elastic":$case.css("opacity")<1&&(lightcase.transition.zoom($case,"in",lightcase.settings.speedIn),lightcase.transition.fade($contentInner,"in",lightcase.settings.speedIn));case"fade":case"fadeInline":lightcase.transition.fade($case,"in",lightcase.settings.speedIn),lightcase.transition.fade($contentInner,"in",lightcase.settings.speedIn);break;default:lightcase.transition.fade($case,"in",0)}lightcase.loading("end"),lightcase.busy=!1},processContent:function(){switch(lightcase.busy=!0,lightcase.settings.transitionOut){case"scrollTop":case"scrollRight":case"scrollBottom":case"scrollLeft":case"scrollVertical":case"scrollHorizontal":$case.is(":hidden")?(lightcase.transition.fade($case,"out",0,0,function(){lightcase.loadContent()}),lightcase.transition.fade($contentInner,"out",0)):lightcase.transition.scroll($case,"out",lightcase.settings.speedOut,function(){lightcase.loadContent()});break;case"fade":$case.is(":hidden")?lightcase.transition.fade($case,"out",0,0,function(){lightcase.loadContent()}):lightcase.transition.fade($case,"out",lightcase.settings.speedOut,0,function(){lightcase.loadContent()});break;case"fadeInline":case"elastic":$case.is(":hidden")?lightcase.transition.fade($case,"out",0,0,function(){lightcase.loadContent()}):lightcase.transition.fade($contentInner,"out",lightcase.settings.speedOut,0,function(){lightcase.loadContent()});break;default:lightcase.transition.fade($case,"out",0,0,function(){lightcase.loadContent()})}},handleEvents:function(){lightcase.unbindEvents(),$nav.children().not($close).hide(),lightcase.isSlideshowEnabled()&&($nav.hasClass(lightcase.settings.classPrefix+"paused")?lightcase.stopTimeout():lightcase.startTimeout()),lightcase.settings.liveResize&&lightcase.watchResizeInteraction(),$close.click(function(e){e.preventDefault(),lightcase.lightcaseClose()}),lightcase.settings.closeOnOverlayClick===!0&&$overlay.css("cursor","pointer").click(function(e){e.preventDefault(),lightcase.lightcaseClose()}),lightcase.settings.useKeys===!0&&lightcase.addKeyEvents(),lightcase.objectData.isPartOfSequence&&($nav.attr(lightcase.prefixAttributeName("ispartofsequence"),!0),lightcase.nav=lightcase.setNavigation(),$prev.click(function(e){e.preventDefault(),lightcase.settings.navigateEndless!==!0&&lightcase.item.isFirst()||($prev.unbind("click"),lightcase.cache.action="prev",lightcase.nav.$prevItem.click(),lightcase.isSlideshowEnabled()&&lightcase.stopTimeout())}),$next.click(function(e){e.preventDefault(),lightcase.settings.navigateEndless!==!0&&lightcase.item.isLast()||($next.unbind("click"),lightcase.cache.action="next",lightcase.nav.$nextItem.click(),lightcase.isSlideshowEnabled()&&lightcase.stopTimeout())}),lightcase.isSlideshowEnabled()&&($play.click(function(e){e.preventDefault(),lightcase.startTimeout()}),$pause.click(function(e){e.preventDefault(),lightcase.stopTimeout()})),lightcase.settings.swipe===!0&&(e.isPlainObject(e.event.special.swipeleft)&&$case.on("swipeleft",function(e){e.preventDefault(),$next.click(),lightcase.isSlideshowEnabled()&&lightcase.stopTimeout()}),e.isPlainObject(e.event.special.swiperight)&&$case.on("swiperight",function(e){e.preventDefault(),$prev.click(),lightcase.isSlideshowEnabled()&&lightcase.stopTimeout()})))},addKeyEvents:function(){e(document).bind("keyup.lightcase",function(e){if(!lightcase.busy)switch(e.keyCode){case 27:$close.click();break;case 37:lightcase.objectData.isPartOfSequence&&$prev.click();break;case 39:lightcase.objectData.isPartOfSequence&&$next.click()}})},startTimeout:function(){$play.hide(),$pause.show(),lightcase.cache.action="next",$nav.removeClass(lightcase.settings.classPrefix+"paused"),lightcase.timeout=setTimeout(function(){lightcase.nav.$nextItem.click()},lightcase.settings.timeout)},stopTimeout:function(){$play.show(),$pause.hide(),$nav.addClass(lightcase.settings.classPrefix+"paused"),clearTimeout(lightcase.timeout)},setNavigation:function(){var t=e(lightcase.cache.selector||lightcase.settings.attr),i=lightcase.objectData.sequenceLength-1,s={$prevItem:t.eq(lightcase.objectData.prevIndex),$nextItem:t.eq(lightcase.objectData.nextIndex)};return lightcase.objectData.currentIndex>0?$prev.show():s.$prevItem=t.eq(i),lightcase.objectData.nextIndex<=i?$next.show():s.$nextItem=t.eq(0),lightcase.settings.navigateEndless===!0&&($prev.show(),$next.show()),s},item:{isFirst:function(){return 0===lightcase.objectData.currentIndex},isLast:function(){return lightcase.objectData.currentIndex===lightcase.objectData.sequenceLength-1}},cloneObject:function(e){var t=e.clone(),i=e.attr("id");return e.is(":hidden")?(lightcase.cacheObjectData(e),e.attr("id",lightcase.settings.idPrefix+"temp-"+i).empty()):t.removeAttr("id"),t.show()},isMobileDevice:function(){var e=navigator.userAgent.toLowerCase(),t=e.match(lightcase.settings.mobileMatchExpression);return!!t},isTransitionSupported:function(){var t=e("body").get(0),i=!1,s={transition:"",WebkitTransition:"-webkit-",MozTransition:"-moz-",OTransition:"-o-",MsTransition:"-ms-"};for(var a in s)s.hasOwnProperty(a)&&a in t.style&&(lightcase.support.transition=s[a],i=!0);return i},transition:{fade:function(e,t,i,s,a){var c="in"===t,n={},l=e.css("opacity"),o={},r=s?s:c?1:0;!lightcase.open&&c||(n.opacity=l,o.opacity=r,e.css(n).show(),lightcase.support.transitions?(o[lightcase.support.transition+"transition"]=i+"ms ease",setTimeout(function(){e.css(o),setTimeout(function(){e.css(lightcase.support.transition+"transition",""),!a||!lightcase.open&&c||a()},i)},15)):(e.stop(),e.animate(o,i,a)))},scroll:function(e,t,i,s){var a="in"===t,c=a?lightcase.settings.transitionIn:lightcase.settings.transitionOut,n="left",l={},o=a?0:1,r=a?"-50%":"50%",h={},g=a?1:0,d=a?"50%":"-50%";if(lightcase.open||!a){switch(c){case"scrollTop":n="top";break;case"scrollRight":r=a?"150%":"50%",d=a?"50%":"150%";break;case"scrollBottom":n="top",r=a?"150%":"50%",d=a?"50%":"150%";break;case"scrollHorizontal":r=a?"150%":"50%",d=a?"50%":"-50%";break;case"scrollVertical":n="top",r=a?"-50%":"50%",d=a?"50%":"150%"}if("prev"===lightcase.cache.action)switch(c){case"scrollHorizontal":r=a?"-50%":"50%",d=a?"50%":"150%";break;case"scrollVertical":r=a?"150%":"50%",d=a?"50%":"-50%"}l.opacity=o,l[n]=r,h.opacity=g,h[n]=d,e.css(l).show(),lightcase.support.transitions?(h[lightcase.support.transition+"transition"]=i+"ms ease",setTimeout(function(){e.css(h),setTimeout(function(){e.css(lightcase.support.transition+"transition",""),!s||!lightcase.open&&a||s()},i)},15)):(e.stop(),e.animate(h,i,s))}},zoom:function(e,t,i,s){var a="in"===t,c={},n=e.css("opacity"),l=a?"scale(0.75)":"scale(1)",o={},r=a?1:0,h=a?"scale(1)":"scale(0.75)";!lightcase.open&&a||(c.opacity=n,c[lightcase.support.transition+"transform"]=l,o.opacity=r,e.css(c).show(),lightcase.support.transitions?(o[lightcase.support.transition+"transform"]=h,o[lightcase.support.transition+"transition"]=i+"ms ease",setTimeout(function(){e.css(o),setTimeout(function(){e.css(lightcase.support.transition+"transform",""),e.css(lightcase.support.transition+"transition",""),!s||!lightcase.open&&a||s()},i)},15)):(e.stop(),e.animate(o,i,s)))}},callHooks:function(t){"object"==typeof t&&e.each(t,function(e,t){"function"==typeof t&&t.call(lightcase.origin)})},cacheObjectData:function(t){e.data(t,"cache",{id:t.attr("id"),content:t.html()}),lightcase.cache.originalObject=t},restoreObject:function(){var t=e('[id^="'+lightcase.settings.idPrefix+'temp-"]');t.attr("id",e.data(lightcase.cache.originalObject,"cache").id),t.html(e.data(lightcase.cache.originalObject,"cache").content)},resize:function(){lightcase.open&&(lightcase.isSlideshowEnabled()&&lightcase.stopTimeout(),lightcase.dimensions=lightcase.getDimensions(),lightcase.calculateDimensions(lightcase.cache.object))},cacheScrollPosition:function(){var t=e(window),i=e(document),s={top:t.scrollTop(),left:t.scrollLeft()};lightcase.cache.scrollPosition=lightcase.cache.scrollPosition||{},i.width()>t.width()&&(lightcase.cache.scrollPosition.left=s.left),i.height()>t.height()&&(lightcase.cache.scrollPosition.top=s.top)},watchResizeInteraction:function(){e(window).resize(lightcase.resize)},unwatchResizeInteraction:function(){e(window).off("resize",lightcase.resize)},watchScrollInteraction:function(){e(window).scroll(lightcase.cacheScrollPosition)},unwatchScrollInteraction:function(){e(window).off("scroll",lightcase.cacheScrollPosition)},restoreScrollPosition:function(){e(window).scrollTop(parseInt(lightcase.cache.scrollPosition.top)).scrollLeft(parseInt(lightcase.cache.scrollPosition.left)).resize()},switchToFullScreenMode:function(){lightcase.settings.shrinkFactor=1,lightcase.settings.overlayOpacity=1,e("html").addClass(lightcase.settings.classPrefix+"fullScreenMode")},lightcaseOpen:function(){switch(lightcase.open=!0,lightcase.support.transitions=!!lightcase.settings.cssTransitions&&lightcase.isTransitionSupported(),lightcase.support.mobileDevice=lightcase.isMobileDevice(),lightcase.support.mobileDevice&&(e("html").addClass(lightcase.settings.classPrefix+"isMobileDevice"),lightcase.settings.fullScreenModeForMobile&&lightcase.switchToFullScreenMode()),lightcase.settings.transitionIn||(lightcase.settings.transitionIn=lightcase.settings.transition),lightcase.settings.transitionOut||(lightcase.settings.transitionOut=lightcase.settings.transition),lightcase.settings.transitionIn){case"fade":case"fadeInline":case"elastic":case"scrollTop":case"scrollRight":case"scrollBottom":case"scrollLeft":case"scrollVertical":case"scrollHorizontal":$case.is(":hidden")&&($close.css("opacity",0),$overlay.css("opacity",0),$case.css("opacity",0),$contentInner.css("opacity",0)),lightcase.transition.fade($overlay,"in",lightcase.settings.speedIn,lightcase.settings.overlayOpacity,function(){lightcase.transition.fade($close,"in",lightcase.settings.speedIn),lightcase.handleEvents(),lightcase.processContent()});break;default:lightcase.transition.fade($overlay,"in",0,lightcase.settings.overlayOpacity,function(){lightcase.transition.fade($close,"in",0),lightcase.handleEvents(),lightcase.processContent()})}e("html").addClass(lightcase.settings.classPrefix+"open"),$case.attr("aria-hidden","false")},lightcaseClose:function(){switch(lightcase.open=!1,lightcase.isSlideshowEnabled()&&(lightcase.stopTimeout(),$nav.removeClass(lightcase.settings.classPrefix+"paused")),$loading.hide(),lightcase.unbindEvents(),lightcase.unwatchResizeInteraction(),lightcase.unwatchScrollInteraction(),e("html").removeClass(lightcase.settings.classPrefix+"open"),$case.attr("aria-hidden","true"),$nav.children().hide(),lightcase.restoreScrollPosition(),lightcase.callHooks(lightcase.settings.onClose),lightcase.settings.transitionOut){case"fade":case"fadeInline":case"scrollTop":case"scrollRight":case"scrollBottom":case"scrollLeft":case"scrollHorizontal":case"scrollVertical":lightcase.transition.fade($case,"out",lightcase.settings.speedOut,0,function(){lightcase.transition.fade($overlay,"out",lightcase.settings.speedOut,0,function(){lightcase.cleanup()})});break;case"elastic":lightcase.transition.zoom($case,"out",lightcase.settings.speedOut,function(){lightcase.transition.fade($overlay,"out",lightcase.settings.speedOut,0,function(){lightcase.cleanup()})});break;default:lightcase.cleanup()}},unbindEvents:function(){$overlay.unbind("click"),e(document).unbind("keyup.lightcase"),$case.unbind("swipeleft").unbind("swiperight"),$nav.children("a").unbind("click"),$close.unbind("click")},cleanupDimensions:function(){var e=$contentInner.css("opacity");$case.css({width:"",height:"",top:"",left:"","margin-top":"","margin-left":""}),$contentInner.removeAttr("style").css("opacity",e),$contentInner.children().removeAttr("style")},cleanup:function(){lightcase.cleanupDimensions(),$loading.hide(),$overlay.hide(),$case.hide(),$nav.children().hide(),$case.removeAttr(lightcase.prefixAttributeName("type")),$nav.removeAttr(lightcase.prefixAttributeName("ispartofsequence")),$contentInner.empty().hide(),$info.children().empty(),lightcase.cache.originalObject&&lightcase.restoreObject(),lightcase.callHooks(lightcase.settings.onCleanup),lightcase.cache={}}},e.fn.lightcase=function(t){return lightcase[t]?lightcase[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.lightcase"):lightcase.init.apply(this,arguments)}}(jQuery);
!function(t,e){"object"==typeof exports?module.exports=e(t):t.LightRouter=e(t)}("undefined"==typeof window?void 0:window,function(t){function e(e){this.pathRoot="",this.routes=[],this.type="path",this.path=null,this.hash=null,this.context=this,this.handler=t;var h="([\\w-]+)";if(this.namedParam={match:new RegExp("{("+h+")}","g"),replace:h},e=e||{},e.type&&this.setType(e.type),e.path&&this.setPath(e.path),e.pathRoot&&this.setPathRoot(e.pathRoot),e.hash&&this.setHash(e.hash),e.context&&this.setContext(e.context),e.handler&&this.setHandler(e.handler),e.routes){var s;for(s in e.routes)this.add(s,e.routes[s])}}function h(t,e,h){this.path=t,this.callback=e,this.router=h,this.values=[]}return e.prototype={Route:h,add:function(t,e){return this.routes.push(new this.Route(t,e,this)),this},empty:function(){return this.routes=[],this},setType:function(t){return this.type=t,this},setPathRoot:function(t){return this.pathRoot=t,this},setPath:function(t){return this.path=t,this},setHash:function(t){return this.hash=t,this},setContext:function(t){return this.context=t,this},setHandler:function(t){return this.handler=t,this},getUrl:function(e){var h;if(e=e||this.type,"path"==e){var s=new RegExp("^"+this.pathRoot+"/?");h=this.path||t.location.pathname.substring(1),h=h.replace(s,"")}else"hash"==e&&(h=this.hash||t.location.hash.substring(1));return decodeURI(h)},match:function(t,e){var h=new this.Route(t,e,this);if(h.test(this.getUrl()))return h.run()},run:function(){var t,e=this.getUrl();for(var h in this.routes)if(t=this.routes[h],t.test(e))return t.run(),t}},h.prototype={regex:function(){var t=this.path;return"string"==typeof t?new RegExp("^"+t.replace(/\//g,"\\/").replace(this.router.namedParam.match,this.router.namedParam.replace)+"$"):t},params:function(){var t,e,h={},s=this.values,r=s,i=0,n=this.path;"string"==typeof n&&(i=1,r=n.match(this.router.namedParam.match));for(e in r)t=i?r[e].replace(this.router.namedParam.match,"$1"):e,h[t]=s[e];return h},test:function(t){var e;return!!(e=t.match(this.regex()))&&(this.values=e.slice(1),!0)},run:function(){return"string"==typeof this.callback?this.router.handler[this.callback](this.params()):this.callback.apply(this.router.context,[this.params()])}},e});
!function(t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():window.noUiSlider=t()}(function(){"use strict";function t(t){return t.filter(function(t){return!this[t]&&(this[t]=!0)},{})}function e(t,e){return Math.round(t/e)*e}function n(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,r=n.documentElement,i=d();return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(i.x=0),{top:e.top+i.y-r.clientTop,left:e.left+i.x-r.clientLeft}}function r(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function i(t,e,n){l(t,e),setTimeout(function(){c(t,e)},n)}function o(t){return Math.max(Math.min(t,100),0)}function s(t){return Array.isArray(t)?t:[t]}function a(t){var e=t.split(".");return e.length>1?e[1].length:0}function l(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function c(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function u(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)}function d(){var t=void 0!==window.pageXOffset,e="CSS1Compat"===(document.compatMode||""),n=t?window.pageXOffset:e?document.documentElement.scrollLeft:document.body.scrollLeft,r=t?window.pageYOffset:e?document.documentElement.scrollTop:document.body.scrollTop;return{x:n,y:r}}function f(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function p(t,e){return 100/(e-t)}function h(t,e){return 100*e/(t[1]-t[0])}function m(t,e){return h(t,t[0]<0?e+Math.abs(t[0]):e-t[0])}function v(t,e){return e*(t[1]-t[0])/100+t[0]}function g(t,e){for(var n=1;t>=e[n];)n+=1;return n}function b(t,e,n){if(n>=t.slice(-1)[0])return 100;var r,i,o,s,a=g(n,t);return r=t[a-1],i=t[a],o=e[a-1],s=e[a],o+m([r,i],n)/p(o,s)}function w(t,e,n){if(n>=100)return t.slice(-1)[0];var r,i,o,s,a=g(n,e);return r=t[a-1],i=t[a],o=e[a-1],s=e[a],v([r,i],(n-o)*p(o,s))}function S(t,n,r,i){if(100===i)return i;var o,s,a=g(i,t);return r?(o=t[a-1],s=t[a],i-o>(s-o)/2?s:o):n[a-1]?t[a-1]+e(i-t[a-1],n[a-1]):i}function y(t,e,n){var i;if("number"==typeof e&&(e=[e]),"[object Array]"!==Object.prototype.toString.call(e))throw new Error("noUiSlider: 'range' contains invalid value.");if(i="min"===t?0:"max"===t?100:parseFloat(t),!r(i)||!r(e[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");n.xPct.push(i),n.xVal.push(e[0]),i?n.xSteps.push(!isNaN(e[1])&&e[1]):isNaN(e[1])||(n.xSteps[0]=e[1])}function x(t,e,n){return!e||void(n.xSteps[t]=h([n.xVal[t],n.xVal[t+1]],e)/p(n.xPct[t],n.xPct[t+1]))}function C(t,e,n,r){this.xPct=[],this.xVal=[],this.xSteps=[r||!1],this.xNumSteps=[!1],this.snap=e,this.direction=n;var i,o=[];for(i in t)t.hasOwnProperty(i)&&o.push([t[i],i]);for(o.length&&"object"==typeof o[0][0]?o.sort(function(t,e){return t[0][0]-e[0][0]}):o.sort(function(t,e){return t[0]-e[0]}),i=0;i<o.length;i++)y(o[i][1],o[i][0],this);for(this.xNumSteps=this.xSteps.slice(0),i=0;i<this.xNumSteps.length;i++)x(i,this.xNumSteps[i],this)}function E(t,e){if(!r(e))throw new Error("noUiSlider: 'step' is not numeric.");t.singleStep=e}function N(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");if(e.min===e.max)throw new Error("noUiSlider: 'range' 'min' and 'max' cannot be equal.");t.spectrum=new C(e,t.snap,t.dir,t.singleStep)}function k(t,e){if(e=s(e),!Array.isArray(e)||!e.length||e.length>2)throw new Error("noUiSlider: 'start' option is incorrect.");t.handles=e.length,t.start=e}function U(t,e){if(t.snap=e,"boolean"!=typeof e)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function P(t,e){if(t.animate=e,"boolean"!=typeof e)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function O(t,e){if(t.animationDuration=e,"number"!=typeof e)throw new Error("noUiSlider: 'animationDuration' option must be a number.")}function M(t,e){if("lower"===e&&1===t.handles)t.connect=1;else if("upper"===e&&1===t.handles)t.connect=2;else if(e===!0&&2===t.handles)t.connect=3;else{if(e!==!1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");t.connect=0}}function L(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function V(t,e){if(!r(e))throw new Error("noUiSlider: 'margin' option must be numeric.");if(0!==e&&(t.margin=t.spectrum.getMargin(e),!t.margin))throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function z(t,e){if(!r(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getMargin(e),!t.limit)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function A(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1,t.connect=[0,2,1,3][t.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function j(t,e){if("string"!=typeof e)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var n=e.indexOf("tap")>=0,r=e.indexOf("drag")>=0,i=e.indexOf("fixed")>=0,o=e.indexOf("snap")>=0,s=e.indexOf("hover")>=0;if(r&&!t.connect)throw new Error("noUiSlider: 'drag' behaviour must be used with 'connect': true.");t.events={tap:n||o,drag:r,fixed:i,snap:o,hover:s}}function D(t,e){var n;if(e!==!1)if(e===!0)for(t.tooltips=[],n=0;n<t.handles;n++)t.tooltips.push(!0);else{if(t.tooltips=s(e),t.tooltips.length!==t.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");t.tooltips.forEach(function(t){if("boolean"!=typeof t&&("object"!=typeof t||"function"!=typeof t.to))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})}}function H(t,e){if(t.format=e,"function"==typeof e.to&&"function"==typeof e.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function T(t,e){if(void 0!==e&&"string"!=typeof e&&e!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function F(t,e){if(void 0!==e&&"object"!=typeof e)throw new Error("noUiSlider: 'cssClasses' must be an object.");if("string"==typeof t.cssPrefix){t.cssClasses={};for(var n in e)e.hasOwnProperty(n)&&(t.cssClasses[n]=t.cssPrefix+e[n])}else t.cssClasses=e}function q(t){var e,n={margin:0,limit:0,animate:!0,animationDuration:300,format:Y};e={step:{r:!1,t:E},start:{r:!0,t:k},connect:{r:!0,t:M},direction:{r:!0,t:A},snap:{r:!1,t:U},animate:{r:!1,t:P},animationDuration:{r:!1,t:O},range:{r:!0,t:N},orientation:{r:!1,t:L},margin:{r:!1,t:V},limit:{r:!1,t:z},behaviour:{r:!0,t:j},format:{r:!1,t:H},tooltips:{r:!1,t:D},cssPrefix:{r:!1,t:T},cssClasses:{r:!1,t:F}};var r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",stacking:"stacking",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};return Object.keys(e).forEach(function(i){if(void 0===t[i]&&void 0===r[i]){if(e[i].r)throw new Error("noUiSlider: '"+i+"' is required.");return!0}e[i].t(n,void 0===t[i]?r[i]:t[i])}),n.pips=t.pips,n.style=n.ort?"top":"left",n}function R(e,r,p){function h(t,e,n){var r=t+e[0],i=t+e[1];return n?(0>r&&(i+=Math.abs(r)),i>100&&(r-=i-100),[o(r),o(i)]):[r,i]}function m(t,e){t.preventDefault();var n,r,i=0===t.type.indexOf("touch"),o=0===t.type.indexOf("mouse"),s=0===t.type.indexOf("pointer"),a=t;return 0===t.type.indexOf("MSPointer")&&(s=!0),i&&(n=t.changedTouches[0].pageX,r=t.changedTouches[0].pageY),e=e||d(),(o||s)&&(n=t.clientX+e.x,r=t.clientY+e.y),a.pageOffset=e,a.points=[n,r],a.cursor=o||s,a}function v(t,e){var n=document.createElement("div"),i=document.createElement("div"),o=[r.cssClasses.handleLower,r.cssClasses.handleUpper];return t&&o.reverse(),l(i,r.cssClasses.handle),l(i,o[e]),l(n,r.cssClasses.origin),n.appendChild(i),n}function g(t,e,n){switch(t){case 1:l(e,r.cssClasses.connect),l(n[0],r.cssClasses.background);break;case 3:l(n[1],r.cssClasses.background);case 2:l(n[0],r.cssClasses.connect);case 0:l(e,r.cssClasses.background)}}function b(t,e,n){var r,i=[];for(r=0;t>r;r+=1)i.push(n.appendChild(v(e,r)));return i}function w(t,e,n){l(n,r.cssClasses.target),0===t?l(n,r.cssClasses.ltr):l(n,r.cssClasses.rtl),0===e?l(n,r.cssClasses.horizontal):l(n,r.cssClasses.vertical);var i=document.createElement("div");return l(i,r.cssClasses.base),n.appendChild(i),i}function S(t,e){if(!r.tooltips[e])return!1;var n=document.createElement("div");return n.className=r.cssClasses.tooltip,t.firstChild.appendChild(n)}function y(){r.dir&&r.tooltips.reverse();var t=G.map(S);r.dir&&(t.reverse(),r.tooltips.reverse()),B("update",function(e,n,i){t[n]&&(t[n].innerHTML=r.tooltips[n]===!0?e[n]:r.tooltips[n].to(i[n]))})}function x(t,e,n){if("range"===t||"steps"===t)return _.xVal;if("count"===t){var r,i=100/(e-1),o=0;for(e=[];(r=o++*i)<=100;)e.push(r);t="positions"}return"positions"===t?e.map(function(t){return _.fromStepping(n?_.getStep(t):t)}):"values"===t?n?e.map(function(t){return _.fromStepping(_.getStep(_.toStepping(t)))}):e:void 0}function C(e,n,r){function i(t,e){return(t+e).toFixed(7)/1}var o=_.direction,s={},a=_.xVal[0],l=_.xVal[_.xVal.length-1],c=!1,u=!1,d=0;return _.direction=0,r=t(r.slice().sort(function(t,e){return t-e})),r[0]!==a&&(r.unshift(a),c=!0),r[r.length-1]!==l&&(r.push(l),u=!0),r.forEach(function(t,o){var a,l,f,p,h,m,v,g,b,w,S=t,y=r[o+1];if("steps"===n&&(a=_.xNumSteps[o]),a||(a=y-S),S!==!1&&void 0!==y)for(l=S;y>=l;l=i(l,a)){for(p=_.toStepping(l),h=p-d,g=h/e,b=Math.round(g),w=h/b,f=1;b>=f;f+=1)m=d+f*w,s[m.toFixed(5)]=["x",0];v=r.indexOf(l)>-1?1:"steps"===n?2:0,!o&&c&&(v=0),l===y&&u||(s[p.toFixed(5)]=[l,v]),d=p}}),_.direction=o,s}function E(t,e,n){function i(t,e){var n=e===r.cssClasses.value,i=n?f:p,o=n?u:d;return e+" "+i[r.ort]+" "+o[t]}function o(t,e,n){return'class="'+i(n[1],e)+'" style="'+r.style+": "+t+'%"'}function s(t,i){_.direction&&(t=100-t),i[1]=i[1]&&e?e(i[0],i[1]):i[1],c+="<div "+o(t,r.cssClasses.marker,i)+"></div>",i[1]&&(c+="<div "+o(t,r.cssClasses.value,i)+">"+n.to(i[0])+"</div>")}var a=document.createElement("div"),c="",u=[r.cssClasses.valueNormal,r.cssClasses.valueLarge,r.cssClasses.valueSub],d=[r.cssClasses.markerNormal,r.cssClasses.markerLarge,r.cssClasses.markerSub],f=[r.cssClasses.valueHorizontal,r.cssClasses.valueVertical],p=[r.cssClasses.markerHorizontal,r.cssClasses.markerVertical];return l(a,r.cssClasses.pips),l(a,0===r.ort?r.cssClasses.pipsHorizontal:r.cssClasses.pipsVertical),Object.keys(t).forEach(function(e){s(e,t[e])}),a.innerHTML=c,a}function N(t){var e=t.mode,n=t.density||1,r=t.filter||!1,i=t.values||!1,o=t.stepped||!1,s=x(e,i,o),a=C(n,e,s),l=t.format||{to:Math.round};return Q.appendChild(E(a,r,l))}function k(){var t=$.getBoundingClientRect(),e="offset"+["Width","Height"][r.ort];return 0===r.ort?t.width||$[e]:t.height||$[e]}function U(t,e,n){var i;for(i=0;i<r.handles;i++)if(-1===Z[i])return;void 0!==e&&1!==r.handles&&(e=Math.abs(e-r.dir)),Object.keys(et).forEach(function(r){var i=r.split(".")[0];t===i&&et[r].forEach(function(t){t.call(J,s(R()),e,s(P(Array.prototype.slice.call(tt))),n||!1,Z)})})}function P(t){return 1===t.length?t[0]:r.dir?t.reverse():t}function O(t,e,n,i){var o=function(e){return!Q.hasAttribute("disabled")&&(!u(Q,r.cssClasses.tap)&&(e=m(e,i.pageOffset),!(t===K.start&&void 0!==e.buttons&&e.buttons>1)&&((!i.hover||!e.buttons)&&(e.calcPoint=e.points[r.ort],void n(e,i)))))},s=[];return t.split(" ").forEach(function(t){e.addEventListener(t,o,!1),s.push([t,o])}),s}function M(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return L(t,e);var n,r,i=e.handles||G,o=!1,s=100*(t.calcPoint-e.start)/e.baseSize,a=i[0]===G[0]?0:1;if(n=h(s,e.positions,i.length>1),o=H(i[0],n[a],1===i.length),i.length>1){if(o=H(i[1],n[a?0:1],!1)||o)for(r=0;r<e.handles.length;r++)U("slide",r)}else o&&U("slide",a)}function L(t,e){var n=$.querySelector("."+r.cssClasses.active),i=e.handles[0]===G[0]?0:1;null!==n&&c(n,r.cssClasses.active),t.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener));var o=document.documentElement;o.noUiListeners.forEach(function(t){o.removeEventListener(t[0],t[1])}),c(Q,r.cssClasses.drag),U("set",i),U("change",i),void 0!==e.handleNumber&&U("end",e.handleNumber)}function V(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&L(t,e)}function z(t,e){var n=document.documentElement;if(1===e.handles.length){if(e.handles[0].hasAttribute("disabled"))return!1;l(e.handles[0].children[0],r.cssClasses.active)}t.preventDefault(),t.stopPropagation();var i=O(K.move,n,M,{start:t.calcPoint,baseSize:k(),pageOffset:t.pageOffset,handles:e.handles,handleNumber:e.handleNumber,buttonsProperty:t.buttons,positions:[Z[0],Z[G.length-1]]}),o=O(K.end,n,L,{handles:e.handles,handleNumber:e.handleNumber}),s=O("mouseout",n,V,{handles:e.handles,handleNumber:e.handleNumber});if(n.noUiListeners=i.concat(o,s),t.cursor){document.body.style.cursor=getComputedStyle(t.target).cursor,G.length>1&&l(Q,r.cssClasses.drag);var a=function(){return!1};document.body.noUiListener=a,document.body.addEventListener("selectstart",a,!1)}void 0!==e.handleNumber&&U("start",e.handleNumber)}function A(t){var e,o,s=t.calcPoint,a=0;return t.stopPropagation(),G.forEach(function(t){a+=n(t)[r.style]}),e=a/2>s||1===G.length?0:1,G[e].hasAttribute("disabled")&&(e=e?0:1),s-=n($)[r.style],o=100*s/k(),r.events.snap||i(Q,r.cssClasses.tap,r.animationDuration),!G[e].hasAttribute("disabled")&&(H(G[e],o),U("slide",e,!0),U("set",e,!0),U("change",e,!0),void(r.events.snap&&z(t,{handles:[G[e]]})))}function j(t){var e=t.calcPoint-n($)[r.style],i=_.getStep(100*e/k()),o=_.fromStepping(i);Object.keys(et).forEach(function(t){"hover"===t.split(".")[0]&&et[t].forEach(function(t){t.call(J,o)})})}function D(t){if(t.fixed||G.forEach(function(t,e){O(K.start,t.children[0],z,{handles:[t],handleNumber:e})}),t.tap&&O(K.start,$,A,{handles:G}),t.hover&&O(K.move,$,j,{hover:!0}),t.drag){var e=[$.querySelector("."+r.cssClasses.connect)];l(e[0],r.cssClasses.draggable),t.fixed&&e.push(G[e[0]===G[0]?1:0].children[0]),e.forEach(function(t){O(K.start,t,z,{handles:G})})}}function H(t,e,n){var i=t!==G[0]?1:0,s=Z[0]+r.margin,a=Z[1]-r.margin,u=Z[0]+r.limit,d=Z[1]-r.limit;return G.length>1&&(e=i?Math.max(e,s):Math.min(e,a)),n!==!1&&r.limit&&G.length>1&&(e=i?Math.min(e,u):Math.max(e,d)),e=_.getStep(e),e=o(e),e!==Z[i]&&(window.requestAnimationFrame?window.requestAnimationFrame(function(){t.style[r.style]=e+"%"}):t.style[r.style]=e+"%",t.previousSibling||(c(t,r.cssClasses.stacking),e>50&&l(t,r.cssClasses.stacking)),Z[i]=e,tt[i]=_.fromStepping(e),U("update",i),!0)}function T(t,e){var n,i,o;for(r.limit&&(t+=1),n=0;t>n;n+=1)i=n%2,o=e[i],null!==o&&o!==!1&&("number"==typeof o&&(o=String(o)),o=r.format.from(o),(o===!1||isNaN(o)||H(G[i],_.toStepping(o),n===3-r.dir)===!1)&&U("update",i))}function F(t,e){var n,o,a=s(t);for(e=void 0===e||!!e,r.dir&&r.handles>1&&a.reverse(),r.animate&&-1!==Z[0]&&i(Q,r.cssClasses.tap,r.animationDuration),n=G.length>1?3:1,1===a.length&&(n=1),T(n,a),o=0;o<G.length;o++)null!==a[o]&&e&&U("set",o)}function R(){var t,e=[];for(t=0;t<r.handles;t+=1)e[t]=r.format.to(tt[t]);return P(e)}function X(){for(var t in r.cssClasses)r.cssClasses.hasOwnProperty(t)&&c(Q,r.cssClasses[t]);for(;Q.firstChild;)Q.removeChild(Q.firstChild);delete Q.noUiSlider}function Y(){var t=Z.map(function(t,e){var n=_.getApplicableStep(t),r=a(String(n[2])),i=tt[e],o=100===t?null:n[2],s=Number((i-n[2]).toFixed(r)),l=0===t?null:s>=n[1]?n[2]:n[0]||!1;return[l,o]});return P(t)}function B(t,e){et[t]=et[t]||[],et[t].push(e),"update"===t.split(".")[0]&&G.forEach(function(t,e){U("update",e)})}function I(t){var e=t&&t.split(".")[0],n=e&&t.substring(e.length);Object.keys(et).forEach(function(t){var r=t.split(".")[0],i=t.substring(r.length);e&&e!==r||n&&n!==i||delete et[t]})}function W(t,e){var n=R(),i=q({start:[0,0],margin:t.margin,limit:t.limit,step:void 0===t.step?r.singleStep:t.step,range:t.range,animate:t.animate,snap:void 0===t.snap?r.snap:t.snap});["margin","limit","range","animate"].forEach(function(e){void 0!==t[e]&&(r[e]=t[e])}),i.spectrum.direction=_.direction,_=i.spectrum,Z=[-1,-1],F(t.start||n,e)}var $,G,J,K=f(),Q=e,Z=[-1,-1],_=r.spectrum,tt=[],et={};if(Q.noUiSlider)throw new Error("Slider was already initialized.");return $=w(r.dir,r.ort,Q),G=b(r.handles,r.dir,$),g(r.connect,Q,G),r.pips&&N(r.pips),r.tooltips&&y(),J={destroy:X,steps:Y,on:B,off:I,get:R,set:F,updateOptions:W,options:p,target:Q,pips:N},D(r.events),J}function X(t,e){if(!t.nodeName)throw new Error("noUiSlider.create requires a single element.");var n=q(e,t),r=R(t,n,e);return r.set(n.start),t.noUiSlider=r,r}C.prototype.getMargin=function(t){return 2===this.xPct.length&&h(this.xVal,t)},C.prototype.toStepping=function(t){return t=b(this.xVal,this.xPct,t),this.direction&&(t=100-t),t},C.prototype.fromStepping=function(t){return this.direction&&(t=100-t),w(this.xVal,this.xPct,t)},C.prototype.getStep=function(t){return this.direction&&(t=100-t),t=S(this.xPct,this.xSteps,this.snap,t),this.direction&&(t=100-t),t},C.prototype.getApplicableStep=function(t){var e=g(t,this.xPct),n=100===t?2:1;return[this.xNumSteps[e-2],this.xVal[e-n],this.xNumSteps[e-n]]},C.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var Y={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number};return{create:X}});
!function(t,e,i,s){function n(e,i){this.settings=null,this.options=t.extend({},n.Defaults,i),this.$element=t(e),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},t.each(["onResize","onThrottledResize"],t.proxy(function(e,i){this._handlers[i]=t.proxy(this[i],this)},this)),t.each(n.Plugins,t.proxy(function(t,e){this._plugins[t.charAt(0).toLowerCase()+t.slice(1)]=new e(this)},this)),t.each(n.Workers,t.proxy(function(e,i){this._pipe.push({filter:i.filter,run:t.proxy(i.run,this)})},this)),this.setup(),this.initialize()}n.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:e,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},n.Width={Default:"default",Inner:"inner",Outer:"outer"},n.Type={Event:"event",State:"state"},n.Plugins={},n.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(t){var e=this.settings.margin||"",i=!this.settings.autoWidth,s=this.settings.rtl,n={width:"auto","margin-left":s?e:"","margin-right":s?"":e};!i&&this.$stage.children().css(n),t.css=n}},{filter:["width","items","settings"],run:function(t){var e=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=null,s=this._items.length,n=!this.settings.autoWidth,o=[];for(t.items={merge:!1,width:e};s--;)i=this._mergers[s],i=this.settings.mergeFit&&Math.min(i,this.settings.items)||i,t.items.merge=i>1||t.items.merge,o[s]=n?e*i:this._items[s].width();this._widths=o}},{filter:["items","settings"],run:function(){var e=[],i=this._items,s=this.settings,n=Math.max(2*s.items,4),o=2*Math.ceil(i.length/2),r=s.loop&&i.length?s.rewind?n:Math.max(n,o):0,a="",h="";for(r/=2;r--;)e.push(this.normalize(e.length/2,!0)),a+=i[e[e.length-1]][0].outerHTML,e.push(this.normalize(i.length-1-(e.length-1)/2,!0)),h=i[e[e.length-1]][0].outerHTML+h;this._clones=e,t(a).addClass("cloned").appendTo(this.$stage),t(h).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var t=this.settings.rtl?1:-1,e=this._clones.length+this._items.length,i=-1,s=0,n=0,o=[];++i<e;)s=o[i-1]||0,n=this._widths[this.relative(i)]+this.settings.margin,o.push(s+n*t);this._coordinates=o}},{filter:["width","items","settings"],run:function(){var t=this.settings.stagePadding,e=this._coordinates,i={width:Math.ceil(Math.abs(e[e.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.$stage.css(i)}},{filter:["width","items","settings"],run:function(t){var e=this._coordinates.length,i=!this.settings.autoWidth,s=this.$stage.children();if(i&&t.items.merge)for(;e--;)t.css.width=this._widths[this.relative(e)],s.eq(e).css(t.css);else i&&(t.css.width=t.items.width,s.css(t.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(t){t.current=t.current?this.$stage.children().index(t.current):0,t.current=Math.max(this.minimum(),Math.min(this.maximum(),t.current)),this.reset(t.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var t,e,i,s,n=this.settings.rtl?1:-1,o=2*this.settings.stagePadding,r=this.coordinates(this.current())+o,a=r+this.width()*n,h=[];for(i=0,s=this._coordinates.length;s>i;i++)t=this._coordinates[i-1]||0,e=Math.abs(this._coordinates[i])+o*n,(this.op(t,"<=",r)&&this.op(t,">",a)||this.op(e,"<",r)&&this.op(e,">",a))&&h.push(i);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+h.join("), :eq(")+")").addClass("active"),this.settings.center&&(this.$stage.children(".center").removeClass("center"),this.$stage.children().eq(this.current()).addClass("center"))}}],n.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var e,i,n;e=this.$element.find("img"),i=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:s,n=this.$element.children(i).width(),e.length&&0>=n&&this.preloadAutoWidthImages(e)}this.$element.addClass(this.options.loadingClass),this.$stage=t("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},n.prototype.setup=function(){var e=this.viewport(),i=this.options.responsive,s=-1,n=null;i?(t.each(i,function(t){e>=t&&t>s&&(s=Number(t))}),n=t.extend({},this.options,i[s]),"function"==typeof n.stagePadding&&(n.stagePadding=n.stagePadding()),delete n.responsive,n.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+s))):n=t.extend({},this.options),this.trigger("change",{property:{name:"settings",value:n}}),this._breakpoint=s,this.settings=n,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},n.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},n.prototype.prepare=function(e){var i=this.trigger("prepare",{content:e});return i.data||(i.data=t("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(e)),this.trigger("prepared",{content:i.data}),i.data},n.prototype.update=function(){for(var e=0,i=this._pipe.length,s=t.proxy(function(t){return this[t]},this._invalidated),n={};i>e;)(this._invalidated.all||t.grep(this._pipe[e].filter,s).length>0)&&this._pipe[e].run(n),e++;this._invalidated={},!this.is("valid")&&this.enter("valid")},n.prototype.width=function(t){switch(t=t||n.Width.Default){case n.Width.Inner:case n.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},n.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},n.prototype.onThrottledResize=function(){e.clearTimeout(this.resizeTimer),this.resizeTimer=e.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},n.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.$element.is(":visible")&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},n.prototype.registerEventHandlers=function(){t.support.transition&&this.$stage.on(t.support.transition.end+".owl.core",t.proxy(this.onTransitionEnd,this)),this.settings.responsive!==!1&&this.on(e,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("http://the-radio.ru/min/mousedown.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("http://the-radio.ru/min/dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("http://the-radio.ru/min/touchstart.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("http://the-radio.ru/min/touchcancel.owl.core",t.proxy(this.onDragEnd,this)))},n.prototype.onDragStart=function(e){var s=null;3!==e.which&&(t.support.transform?(s=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),s={x:s[16===s.length?12:4],y:s[16===s.length?13:5]}):(s=this.$stage.position(),s={x:this.settings.rtl?s.left+this.$stage.width()-this.width()+this.settings.margin:s.left,y:s.top}),this.is("animating")&&(t.support.transform?this.animate(s.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===e.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=t(e.target),this._drag.stage.start=s,this._drag.stage.current=s,this._drag.pointer=this.pointer(e),t(i).on("http://the-radio.ru/min/mouseup.owl.core touchend.owl.core",t.proxy(this.onDragEnd,this)),t(i).one("http://the-radio.ru/min/mousemove.owl.core touchmove.owl.core",t.proxy(function(e){var s=this.difference(this._drag.pointer,this.pointer(e));t(i).on("http://the-radio.ru/min/mousemove.owl.core touchmove.owl.core",t.proxy(this.onDragMove,this)),Math.abs(s.x)<Math.abs(s.y)&&this.is("valid")||(e.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},n.prototype.onDragMove=function(t){var e=null,i=null,s=null,n=this.difference(this._drag.pointer,this.pointer(t)),o=this.difference(this._drag.stage.start,n);this.is("dragging")&&(t.preventDefault(),this.settings.loop?(e=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-e,o.x=((o.x-e)%i+i)%i+e):(e=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),s=this.settings.pullDrag?-1*n.x/5:0,o.x=Math.max(Math.min(o.x,e+s),i+s)),this._drag.stage.current=o,this.animate(o.x))},n.prototype.onDragEnd=function(e){var s=this.difference(this._drag.pointer,this.pointer(e)),n=this._drag.stage.current,o=s.x>0^this.settings.rtl?"left":"right";t(i).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==s.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(n.x,0!==s.x?o:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=o,(Math.abs(s.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("http://the-radio.ru/min/click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},n.prototype.closest=function(e,i){var s=-1,n=30,o=this.width(),r=this.coordinates();return this.settings.freeDrag||t.each(r,t.proxy(function(t,a){return"left"===i&&e>a-n&&a+n>e?s=t:"right"===i&&e>a-o-n&&a-o+n>e?s=t+1:this.op(e,"<",a)&&this.op(e,">",r[t+1]||a-o)&&(s="left"===i?t+1:t),-1===s},this)),this.settings.loop||(this.op(e,">",r[this.minimum()])?s=e=this.minimum():this.op(e,"<",r[this.maximum()])&&(s=e=this.maximum())),s},n.prototype.animate=function(e){var i=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),i&&(this.enter("animating"),this.trigger("translate")),t.support.transform3d&&t.support.transition?this.$stage.css({transform:"translate3d("+e+"px,0px,0px)",transition:this.speed()/1e3+"s"}):i?this.$stage.animate({left:e+"px"},this.speed(),this.settings.fallbackEasing,t.proxy(this.onTransitionEnd,this)):this.$stage.css({left:e+"px"})},n.prototype.is=function(t){return this._states.current[t]&&this._states.current[t]>0},n.prototype.current=function(t){if(t===s)return this._current;if(0===this._items.length)return s;if(t=this.normalize(t),this._current!==t){var e=this.trigger("change",{property:{name:"position",value:t}});e.data!==s&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},n.prototype.invalidate=function(e){return"string"===t.type(e)&&(this._invalidated[e]=!0,this.is("valid")&&this.leave("valid")),t.map(this._invalidated,function(t,e){return e})},n.prototype.reset=function(t){t=this.normalize(t),t!==s&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},n.prototype.normalize=function(t,e){var i=this._items.length,n=e?0:this._clones.length;return!this.isNumeric(t)||1>i?t=s:(0>t||t>=i+n)&&(t=((t-n/2)%i+i)%i+n/2),t},n.prototype.relative=function(t){return t-=this._clones.length/2,this.normalize(t,!0)},n.prototype.maximum=function(t){var e,i,s,n=this.settings,o=this._coordinates.length;if(n.loop)o=this._clones.length/2+this._items.length-1;else if(n.autoWidth||n.merge){for(e=this._items.length,i=this._items[--e].width(),s=this.$element.width();e--&&(i+=this._items[e].width()+this.settings.margin,!(i>s)););o=e+1}else o=n.center?this._items.length-1:this._items.length-n.items;return t&&(o-=this._clones.length/2),Math.max(o,0)},n.prototype.minimum=function(t){return t?0:this._clones.length/2},n.prototype.items=function(t){return t===s?this._items.slice():(t=this.normalize(t,!0),this._items[t])},n.prototype.mergers=function(t){return t===s?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},n.prototype.clones=function(e){var i=this._clones.length/2,n=i+this._items.length,o=function(t){return t%2===0?n+t/2:i-(t+1)/2};return e===s?t.map(this._clones,function(t,e){return o(e)}):t.map(this._clones,function(t,i){return t===e?o(i):null})},n.prototype.speed=function(t){return t!==s&&(this._speed=t),this._speed},n.prototype.coordinates=function(e){var i,n=1,o=e-1;return e===s?t.map(this._coordinates,t.proxy(function(t,e){return this.coordinates(e)},this)):(this.settings.center?(this.settings.rtl&&(n=-1,o=e+1),i=this._coordinates[e],i+=(this.width()-i+(this._coordinates[o]||0))/2*n):i=this._coordinates[o]||0,i=Math.ceil(i))},n.prototype.duration=function(t,e,i){return 0===i?0:Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(i||this.settings.smartSpeed)},n.prototype.to=function(t,e){var i=this.current(),s=null,n=t-this.relative(i),o=(n>0)-(0>n),r=this._items.length,a=this.minimum(),h=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(n)>r/2&&(n+=-1*o*r),t=i+n,s=((t-a)%r+r)%r+a,s!==t&&h>=s-n&&s-n>0&&(i=s-n,t=s,this.reset(i))):this.settings.rewind?(h+=1,t=(t%h+h)%h):t=Math.max(a,Math.min(h,t)),this.speed(this.duration(i,t,e)),this.current(t),this.$element.is(":visible")&&this.update()},n.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},n.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},n.prototype.onTransitionEnd=function(t){return(t===s||(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)===this.$stage.get(0)))&&(this.leave("animating"),void this.trigger("translated"))},n.prototype.viewport=function(){var s;if(this.options.responsiveBaseElement!==e)s=t(this.options.responsiveBaseElement).width();else if(e.innerWidth)s=e.innerWidth;else{if(!i.documentElement||!i.documentElement.clientWidth)throw"Can not detect viewport width.";s=i.documentElement.clientWidth}return s},n.prototype.replace=function(e){this.$stage.empty(),this._items=[],e&&(e=e instanceof jQuery?e:t(e)),this.settings.nestedItemSelector&&(e=e.find("."+this.settings.nestedItemSelector)),e.filter(function(){return 1===this.nodeType}).each(t.proxy(function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},n.prototype.add=function(e,i){var n=this.relative(this._current);i=i===s?this._items.length:this.normalize(i,!0),e=e instanceof jQuery?e:t(e),this.trigger("add",{content:e,position:i}),e=this.prepare(e),0===this._items.length||i===this._items.length?(0===this._items.length&&this.$stage.append(e),0!==this._items.length&&this._items[i-1].after(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[i].before(e),this._items.splice(i,0,e),this._mergers.splice(i,0,1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[n]&&this.reset(this._items[n].index()),this.invalidate("items"),this.trigger("added",{content:e,position:i})},n.prototype.remove=function(t){t=this.normalize(t,!0),t!==s&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},n.prototype.preloadAutoWidthImages=function(e){e.each(t.proxy(function(e,i){this.enter("pre-loading"),i=t(i),t(new Image).one("load",t.proxy(function(t){i.attr("src",t.target.src),i.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",i.attr("src")||i.attr("data-src")||i.attr("data-src-retina"))},this))},n.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),t(i).off(".owl.core"),this.settings.responsive!==!1&&(e.clearTimeout(this.resizeTimer),this.off(e,"resize",this._handlers.onThrottledResize));for(var s in this._plugins)this._plugins[s].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},n.prototype.op=function(t,e,i){var s=this.settings.rtl;switch(e){case"<":return s?t>i:i>t;case">":return s?i>t:t>i;case">=":return s?i>=t:t>=i;case"<=":return s?t>=i:i>=t}},n.prototype.on=function(t,e,i,s){t.addEventListener?t.addEventListener(e,i,s):t.attachEvent&&t.attachEvent("on"+e,i)},n.prototype.off=function(t,e,i,s){t.removeEventListener?t.removeEventListener(e,i,s):t.detachEvent&&t.detachEvent("on"+e,i)},n.prototype.trigger=function(e,i,s,o,r){var a={item:{count:this._items.length,index:this.current()}},h=t.camelCase(t.grep(["on",e,s],function(t){return t}).join("-").toLowerCase()),l=t.Event([e,"owl",s||"carousel"].join(".").toLowerCase(),t.extend({relatedTarget:this},a,i));return this._supress[e]||(t.each(this._plugins,function(t,e){e.onTrigger&&e.onTrigger(l)}),this.register({type:n.Type.Event,name:e}),this.$element.trigger(l),this.settings&&"function"==typeof this.settings[h]&&this.settings[h].call(this,l)),l},n.prototype.enter=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){this._states.current[e]===s&&(this._states.current[e]=0),this._states.current[e]++},this))},n.prototype.leave=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){this._states.current[e]--},this))},n.prototype.register=function(e){if(e.type===n.Type.Event){if(t.event.special[e.name]||(t.event.special[e.name]={}),!t.event.special[e.name].owl){var i=t.event.special[e.name]._default;t.event.special[e.name]._default=function(t){return!i||!i.apply||t.namespace&&-1!==t.namespace.indexOf("owl")?t.namespace&&t.namespace.indexOf("owl")>-1:i.apply(this,arguments)},t.event.special[e.name].owl=!0}}else e.type===n.Type.State&&(this._states.tags[e.name]?this._states.tags[e.name]=this._states.tags[e.name].concat(e.tags):this._states.tags[e.name]=e.tags,this._states.tags[e.name]=t.grep(this._states.tags[e.name],t.proxy(function(i,s){return t.inArray(i,this._states.tags[e.name])===s},this)))},n.prototype.suppress=function(e){t.each(e,t.proxy(function(t,e){this._supress[e]=!0},this))},n.prototype.release=function(e){t.each(e,t.proxy(function(t,e){delete this._supress[e]},this))},n.prototype.pointer=function(t){var i={x:null,y:null};return t=t.originalEvent||t||e.event,t=t.touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,t.pageX?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),i},n.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))},n.prototype.difference=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},t.fn.owlCarousel=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var s=t(this),o=s.data("owl.carousel");o||(o=new n(this,"object"==typeof e&&e),s.data("owl.carousel",o),t.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(e,i){o.register({type:n.Type.Event,name:i}),o.$element.on(i+".owl.carousel.core",t.proxy(function(t){t.namespace&&t.relatedTarget!==this&&(this.suppress([i]),o[i].apply(this,[].slice.call(arguments,1)),this.release([i]))},o))})),"string"==typeof e&&"_"!==e.charAt(0)&&o[e].apply(o,i)})},t.fn.owlCarousel.Constructor=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={autoRefresh:!0,autoRefreshInterval:500},n.prototype.watch=function(){this._interval||(this._visible=this._core.$element.is(":visible"),this._interval=e.setInterval(t.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},n.prototype.refresh=function(){this._core.$element.is(":visible")!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},n.prototype.destroy=function(){var t,i;e.clearInterval(this._interval);for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoRefresh=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":t.proxy(function(e){if(e.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(e.property&&"position"==e.property.name||"initialized"==e.type))for(var i=this._core.settings,n=i.center&&Math.ceil(i.items/2)||i.items,o=i.center&&-1*n||0,r=(e.property&&e.property.value!==s?e.property.value:this._core.current())+o,a=this._core.clones().length,h=t.proxy(function(t,e){this.load(e)},this);o++<n;)this.load(a/2+this._core.relative(r)),a&&t.each(this._core.clones(this._core.relative(r)),h),r++},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={lazyLoad:!1},n.prototype.load=function(i){var s=this._core.$stage.children().eq(i),n=s&&s.find(".owl-lazy");!n||t.inArray(s.get(0),this._loaded)>-1||(n.each(t.proxy(function(i,s){var n,o=t(s),r=e.devicePixelRatio>1&&o.attr("data-src-retina")||o.attr("data-src");this._core.trigger("load",{element:o,url:r},"lazy"),o.is("img")?o.one("http://the-radio.ru/min/load.owl.lazy",t.proxy(function(){o.css("opacity",1),this._core.trigger("loaded",{element:o,url:r},"lazy")},this)).attr("src",r):(n=new Image,n.onload=t.proxy(function(){o.css({"background-image":"url("+r+")",opacity:"1"}),this._core.trigger("loaded",{element:o,url:r},"lazy")},this),n.src=r)},this)),this._loaded.push(s.get(0)))},n.prototype.destroy=function(){var t,e;for(t in this.handlers)this._core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Lazy=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&"position"==t.property.name&&this.update()},this),"http://the-radio.ru/min/loaded.owl.lazy":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&t.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},n.prototype.update=function(){var e=this._core._current,i=e+this._core.settings.items,s=this._core.$stage.children().toArray().slice(e,i),n=[],o=0;t.each(s,function(e,i){n.push(t(i).height())}),o=Math.max.apply(null,n),this._core.$stage.parent().height(o).addClass(this._core.settings.autoHeightClass)},n.prototype.destroy=function(){var t,e;for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoHeight=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.video&&this.isInFullScreen()&&t.preventDefault()},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"===t.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var i=t(e.content).find(".owl-video");i.length&&(i.css("display","none"),this.fetch(i,t(e.content)))}},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",t.proxy(function(t){this.play(t)},this))};n.Defaults={video:!1,videoHeight:!1,videoWidth:!1},n.prototype.fetch=function(t,e){var i=function(){return t.attr("data-vimeo-id")?"vimeo":t.attr("data-vzaar-id")?"vzaar":"youtube"}(),s=t.attr("data-vimeo-id")||t.attr("data-youtube-id")||t.attr("data-vzaar-id"),n=t.attr("data-width")||this._core.settings.videoWidth,o=t.attr("data-height")||this._core.settings.videoHeight,r=t.attr("href");if(!r)throw new Error("Missing video URL.");if(s=r.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),s[3].indexOf("youtu")>-1)i="youtube";else if(s[3].indexOf("vimeo")>-1)i="vimeo";else{if(!(s[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");i="vzaar"}s=s[6],this._videos[r]={type:i,id:s,width:n,height:o},e.attr("data-video",r),this.thumbnail(t,this._videos[r])},n.prototype.thumbnail=function(e,i){var s,n,o,r=i.width&&i.height?'style="width:'+i.width+"px;height:"+i.height+'px;"':"",a=e.find("img"),h="src",l="",c=this._core.settings,p=function(t){n='<div class="owl-video-play-icon"></div>',s=c.lazyLoad?'<div class="owl-video-tn '+l+'" '+h+'="'+t+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+t+')"></div>',e.after(s),e.after(n)};return e.wrap('<div class="owl-video-wrapper"'+r+"></div>"),this._core.settings.lazyLoad&&(h="data-src",l="owl-lazy"),a.length?(p(a.attr(h)),a.remove(),!1):void("youtube"===i.type?(o="//img.youtube.com/vi/"+i.id+"/hqdefault.jpg",p(o)):"vimeo"===i.type?t.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){o=t[0].thumbnail_large,p(o)}}):"vzaar"===i.type&&t.ajax({type:"GET",url:"//vzaar.com/api/videos/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){o=t.framegrab_url,p(o)}}))},n.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},n.prototype.play=function(e){var i,s=t(e.target),n=s.closest("."+this._core.settings.itemClass),o=this._videos[n.attr("data-video")],r=o.width||"100%",a=o.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),n=this._core.items(this._core.relative(n.index())),this._core.reset(n.index()),"youtube"===o.type?i='<iframe width="'+r+'" height="'+a+'" src="//www.youtube.com/embed/'+o.id+"?autoplay=1&v="+o.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===o.type?i='<iframe src="//player.vimeo.com/video/'+o.id+'?autoplay=1" width="'+r+'" height="'+a+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':"vzaar"===o.type&&(i='<iframe frameborder="0"height="'+a+'"width="'+r+'" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/'+o.id+'/player?autoplay=true"></iframe>'),t('<div class="owl-video-frame">'+i+"</div>").insertAfter(n.find(".owl-video")),this._playing=n.addClass("owl-video-playing"))},n.prototype.isInFullScreen=function(){var e=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return e&&t(e).parent().hasClass("owl-video-frame")},n.prototype.destroy=function(){var t,e;this._core.$element.off("click.owl.video");for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Video=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this.core=e,this.core.options=t.extend({},n.Defaults,this.core.options),this.swapping=!0,this.previous=s,this.next=s,this.handlers={"change.owl.carousel":t.proxy(function(t){t.namespace&&"position"==t.property.name&&(this.previous=this.core.current(),this.next=t.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":t.proxy(function(t){t.namespace&&(this.swapping="translated"==t.type)},this),"translate.owl.carousel":t.proxy(function(t){t.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};n.Defaults={animateOut:!1,animateIn:!1},n.prototype.swap=function(){if(1===this.core.settings.items&&t.support.animation&&t.support.transition){this.core.speed(0);var e,i=t.proxy(this.clear,this),s=this.core.$stage.children().eq(this.previous),n=this.core.$stage.children().eq(this.next),o=this.core.settings.animateIn,r=this.core.settings.animateOut;this.core.current()!==this.previous&&(r&&(e=this.core.coordinates(this.previous)-this.core.coordinates(this.next),s.one(t.support.animation.end,i).css({left:e+"px"}).addClass("animated owl-animated-out").addClass(r)),o&&n.one(t.support.animation.end,i).addClass("animated owl-animated-in").addClass(o))}},n.prototype.clear=function(e){t(e.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},n.prototype.destroy=function(){var t,e;for(t in this.handlers)this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null);
},t.fn.owlCarousel.Constructor.Plugins.Animate=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._timeout=null,this._paused=!1,this._handlers={"changed.owl.carousel":t.proxy(function(t){t.namespace&&"settings"===t.property.name?this._core.settings.autoplay?this.play():this.stop():t.namespace&&"position"===t.property.name&&this._core.settings.autoplay&&this._setAutoPlayInterval()},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":t.proxy(function(t,e,i){t.namespace&&this.play(e,i)},this),"stop.owl.autoplay":t.proxy(function(t){t.namespace&&this.stop()},this),"mouseover.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"http://the-radio.ru/min/touchstart.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"http://the-radio.ru/min/touchend.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=t.extend({},n.Defaults,this._core.options)};n.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},n.prototype.play=function(t,e){this._paused=!1,this._core.is("rotating")||(this._core.enter("rotating"),this._setAutoPlayInterval())},n.prototype._getNextTimeout=function(s,n){return this._timeout&&e.clearTimeout(this._timeout),e.setTimeout(t.proxy(function(){this._paused||this._core.is("busy")||this._core.is("interacting")||i.hidden||this._core.next(n||this._core.settings.autoplaySpeed)},this),s||this._core.settings.autoplayTimeout)},n.prototype._setAutoPlayInterval=function(){this._timeout=this._getNextTimeout()},n.prototype.stop=function(){this._core.is("rotating")&&(e.clearTimeout(this._timeout),this._core.leave("rotating"))},n.prototype.pause=function(){this._core.is("rotating")&&(this._paused=!0)},n.prototype.destroy=function(){var t,e;this.stop();for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.autoplay=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){"use strict";var n=function(e){this._core=e,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":t.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+t(e.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,0,this._templates.pop())},this),"remove.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,1)},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"==t.property.name&&this.draw()},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this.$element.on(this._handlers)};n.Defaults={nav:!1,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},n.prototype.initialize=function(){var e,i=this._core.settings;this._controls.$relative=(i.navContainer?t(i.navContainer):t("<div>").addClass(i.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=t("<"+i.navElement+">").addClass(i.navClass[0]).html(i.navText[0]).prependTo(this._controls.$relative).on("click",t.proxy(function(t){this.prev(i.navSpeed)},this)),this._controls.$next=t("<"+i.navElement+">").addClass(i.navClass[1]).html(i.navText[1]).appendTo(this._controls.$relative).on("click",t.proxy(function(t){this.next(i.navSpeed)},this)),i.dotsData||(this._templates=[t("<div>").addClass(i.dotClass).append(t("<span>")).prop("outerHTML")]),this._controls.$absolute=(i.dotsContainer?t(i.dotsContainer):t("<div>").addClass(i.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","div",t.proxy(function(e){var s=t(e.target).parent().is(this._controls.$absolute)?t(e.target).index():t(e.target).parent().index();e.preventDefault(),this.to(s,i.dotsSpeed)},this));for(e in this._overrides)this._core[e]=t.proxy(this[e],this)},n.prototype.destroy=function(){var t,e,i,s;for(t in this._handlers)this.$element.off(t,this._handlers[t]);for(e in this._controls)this._controls[e].remove();for(s in this.overides)this._core[s]=this._overrides[s];for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},n.prototype.update=function(){var t,e,i,s=this._core.clones().length/2,n=s+this._core.items().length,o=this._core.maximum(!0),r=this._core.settings,a=r.center||r.autoWidth||r.dotsData?1:r.dotsEach||r.items;if("page"!==r.slideBy&&(r.slideBy=Math.min(r.slideBy,r.items)),r.dots||"page"==r.slideBy)for(this._pages=[],t=s,e=0,i=0;n>t;t++){if(e>=a||0===e){if(this._pages.push({start:Math.min(o,t-s),end:t-s+a-1}),Math.min(o,t-s)===o)break;e=0,++i}e+=this._core.mergers(this._core.relative(t))}},n.prototype.draw=function(){var e,i=this._core.settings,s=this._core.items().length<=i.items,n=this._core.relative(this._core.current()),o=i.loop||i.rewind;this._controls.$relative.toggleClass("disabled",!i.nav||s),i.nav&&(this._controls.$previous.toggleClass("disabled",!o&&n<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!o&&n>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!i.dots||s),i.dots&&(e=this._pages.length-this._controls.$absolute.children().length,i.dotsData&&0!==e?this._controls.$absolute.html(this._templates.join("")):e>0?this._controls.$absolute.append(new Array(e+1).join(this._templates[0])):0>e&&this._controls.$absolute.children().slice(e).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(t.inArray(this.current(),this._pages)).addClass("active"))},n.prototype.onTrigger=function(e){var i=this._core.settings;e.page={index:t.inArray(this.current(),this._pages),count:this._pages.length,size:i&&(i.center||i.autoWidth||i.dotsData?1:i.dotsEach||i.items)}},n.prototype.current=function(){var e=this._core.relative(this._core.current());return t.grep(this._pages,t.proxy(function(t,i){return t.start<=e&&t.end>=e},this)).pop()},n.prototype.getPosition=function(e){var i,s,n=this._core.settings;return"page"==n.slideBy?(i=t.inArray(this.current(),this._pages),s=this._pages.length,e?++i:--i,i=this._pages[(i%s+s)%s].start):(i=this._core.relative(this._core.current()),s=this._core.items().length,e?i+=n.slideBy:i-=n.slideBy),i},n.prototype.next=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!0),e)},n.prototype.prev=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!1),e)},n.prototype.to=function(e,i,s){var n;!s&&this._pages.length?(n=this._pages.length,t.proxy(this._overrides.to,this._core)(this._pages[(e%n+n)%n].start,i)):t.proxy(this._overrides.to,this._core)(e,i)},t.fn.owlCarousel.Constructor.Plugins.Navigation=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){"use strict";var n=function(i){this._core=i,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":t.proxy(function(i){i.namespace&&"URLHash"===this._core.settings.startPosition&&t(e).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var i=t(e.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!i)return;this._hashes[i]=e.content}},this),"changed.owl.carousel":t.proxy(function(i){if(i.namespace&&"position"===i.property.name){var s=this._core.items(this._core.relative(this._core.current())),n=t.map(this._hashes,function(t,e){return t===s?e:null}).join();if(!n||e.location.hash.slice(1)===n)return;e.location.hash=n}},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this.$element.on(this._handlers),t(e).on("hashchange.owl.navigation",t.proxy(function(t){var i=e.location.hash.substring(1),n=this._core.$stage.children(),o=this._hashes[i]&&n.index(this._hashes[i]);o!==s&&o!==this._core.current()&&this._core.to(this._core.relative(o),!1,!0)},this))};n.Defaults={URLhashListener:!1},n.prototype.destroy=function(){var i,s;t(e).off("hashchange.owl.navigation");for(i in this._handlers)this._core.$element.off(i,this._handlers[i]);for(s in Object.getOwnPropertyNames(this))"function"!=typeof this[s]&&(this[s]=null)},t.fn.owlCarousel.Constructor.Plugins.Hash=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){function n(e,i){var n=!1,o=e.charAt(0).toUpperCase()+e.slice(1);return t.each((e+" "+a.join(o+" ")+o).split(" "),function(t,e){return r[e]!==s?(n=!i||e,!1):void 0}),n}function o(t){return n(t,!0)}var r=t("<support>").get(0).style,a="Webkit Moz O ms".split(" "),h={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},l={csstransforms:function(){return!!n("transform")},csstransforms3d:function(){return!!n("perspective")},csstransitions:function(){return!!n("transition")},cssanimations:function(){return!!n("animation")}};l.csstransitions()&&(t.support.transition=new String(o("transition")),t.support.transition.end=h.transition.end[t.support.transition]),l.cssanimations()&&(t.support.animation=new String(o("animation")),t.support.animation.end=h.animation.end[t.support.animation]),l.csstransforms()&&(t.support.transform=new String(o("transform")),t.support.transform3d=l.csstransforms3d())}(window.Zepto||window.jQuery,window,document);
!function(t){function e(e,r,a){var o=this;return this.on("http://the-radio.ru/min/click.pjax",e,function(e){var i=t.extend({},m(r,a));i.container||(i.container=t(this).attr("data-pjax")||o),n(e,i)})}function n(e,n,r){r=m(n,r);var o=e.currentTarget;if("A"!==o.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||location.protocol!==o.protocol||location.hostname!==o.hostname||o.href.indexOf("#")>-1&&h(o)==h(location)||e.isDefaultPrevented())){var i={url:o.href,container:t(o).attr("data-pjax"),target:o},s=t.extend({},i,r),c=t.Event("pjax:click");t(o).trigger(c,[s]),c.isDefaultPrevented()||(a(s),e.preventDefault(),t(o).trigger("pjax:clicked",[s]))}}function r(e,n,r){r=m(n,r);var o=e.currentTarget;if("FORM"!==o.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var i={type:o.method.toUpperCase(),url:o.action,container:t(o).attr("data-pjax"),target:o};if("GET"!==i.type&&void 0!==window.FormData)i.data=new FormData(o),i.processData=!1,i.contentType=!1;else{if(t(o).find(":file").length)return;i.data=t(o).serializeArray()}a(t.extend({},i,r)),e.preventDefault()}function a(e){function n(e,n,a){a||(a={}),a.relatedTarget=r;var o=t.Event(e,a);return s.trigger(o,n),!o.isDefaultPrevented()}e=t.extend(!0,{},t.ajaxSettings,a.defaults,e),t.isFunction(e.url)&&(e.url=e.url());var r=e.target,o=d(e.url).hash,s=e.context=v(e.container);e.data||(e.data={}),t.isArray(e.data)?e.data.push({name:"_pjax",value:s.selector}):e.data._pjax=s.selector;var c;e.beforeSend=function(t,r){if("GET"!==r.type&&(r.timeout=0),t.setRequestHeader("X-PJAX","true"),t.setRequestHeader("X-PJAX-Container",s.selector),!n("pjax:beforeSend",[t,r]))return!1;r.timeout>0&&(c=setTimeout(function(){n("pjax:timeout",[t,e])&&t.abort("timeout")},r.timeout),r.timeout=0);var a=d(r.url);o&&(a.hash=o),e.requestUrl=f(a)},e.complete=function(t,r){c&&clearTimeout(c),n("pjax:complete",[t,r,e]),n("pjax:end",[t,e])},e.error=function(t,r,a){var o=j("",t,e),s=n("pjax:error",[t,r,a,e]);"GET"==e.type&&"abort"!==r&&s&&i(o.url)},e.success=function(r,c,u){var p=a.state,f="function"==typeof t.pjax.defaults.version?t.pjax.defaults.version():t.pjax.defaults.version,h=u.getResponseHeader("X-PJAX-Version"),m=j(r,u,e),v=d(m.url);if(o&&(v.hash=o,m.url=v.href),f&&h&&f!==h)return void i(m.url);if(!m.contents)return void i(m.url);a.state={id:e.id||l(),url:m.url,title:m.title,container:s.selector,fragment:e.fragment,timeout:e.timeout},(e.push||e.replace)&&window.history.replaceState(a.state,m.title,m.url);try{document.activeElement.blur()}catch(x){}m.title&&(document.title=m.title),n("pjax:beforeReplace",[m.contents,e],{state:a.state,previousState:p}),s.html(m.contents);var g=s.find("input[autofocus], textarea[autofocus]").last()[0];g&&document.activeElement!==g&&g.focus(),y(m.scripts);var w=e.scrollTo;if(o){var b=decodeURIComponent(o.slice(1)),T=document.getElementById(b)||document.getElementsByName(b)[0];T&&(w=t(T).offset().top)}"number"==typeof w&&t(window).scrollTop(w),n("pjax:success",[r,c,u,e])},a.state||(a.state={id:l(),url:window.location.href,title:document.title,container:s.selector,fragment:e.fragment,timeout:e.timeout},window.history.replaceState(a.state,document.title)),u(a.xhr),a.options=e;var h=a.xhr=t.ajax(e);return h.readyState>0&&(e.push&&!e.replace&&(w(a.state.id,p(s)),window.history.pushState(null,"",e.requestUrl)),n("pjax:start",[h,e]),n("pjax:send",[h,e])),a.xhr}function o(e,n){var r={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return a(t.extend(r,m(e,n)))}function i(t){window.history.replaceState(null,"",a.state.url),window.location.replace(t)}function s(e){C||u(a.xhr);var n,r=a.state,o=e.state;if(o&&o.container){if(C&&A==o.url)return;if(r){if(r.id===o.id)return;n=r.id<o.id?"forward":"back"}var s=R[o.id]||[],c=t(s[0]||o.container),l=s[1];if(c.length){r&&b(n,r.id,p(c));var f=t.Event("pjax:popstate",{state:o,direction:n});c.trigger(f);var d={id:o.id,url:o.url,container:c,push:!1,fragment:o.fragment,timeout:o.timeout,scrollTo:!1};if(l){c.trigger("pjax:start",[null,d]),a.state=o,o.title&&(document.title=o.title);var h=t.Event("pjax:beforeReplace",{state:o,previousState:r});c.trigger(h,[l,d]),c.html(l),c.trigger("pjax:end",[null,d])}else a(d);c[0].offsetHeight}else i(location.href)}C=!1}function c(e){var n=t.isFunction(e.url)?e.url():e.url,r=e.type?e.type.toUpperCase():"GET",a=t("<form>",{method:"GET"===r?"GET":"POST",action:n,style:"display:none"});"GET"!==r&&"POST"!==r&&a.append(t("<input>",{type:"hidden",name:"_method",value:r.toLowerCase()}));var o=e.data;if("string"==typeof o)t.each(o.split("&"),function(e,n){var r=n.split("=");a.append(t("<input>",{type:"hidden",name:r[0],value:r[1]}))});else if(t.isArray(o))t.each(o,function(e,n){a.append(t("<input>",{type:"hidden",name:n.name,value:n.value}))});else if("object"==typeof o){var i;for(i in o)a.append(t("<input>",{type:"hidden",name:i,value:o[i]}))}t(document.body).append(a),a.submit()}function u(e){e&&e.readyState<4&&(e.onreadystatechange=t.noop,e.abort())}function l(){return(new Date).getTime()}function p(t){var e=t.clone();return e.find("script").each(function(){this.src||jQuery._data(this,"globalEval",!1)}),[t.selector,e.contents()]}function f(t){return t.search=t.search.replace(/([?&])(_pjax|_)=[^&]*/g,""),t.href.replace(/\?($|#)/,"$1")}function d(t){var e=document.createElement("a");return e.href=t,e}function h(t){return t.href.replace(/#.*/,"")}function m(e,n){return e&&n?n.container=e:n=t.isPlainObject(e)?e:{container:e},n.container&&(n.container=v(n.container)),n}function v(e){if(e=t(e),e.length){if(""!==e.selector&&e.context===document)return e;if(e.attr("id"))return t("#"+e.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+e.selector}function x(t,e){return t.filter(e).add(t.find(e))}function g(e){return t.parseHTML(e,document,!0)}function j(e,n,r){var a={},o=/<html/i.test(e),i=n.getResponseHeader("X-PJAX-URL");if(a.url=i?f(d(i)):r.requestUrl,o)var s=t(g(e.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0])),c=t(g(e.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));else var s=c=t(g(e));if(0===c.length)return a;if(a.title=x(s,"title").last().text(),r.fragment){if("body"===r.fragment)var u=c;else var u=x(c,r.fragment).first();u.length&&(a.contents="body"===r.fragment?u:u.contents(),a.title||(a.title=u.attr("title")||u.data("title")))}else o||(a.contents=c);return a.contents&&(a.contents=a.contents.not(function(){return t(this).is("title")}),a.contents.find("title").remove(),a.scripts=x(a.contents,"script[src]").remove(),a.contents=a.contents.not(a.scripts)),a.title&&(a.title=t.trim(a.title)),a}function y(e){if(e){var n=t("script[src]");e.each(function(){var e=this.src,r=n.filter(function(){return this.src===e});if(!r.length){var a=document.createElement("script"),o=t(this).attr("type");o&&(a.type=o),a.src=t(this).attr("src"),document.head.appendChild(a)}})}}function w(t,e){R[t]=e,X.push(t),T(U,0),T(X,a.defaults.maxCacheLength)}function b(t,e,n){var r,o;R[e]=n,"forward"===t?(r=X,o=U):(r=U,o=X),r.push(e),(e=o.pop())&&delete R[e],T(r,a.defaults.maxCacheLength)}function T(t,e){for(;t.length>e;)delete R[t.shift()]}function E(){return t("meta").filter(function(){var e=t(this).attr("http-equiv");return e&&"X-PJAX-VERSION"===e.toUpperCase()}).attr("content")}function S(){t.fn.pjax=e,t.pjax=a,t.pjax.enable=t.noop,t.pjax.disable=P,t.pjax.click=n,t.pjax.submit=r,t.pjax.reload=o,t.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:E},t(window).on("http://the-radio.ru/min/popstate.pjax",s)}function P(){t.fn.pjax=function(){return this},t.pjax=c,t.pjax.enable=S,t.pjax.disable=t.noop,t.pjax.click=t.noop,t.pjax.submit=t.noop,t.pjax.reload=function(){window.location.reload()},t(window).off("http://the-radio.ru/min/popstate.pjax",s)}var C=!0,A=window.location.href,D=window.history.state;D&&D.container&&(a.state=D),"state"in window.history&&(C=!1);var R={},U=[],X=[];t.inArray("state",t.event.props)<0&&t.event.props.push("state"),t.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),t.support.pjax?S():P()}(jQuery);
!function(t){"use strict";"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=t():"undefined"!=typeof Package?Sortable=t():window.Sortable=t()}(function(){"use strict";function t(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(t);this.el=t,this.options=e=m({},e),t[M]=this;var n={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",ignore:"a, img",filter:null,animation:0,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1};for(var i in n)!(i in e)&&(e[i]=n[i]);G(e);for(var a in this)"_"===a.charAt(0)&&(this[a]=this[a].bind(this));this.nativeDraggable=!e.forceFallback&&P,o(t,"mousedown",this._onTapStart),o(t,"touchstart",this._onTapStart),this.nativeDraggable&&(o(t,"dragover",this),o(t,"dragenter",this)),V.push(this._onDragOver),e.store&&this.sort(e.store.get(this))}function e(t){y&&y.state!==t&&(s(y,"display",t?"none":""),!t&&y.state&&S.insertBefore(y,b),y.state=t)}function n(t,e,n){if(t){n=n||U,e=e.split(".");var i=e.shift().toUpperCase(),o=new RegExp("\\s("+e.join("|")+")(?=\\s)","g");do if(">*"===i&&t.parentNode===n||(""===i||t.nodeName.toUpperCase()==i)&&(!e.length||((" "+t.className+" ").match(o)||[]).length==e.length))return t;while(t!==n&&(t=t.parentNode))}return null}function i(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.preventDefault()}function o(t,e,n){t.addEventListener(e,n,!1)}function a(t,e,n){t.removeEventListener(e,n,!1)}function r(t,e,n){if(t)if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(k," ").replace(" "+e+" "," ");t.className=(i+(n?" "+e:"")).replace(k," ")}}function s(t,e,n){var i=t&&t.style;if(i){if(void 0===n)return U.defaultView&&U.defaultView.getComputedStyle?n=U.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in i||(e="-webkit-"+e),i[e]=n+("string"==typeof n?"":"px")}}function l(t,e,n){if(t){var i=t.getElementsByTagName(e),o=0,a=i.length;if(n)for(;a>o;o++)n(i[o],o);return i}return[]}function d(t,e,n,i,o,a,r){var s=U.createEvent("Event"),l=(t||e[M]).options,d="on"+n.charAt(0).toUpperCase()+n.substr(1);s.initEvent(n,!0,!0),s.to=e,s.from=o||e,s.item=i||e,s.clone=y,s.oldIndex=a,s.newIndex=r,e.dispatchEvent(s),l[d]&&l[d].call(t,s)}function c(t,e,n,i,o,a){var r,s,l=t[M],d=l.options.onMove;return r=U.createEvent("Event"),r.initEvent("move",!0,!0),r.to=e,r.from=t,r.dragged=n,r.draggedRect=i,r.related=o||e,r.relatedRect=a||e.getBoundingClientRect(),t.dispatchEvent(r),d&&(s=d.call(l,r)),s}function h(t){t.draggable=!1}function u(){j=!1}function f(t,e){var n=t.lastElementChild,i=n.getBoundingClientRect();return(e.clientY-(i.top+i.height)>5||e.clientX-(i.right+i.width)>5)&&n}function p(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;n--;)i+=e.charCodeAt(n);return i.toString(36)}function g(t){var e=0;if(!t||!t.parentNode)return-1;for(;t&&(t=t.previousElementSibling);)"TEMPLATE"!==t.nodeName.toUpperCase()&&e++;return e}function v(t,e){var n,i;return function(){void 0===n&&(n=arguments,i=this,setTimeout(function(){1===n.length?t.call(i,n[0]):t.apply(i,n),n=void 0},e))}}function m(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var b,D,_,y,S,T,w,C,E,x,N,B,O,X,Y,A,I,R={},k=/\s+/g,M="Sortable"+(new Date).getTime(),L=window,U=L.document,H=L.parseInt,P=!!("draggable"in U.createElement("div")),W=function(t){return t=U.createElement("x"),t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}(),j=!1,F=Math.abs,V=([].slice,[]),z=v(function(t,e,n){if(n&&e.scroll){var i,o,a,r,s=e.scrollSensitivity,l=e.scrollSpeed,d=t.clientX,c=t.clientY,h=window.innerWidth,u=window.innerHeight;if(C!==n&&(w=e.scroll,C=n,w===!0)){w=n;do if(w.offsetWidth<w.scrollWidth||w.offsetHeight<w.scrollHeight)break;while(w=w.parentNode)}w&&(i=w,o=w.getBoundingClientRect(),a=(F(o.right-d)<=s)-(F(o.left-d)<=s),r=(F(o.bottom-c)<=s)-(F(o.top-c)<=s)),a||r||(a=(s>=h-d)-(s>=d),r=(s>=u-c)-(s>=c),(a||r)&&(i=L)),(R.vx!==a||R.vy!==r||R.el!==i)&&(R.el=i,R.vx=a,R.vy=r,clearInterval(R.pid),i&&(R.pid=setInterval(function(){i===L?L.scrollTo(L.pageXOffset+a*l,L.pageYOffset+r*l):(r&&(i.scrollTop+=r*l),a&&(i.scrollLeft+=a*l))},24)))}},30),G=function(t){var e=t.group;e&&"object"==typeof e||(e=t.group={name:e}),["pull","put"].forEach(function(t){t in e||(e[t]=!0)}),t.groups=" "+e.name+(e.put.join?" "+e.put.join(" "):"")+" "};return t.prototype={constructor:t,_onTapStart:function(t){var e=this,i=this.el,o=this.options,a=t.type,r=t.touches&&t.touches[0],s=(r||t).target,l=s,c=o.filter;if(!("mousedown"===a&&0!==t.button||o.disabled)&&(s=n(s,o.draggable,i))){if(B=g(s),"function"==typeof c){if(c.call(this,t,s,this))return d(e,l,"filter",s,i,B),void t.preventDefault()}else if(c&&(c=c.split(",").some(function(t){return t=n(l,t.trim(),i),t?(d(e,t,"filter",s,i,B),!0):void 0})))return void t.preventDefault();(!o.handle||n(l,o.handle,i))&&this._prepareDragStart(t,r,s)}},_prepareDragStart:function(t,e,n){var i,a=this,s=a.el,d=a.options,c=s.ownerDocument;n&&!b&&n.parentNode===s&&(Y=t,S=s,b=n,D=b.parentNode,T=b.nextSibling,X=d.group,i=function(){a._disableDelayedDrag(),b.draggable=!0,r(b,a.options.chosenClass,!0),a._triggerDragStart(e)},d.ignore.split(",").forEach(function(t){l(b,t.trim(),h)}),o(c,"mouseup",a._onDrop),o(c,"touchend",a._onDrop),o(c,"touchcancel",a._onDrop),d.delay?(o(c,"mouseup",a._disableDelayedDrag),o(c,"touchend",a._disableDelayedDrag),o(c,"touchcancel",a._disableDelayedDrag),o(c,"mousemove",a._disableDelayedDrag),o(c,"touchmove",a._disableDelayedDrag),a._dragStartTimer=setTimeout(i,d.delay)):i())},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer),a(t,"mouseup",this._disableDelayedDrag),a(t,"touchend",this._disableDelayedDrag),a(t,"touchcancel",this._disableDelayedDrag),a(t,"mousemove",this._disableDelayedDrag),a(t,"touchmove",this._disableDelayedDrag)},_triggerDragStart:function(t){t?(Y={target:b,clientX:t.clientX,clientY:t.clientY},this._onDragStart(Y,"touch")):this.nativeDraggable?(o(b,"dragend",this),o(S,"dragstart",this._onDragStart)):this._onDragStart(Y,!0);try{U.selection?U.selection.empty():window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){S&&b&&(r(b,this.options.ghostClass,!0),t.active=this,d(this,S,"start",b,S,B))},_emulateDragOver:function(){if(A){if(this._lastX===A.clientX&&this._lastY===A.clientY)return;this._lastX=A.clientX,this._lastY=A.clientY,W||s(_,"display","none");var t=U.elementFromPoint(A.clientX,A.clientY),e=t,n=" "+this.options.group.name,i=V.length;if(e)do{if(e[M]&&e[M].options.groups.indexOf(n)>-1){for(;i--;)V[i]({clientX:A.clientX,clientY:A.clientY,target:t,rootEl:e});break}t=e}while(e=e.parentNode);W||s(_,"display","")}},_onTouchMove:function(e){if(Y){t.active||this._dragStarted(),this._appendGhost();var n=e.touches?e.touches[0]:e,i=n.clientX-Y.clientX,o=n.clientY-Y.clientY,a=e.touches?"translate3d("+i+"px,"+o+"px,0)":"translate("+i+"px,"+o+"px)";I=!0,A=n,s(_,"webkitTransform",a),s(_,"mozTransform",a),s(_,"msTransform",a),s(_,"transform",a),e.preventDefault()}},_appendGhost:function(){if(!_){var t,e=b.getBoundingClientRect(),n=s(b),i=this.options;_=b.cloneNode(!0),r(_,i.ghostClass,!1),r(_,i.fallbackClass,!0),s(_,"top",e.top-H(n.marginTop,10)),s(_,"left",e.left-H(n.marginLeft,10)),s(_,"width",e.width),s(_,"height",e.height),s(_,"opacity","0.8"),s(_,"position","fixed"),s(_,"zIndex","100000"),s(_,"pointerEvents","none"),i.fallbackOnBody&&U.body.appendChild(_)||S.appendChild(_),t=_.getBoundingClientRect(),s(_,"width",2*e.width-t.width),s(_,"height",2*e.height-t.height)}},_onDragStart:function(t,e){var n=t.dataTransfer,i=this.options;this._offUpEvents(),"clone"==X.pull&&(y=b.cloneNode(!0),s(y,"display","none"),S.insertBefore(y,b)),e?("touch"===e?(o(U,"touchmove",this._onTouchMove),o(U,"touchend",this._onDrop),o(U,"touchcancel",this._onDrop)):(o(U,"mousemove",this._onTouchMove),o(U,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(n&&(n.effectAllowed="move",i.setData&&i.setData.call(this,n,b)),o(U,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(t){var i,o,a,r=this.el,l=this.options,d=l.group,h=d.put,p=X===d,g=l.sort;if(void 0!==t.preventDefault&&(t.preventDefault(),!l.dragoverBubble&&t.stopPropagation()),I=!0,X&&!l.disabled&&(p?g||(a=!S.contains(b)):X.pull&&h&&(X.name===d.name||h.indexOf&&~h.indexOf(X.name)))&&(void 0===t.rootEl||t.rootEl===this.el)){if(z(t,l,this.el),j)return;if(i=n(t.target,l.draggable,r),o=b.getBoundingClientRect(),a)return e(!0),void(y||T?S.insertBefore(b,y||T):g||S.appendChild(b));if(0===r.children.length||r.children[0]===_||r===t.target&&(i=f(r,t))){if(i){if(i.animated)return;m=i.getBoundingClientRect()}e(p),c(S,r,b,o,i,m)!==!1&&(b.contains(r)||(r.appendChild(b),D=r),this._animate(o,b),i&&this._animate(m,i))}else if(i&&!i.animated&&i!==b&&void 0!==i.parentNode[M]){E!==i&&(E=i,x=s(i),N=s(i.parentNode));var v,m=i.getBoundingClientRect(),w=m.right-m.left,C=m.bottom-m.top,B=/left|right|inline/.test(x.cssFloat+x.display)||"flex"==N.display&&0===N["flex-direction"].indexOf("row"),O=i.offsetWidth>b.offsetWidth,Y=i.offsetHeight>b.offsetHeight,A=(B?(t.clientX-m.left)/w:(t.clientY-m.top)/C)>.5,R=i.nextElementSibling,k=c(S,r,b,o,i,m);if(k!==!1){if(j=!0,setTimeout(u,30),e(p),1===k||-1===k)v=1===k;else if(B){var L=b.offsetTop,U=i.offsetTop;v=L===U?i.previousElementSibling===b&&!O||A&&O:U>L}else v=R!==b&&!Y||A&&Y;b.contains(r)||(v&&!R?r.appendChild(b):i.parentNode.insertBefore(b,v?R:i)),D=b.parentNode,this._animate(o,b),this._animate(m,i)}}}},_animate:function(t,e){var n=this.options.animation;if(n){var i=e.getBoundingClientRect();s(e,"transition","none"),s(e,"transform","translate3d("+(t.left-i.left)+"px,"+(t.top-i.top)+"px,0)"),e.offsetWidth,s(e,"transition","all "+n+"ms"),s(e,"transform","translate3d(0,0,0)"),clearTimeout(e.animated),e.animated=setTimeout(function(){s(e,"transition",""),s(e,"transform",""),e.animated=!1},n)}},_offUpEvents:function(){var t=this.el.ownerDocument;a(U,"touchmove",this._onTouchMove),a(t,"mouseup",this._onDrop),a(t,"touchend",this._onDrop),a(t,"touchcancel",this._onDrop)},_onDrop:function(e){var n=this.el,i=this.options;clearInterval(this._loopId),clearInterval(R.pid),clearTimeout(this._dragStartTimer),a(U,"mousemove",this._onTouchMove),this.nativeDraggable&&(a(U,"drop",this),a(n,"dragstart",this._onDragStart)),this._offUpEvents(),e&&(I&&(e.preventDefault(),!i.dropBubble&&e.stopPropagation()),_&&_.parentNode.removeChild(_),b&&(this.nativeDraggable&&a(b,"dragend",this),h(b),r(b,this.options.ghostClass,!1),r(b,this.options.chosenClass,!1),S!==D?(O=g(b),O>=0&&(d(null,D,"sort",b,S,B,O),d(this,S,"sort",b,S,B,O),d(null,D,"add",b,S,B,O),d(this,S,"remove",b,S,B,O))):(y&&y.parentNode.removeChild(y),b.nextSibling!==T&&(O=g(b),O>=0&&(d(this,S,"update",b,S,B,O),d(this,S,"sort",b,S,B,O)))),t.active&&((null===O||-1===O)&&(O=B),d(this,S,"end",b,S,B,O),this.save())),S=b=D=_=T=y=w=C=Y=A=I=O=E=x=X=t.active=null)},handleEvent:function(t){var e=t.type;"dragover"===e||"dragenter"===e?b&&(this._onDragOver(t),i(t)):("drop"===e||"dragend"===e)&&this._onDrop(t)},toArray:function(){for(var t,e=[],i=this.el.children,o=0,a=i.length,r=this.options;a>o;o++)t=i[o],n(t,r.draggable,this.el)&&e.push(t.getAttribute(r.dataIdAttr)||p(t));return e},sort:function(t){var e={},i=this.el;this.toArray().forEach(function(t,o){var a=i.children[o];n(a,this.options.draggable,i)&&(e[t]=a)},this),t.forEach(function(t){e[t]&&(i.removeChild(e[t]),i.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set(this)},closest:function(t,e){return n(t,e||this.options.draggable,this.el)},option:function(t,e){var n=this.options;return void 0===e?n[t]:(n[t]=e,void("group"===t&&G(n)))},destroy:function(){var t=this.el;t[M]=null,a(t,"mousedown",this._onTapStart),a(t,"touchstart",this._onTapStart),this.nativeDraggable&&(a(t,"dragover",this),a(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),V.splice(V.indexOf(this._onDragOver),1),this._onDrop(),this.el=t=null}},t.utils={on:o,off:a,css:s,find:l,is:function(t,e){return!!n(t,e,t)},extend:m,throttle:v,closest:n,toggleClass:r,index:g},t.create=function(e,n){return new t(e,n)},t.version="1.4.1",t});
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e=Array.prototype.slice,i=Array.prototype.splice,n={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",widthFromWrapper:!0,responsiveWidth:!1,zIndex:"auto"},r=t(window),s=t(document),o=[],c=r.height(),p=function(){for(var e=r.scrollTop(),i=s.height(),n=i-c,n=e>n?n-e:0,p=0,a=o.length;p<a;p++){var d=o[p],l=d.stickyWrapper.offset().top-d.topSpacing-n;if(d.stickyWrapper.css("height",d.stickyElement.outerHeight()),e<=l)null!==d.currentTop&&(d.stickyElement.css({width:"",position:"",top:"","z-index":""}),d.stickyElement.parent().removeClass(d.className),d.stickyElement.trigger("sticky-end",[d]),d.currentTop=null);else{if(l=i-d.stickyElement.outerHeight()-d.topSpacing-d.bottomSpacing-e-n,l=0>l?l+d.topSpacing:d.topSpacing,d.currentTop!==l){var h;d.getWidthFrom?h=t(d.getWidthFrom).width()||null:d.widthFromWrapper&&(h=d.stickyWrapper.width()),null==h&&(h=d.stickyElement.width()),d.stickyElement.css("width",h).css("position","fixed").css("top",l).css("z-index",d.zIndex),d.stickyElement.parent().addClass(d.className),null===d.currentTop?d.stickyElement.trigger("sticky-start",[d]):d.stickyElement.trigger("sticky-update",[d]),d.currentTop===d.topSpacing&&d.currentTop>l||null===d.currentTop&&l<d.topSpacing?d.stickyElement.trigger("sticky-bottom-reached",[d]):null!==d.currentTop&&l===d.topSpacing&&d.currentTop<l&&d.stickyElement.trigger("sticky-bottom-unreached",[d]),d.currentTop=l}var u=d.stickyWrapper.parent();d.stickyElement.offset().top+d.stickyElement.outerHeight()>=u.offset().top+u.outerHeight()&&d.stickyElement.offset().top<=d.topSpacing?d.stickyElement.css("position","absolute").css("top","").css("bottom",0).css("z-index",""):d.stickyElement.css("position","fixed").css("top",l).css("bottom","").css("z-index",d.zIndex)}}},a=function(){c=r.height();for(var e=0,i=o.length;e<i;e++){var n=o[e],s=null;n.getWidthFrom?n.responsiveWidth&&(s=t(n.getWidthFrom).width()):n.widthFromWrapper&&(s=n.stickyWrapper.width()),null!=s&&n.stickyElement.css("width",s)}},d={init:function(e){return this.each(function(){var i=t.extend({},n,e),r=t(this),s=r.attr("id"),c=s?s+"-"+n.wrapperClassName:n.wrapperClassName,p=t("<div></div>").attr("id",c).addClass(i.wrapperClassName);r.wrapAll(function(){if(0==t(this).parent("#"+c).length)return p}),s=r.parent(),i.center&&s.css({width:r.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"===r.css("float")&&r.css({"float":"none"}).parent().css({"float":"right"}),i.stickyElement=r,i.stickyWrapper=s,i.currentTop=null,o.push(i),d.setWrapperHeight(this),d.setupChangeListeners(this)})},setWrapperHeight:function(e){e=t(e);var i=e.parent();i&&i.css("height",e.outerHeight())},setupChangeListeners:function(t){window.MutationObserver?new window.MutationObserver(function(e){(e[0].addedNodes.length||e[0].removedNodes.length)&&d.setWrapperHeight(t)}).observe(t,{subtree:!0,childList:!0}):window.addEventListener?(t.addEventListener("DOMNodeInserted",function(){d.setWrapperHeight(t)},!1),t.addEventListener("DOMNodeRemoved",function(){d.setWrapperHeight(t)},!1)):window.attachEvent&&(t.attachEvent("onDOMNodeInserted",function(){d.setWrapperHeight(t)}),t.attachEvent("onDOMNodeRemoved",function(){d.setWrapperHeight(t)}))},update:p,unstick:function(e){return this.each(function(){for(var e=t(this),n=-1,r=o.length;0<r--;)o[r].stickyElement.get(0)===this&&(i.call(o,r,1),n=r);-1!==n&&(e.unwrap(),e.css({width:"",position:"",top:"","float":"","z-index":""}))})}};window.addEventListener?(window.addEventListener("scroll",p,!1),window.addEventListener("resize",a,!1)):window.attachEvent&&(window.attachEvent("onscroll",p),window.attachEvent("onresize",a)),t.fn.sticky=function(i){return d[i]?d[i].apply(this,e.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist on jQuery.sticky"):d.init.apply(this,arguments)},t.fn.unstick=function(i){return d[i]?d[i].apply(this,e.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist on jQuery.sticky"):d.unstick.apply(this,arguments)},t(function(){setTimeout(p,0)})});
!function(e){var t=(0,eval)("this"),n=t.jQuery;"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=n?e(n):function(t){if(t&&!t.fn)throw"Provide jQuery or null";return e(t)}:e(!1)}(function(e){"use strict";function t(e,t){return function(){var n,r=this,i=r.base;return r.base=e,n=t.apply(r,arguments),r.base=i,n}}function n(e,n){return z(n)&&(n=t(e?e._d?e:t(a,e):a,n),n._d=1),n}function r(e,t){for(var r in t.props)xe.test(r)&&(e[r]=n(e[r],t.props[r]))}function i(e){return e}function a(){return""}function o(e){try{throw"dbg breakpoint"}catch(t){}return this.base?this.baseApply(arguments):e}function s(e){ne._dbgMode=e!==!1}function d(t){this.name=(e.link?"JsViews":"JsRender")+" Error",this.message=t||this.name}function p(e,t){var n;for(n in t)e[n]=t[n];return e}function l(e,t,n){return(0!==this||e)&&(ae=e?e.charAt(0):ae,oe=e?e.charAt(1):oe,se=t?t.charAt(0):se,de=t?t.charAt(1):de,pe=n||pe,e="\\"+ae+"(\\"+pe+")?\\"+oe,t="\\"+se+"\\"+de,H="(?:(?:(\\w+(?=[\\/\\s\\"+se+"]))|(?:(\\w+)?(:)|(>)|!--((?:[^-]|-(?!-))*)--|(\\*)))\\s*((?:[^\\"+se+"]|\\"+se+"(?!\\"+de+"))*?)",te.rTag=H+")",H=new RegExp(e+H+"(\\/)?|(?:\\/(\\w+)))"+t,"g"),D=new RegExp("<.*>|([^\\\\]|^)[{}]|"+e+".*"+t)),[ae,oe,se,de,pe]}function u(e,t){t||(t=e,e=void 0);var n,r,i,a,o=this,s=!t||"root"===t;if(e){if(a=o.type===t?o:void 0,!a)if(n=o.views,o._.useKey){for(r in n)if(a=n[r].get(e,t))break}else for(r=0,i=n.length;!a&&i>r;r++)a=n[r].get(e,t)}else if(s)for(;o.parent.parent;)a=o=o.parent;else for(;o&&!a;)a=o.type===t?o:void 0,o=o.parent;return a}function c(){var e=this.get("item");return e?e.index:void 0}function f(){return this.index}function g(e){var t,n=this,r=n.linkCtx,i=(n.ctx||{})[e];return void 0===i&&r&&r.ctx&&(i=r.ctx[e]),void 0===i&&(i=Y[e]),i&&z(i)&&!i._wrp&&(t=function(){return i.apply(this&&this!==B?this:n,arguments)},t._wrp=!0,p(t,i)),t||i}function v(e,t,n,i){var a,o,s="number"==typeof n&&t.tmpl.bnds[n-1],d=t.linkCtx;return void 0!==i?n=i={props:{},args:[i]}:s&&(n=s(t.data,t,Z)),o=n.args[0],(e||s)&&(a=d&&d.tag,a||(a=p(new te._tg,{_:{inline:!d,bnd:s,unlinked:!0},tagName:":",cvt:e,flow:!0,tagCtx:n}),d&&(d.tag=a,a.linkCtx=d),n.ctx=U(n.ctx,(d?d.view:t).ctx)),a._er=i&&o,r(a,n),n.view=t,a.ctx=n.ctx||{},n.ctx=void 0,t._.tag=a,o=a.cvtArgs(a.convert||"true"!==e&&e)[0],o=s&&t._.onRender?t._.onRender(o,t,s):o,t._.tag=void 0),void 0!=o?o:""}function m(e){var t=this,n=t.tagCtx,r=n.view,i=n.args;return e=t.convert||e,e=e&&(""+e===e?r.getRsc("converters",e)||V("Unknown converter: '"+e+"'"):e),i=i.length||n.index?e?i.slice():i:[r.data],e&&(e.depends&&(t.depends=te.getDeps(t.depends,t,e.depends,e)),i[0]=e.apply(t,i)),i}function h(e,t){for(var n,r,i=this;void 0===n&&i;)r=i.tmpl&&i.tmpl[e],n=r&&r[t],i=i.parent;return n||Z[e][t]}function w(e,t,n,i,a,o){t=t||P;var s,d,p,l,u,c,f,g,v,m,h,w,b,x,_,y,k,j,C,A="",R=t.linkCtx||0,M=t.ctx,$=n||t.tmpl,N="number"==typeof i&&t.tmpl.bnds[i-1];for("tag"===e._is?(s=e,e=s.tagName,i=s.tagCtxs,p=s.template):(d=t.getRsc("tags",e)||V("Unknown tag: {{"+e+"}} "),p=d.template),void 0!==o?(A+=o,i=o=[{props:{},args:[]}]):N&&(i=N(t.data,t,Z)),g=i.length,f=0;g>f;f++)m=i[f],(!R||!R.tag||f&&!R.tag._.inline||s._er)&&((w=m.tmpl)&&(w=m.content=$.tmpls[w-1]),m.index=f,m.tmpl=p||w,m.render=T,m.view=t,m.ctx=U(m.ctx,M)),(n=m.props.tmpl)&&(n=""+n===n?t.getRsc("templates",n)||W(n):n,m.tmpl=n),s||(s=new d._ctr,b=!!s.init,s.parent=c=M&&M.tag,s.tagCtxs=i,C=s.dataMap,R&&(s._.inline=!1,R.tag=s,s.linkCtx=R),(s._.bnd=N||R.fn)?s._.arrVws={}:s.dataBoundOnly&&V("{^{"+e+"}} tag must be data-bound")),i=s.tagCtxs,C=s.dataMap,m.tag=s,C&&i&&(m.map=i[f].map),s.flow||(h=m.ctx=m.ctx||{},l=s.parents=h.parentTags=M&&U(h.parentTags,M.parentTags)||{},c&&(l[c.tagName]=c),l[s.tagName]=h.tag=s);if((N||R)&&(t._.tag=s),!(s._er=o)){for(r(s,i[0]),s.rendering={},f=0;g>f;f++)m=s.tagCtx=i[f],k=m.props,y=s.cvtArgs(),(x=k.dataMap||C)&&(y.length||k.dataMap)&&(_=m.map,(!_||_.src!==y[0]||a)&&(_&&_.src&&_.unmap(),_=m.map=x.map(y[0],k,void 0,!s._.bnd)),y=[_.tgt]),s.ctx=m.ctx,f||(b&&(j=s.template,s.init(m,R,s.ctx),b=void 0,s.template!==j&&(s._.tmpl=s.template)),R&&(R.attr=s.attr=R.attr||s.attr),u=s.attr,s._.noVws=u&&u!==je),v=void 0,s.render&&(v=s.render.apply(s,y)),y.length||(y=[t]),void 0===v&&(v=m.render(y.length?y[0]:t,!0)||(a?void 0:"")),A=A?A+(v||""):v;s.rendering=void 0}return s.tagCtx=i[0],s.ctx=s.tagCtx.ctx,s._.noVws&&s._.inline&&(A="text"===u?X.html(A):""),N&&t._.onRender?t._.onRender(A,t,N):A}function b(e,t,n,r,i,a,o,s){var d,p,l,u,f=this,g="array"===t;f.content=o,f.views=g?[]:{},f.parent=n,f.type=t||"top",f.data=r,f.tmpl=i,u=f._={key:0,useKey:g?0:1,id:""+ye++,onRender:s,bnds:{}},f.linked=!!s,n?(d=n.views,p=n._,p.useKey?(d[u.key="_"+p.useKey++]=f,f.index=Re,f.getIndex=c,l=p.tag,u.bnd=g&&(!l||!!l._.bnd&&l)):d.length===(u.key=f.index=a)?d.push(f):d.splice(a,0,f),f.ctx=e||n.ctx):f.ctx=e}function x(e){var t,n,r,i,a,o,s;for(t in Ne)if(a=Ne[t],(o=a.compile)&&(n=e[t+"s"]))for(r in n)i=n[r]=o(r,n[r],e,0),i._is=t,i&&(s=te.onStore[t])&&s(r,i,o)}function _(e,t,r){function i(){var t=this;t._={inline:!0,unlinked:!0},t.tagName=e}var a,o,s,d=new te._tg;if(z(t)?t={depends:t.depends,render:t}:""+t===t&&(t={template:t}),o=t.baseTag){t.flow=!!t.flow,t.baseTag=o=""+o===o?r&&r.tags[o]||ee[o]:o,d=p(d,o);for(s in t)d[s]=n(o[s],t[s])}else d=p(d,t);return void 0!==(a=d.template)&&(d.template=""+a===a?W[a]||W(a):a),d.init!==!1&&((i.prototype=d).constructor=d._ctr=i),r&&(d._parentTmpl=r),d}function y(e){return this.base.apply(this,e)}function k(t,n,r,i){function a(n){var a,s;if(""+n===n||n.nodeType>0&&(o=n)){if(!o)if(/^\.\/[^\\:*?"<>]*$/.test(n))(s=W[t=t||n])?n=s:o=document.getElementById(n);else if(e.fn&&!D.test(n))try{o=e(document).find(n)[0]}catch(d){}o&&(i?n=o.innerHTML:(a=o.getAttribute(Ae),a?a!==Te?(n=W[a],delete W[a]):e.fn&&(n=e.data(o)[Te]):(t=t||(e.fn?Te:n),n=k(t,o.innerHTML,r,i)),n.tmplName=t=t||a,t!==Te&&(W[t]=n),o.setAttribute(Ae,t),e.fn&&e.data(o,Te,n))),o=void 0}else n.fn||(n=void 0);return n}var o,s,d=n=n||"";return 0===i&&(i=void 0,d=a(d)),i=i||(n.markup?n:{}),i.tmplName=t,r&&(i._parentTmpl=r),!d&&n.markup&&(d=a(n.markup))&&d.fn&&(d=d.markup),void 0!==d?(d.fn||n.fn?d.fn&&(s=d):(n=C(d,i),$(d.replace(ge,"\\$&"),n)),s||(x(i),s=p(function(){return n.render.apply(n,arguments)},n)),t&&!r&&t!==Te&&(Ve[t]=s),s):void 0}function j(e){function t(t,n){this.tgt=e.getTgt(t,n)}return z(e)&&(e={getTgt:e}),e.baseMap&&(e=p(p({},e.baseMap),e)),e.map=function(e,n){return new t(e,n)},e}function C(t,n){var r,i=ne.wrapMap||{},a=p({tmpls:[],links:{},bnds:[],_is:"template",render:T},n);return a.markup=t,n.htmlTag||(r=he.exec(t),a.htmlTag=r?r[1].toLowerCase():""),r=i[a.htmlTag],r&&r!==i.div&&(a.markup=e.trim(a.markup)),a}function A(e,t){function n(i,a,o){var s,d,p,l;if(i&&typeof i===Ce&&!i.nodeType&&!i.markup&&!i.getTgt){for(p in i)n(p,i[p],a);return Z}return void 0===a&&(a=i,i=void 0),i&&""+i!==i&&(o=a,a=i,i=void 0),l=o?o[r]=o[r]||{}:n,d=t.compile,null===a?i&&delete l[i]:(a=d?d(i,a,o,0):a,i&&(l[i]=a)),d&&a&&(a._is=e),a&&(s=te.onStore[e])&&s(i,a,d),a}var r=e+"s";Z[r]=n}function T(e,t,n,r,i,a){var o,s,d,p,l,u,c,f,g=r,v="";if(t===!0?(n=t,t=void 0):typeof t!==Ce&&(t=void 0),(d=this.tag)?(l=this,p=d._.tmpl||l.tmpl,g=g||l.view,arguments.length||(e=g)):p=this,p){if(!g&&e&&"view"===e._is&&(g=e),g&&e===g&&(e=g.data),p.fn||(p=d._.tmpl=W[p]||W(p)),u=!g,re=re||u,g||((t=t||{}).root=e),!re||ne.useViews||p.useViews||g&&g!==P)v=R(p,e,t,n,g,i,a,d);else{if(g?(c=g.data,f=g.index,g.index=Re):(g=P,g.data=e,g.ctx=t),G(e)&&!n)for(o=0,s=e.length;s>o;o++)g.index=o,g.data=e[o],v+=p.fn(e[o],g,Z);else v+=p.fn(e,g,Z);g.data=c,g.index=f}u&&(re=void 0)}return v}function R(e,t,n,r,i,a,o,s){function d(e){_=p({},n),_[x]=e}var l,u,c,f,g,v,m,h,w,x,_,y,k="";if(s&&(w=s.tagName,y=s.tagCtx,n=n?U(n,s.ctx):s.ctx,m=y.content,y.props.link===!1&&(n=n||{},n.link=!1),(x=y.props.itemVar)&&("~"!==x.charAt(0)&&M("Use itemVar='~myItem'"),x=x.slice(1))),i&&(m=m||i.content,o=o||i._.onRender,n=U(n,i.ctx)),a===!0&&(v=!0,a=0),o&&(n&&n.link===!1||s&&s._.noVws)&&(o=void 0),h=o,o===!0&&(h=void 0,o=i._.onRender),n=e.helpers?U(e.helpers,n):n,_=n,G(t)&&!r)for(c=v?i:void 0!==a&&i||new b(n,"array",i,t,e,a,m,o),x&&(c.it=x),x=c.it,l=0,u=t.length;u>l;l++)x&&d(t[l]),f=new b(_,"item",c,t[l],e,(a||0)+l,m,o),g=e.fn(t[l],f,Z),k+=c._.onRender?c._.onRender(g,f):g;else x&&d(t),c=v?i:new b(_,w||"data",i,t,e,a,m,o),s&&!s.flow&&(c.tag=s),k+=e.fn(t,c,Z);return h?h(k,c):k}function V(e,t,n){var r=ne.onError(e,t,n);if(""+e===e)throw new te.Err(r);return!t.linkCtx&&t.linked?X.html(r):r}function M(e){V("Syntax error\n"+e)}function $(e,t,n,r,i){function a(t){t-=f,t&&v.push(e.substr(f,t).replace(ce,"\\n"))}function o(t,n){t&&(t+="}}",M((n?"{{"+n+"}} block has {{/"+t+" without {{"+t:"Unmatched or missing {{/"+t)+", in template:\n"+e))}function s(s,d,c,h,w,b,x,_,y,k,j,C){b&&(w=":",h=je),k=k||n&&!i;var A=(d||n)&&[[]],T="",R="",V="",$="",N="",F="",I="",U="",J=!k&&!w&&!x;c=c||(y=y||"#data",w),a(C),f=C+s.length,_?u&&v.push(["*","\n"+y.replace(/^:/,"ret+= ").replace(fe,"$1")+";\n"]):c?("else"===c&&(me.test(y)&&M('for "{{else if expr}}" use "{{else expr}}"'),A=m[7]&&[[]],m[8]=e.substring(m[8],C),m=g.pop(),v=m[2],J=!0),y&&S(y.replace(ce," "),A,t).replace(ve,function(e,t,n,r,i,a,o,s){return r="'"+i+"':",o?(R+=a+",",$+="'"+s+"',"):n?(V+=r+a+",",F+=r+"'"+s+"',"):t?I+=a:("trigger"===i&&(U+=a),T+=r+a+",",N+=r+"'"+s+"',",l=l||xe.test(i)),""}).slice(0,-1),A&&A[0]&&A.pop(),p=[c,h||!!r||l||"",J&&[],E($,N,F),E(R,T,V),I,U,A||0],v.push(p),J&&(g.push(m),m=p,m[8]=f)):j&&(o(j!==m[0]&&"else"!==m[0]&&j,m[0]),m[8]=e.substring(m[8],C),m=g.pop()),o(!m&&j),v=m[2]}var d,p,l,u=ne.allowCode||t&&t.allowCode,c=[],f=0,g=[],v=c,m=[,,c];return u&&(t.allowCode=u),n&&(e=ae+e+de),o(g[0]&&g[0][2].pop()[0]),e.replace(H,s),a(e.length),(f=c[c.length-1])&&o(""+f!==f&&+f[8]===f[8]&&f[0]),n?(d=I(c,e,n),N(d,[c[0][7]])):d=I(c,t),d}function N(e,t){var n,r,i=0,a=t.length;for(e.deps=[];a>i;i++){r=t[i];for(n in r)"_jsvto"!==n&&r[n].length&&(e.deps=e.deps.concat(r[n]))}e.paths=r}function E(e,t,n){return[e.slice(0,-1),t.slice(0,-1),n.slice(0,-1)]}function F(e,t){return"\n\t"+(t?t+":{":"")+"args:["+e[0]+"]"+(e[1]||!t?",\n\tprops:{"+e[1]+"}":"")+(e[2]?",\n\tctx:{"+e[2]+"}":"")}function S(e,t,n){function r(r,h,w,b,x,_,y,k,j,C,A,T,R,V,N,E,F,S,I,U){function J(e,n,r,o,s,d,u,c){var f="."===r;if(r&&(x=x.slice(n.length),f||(e=(o?'view.hlp("'+o+'")':s?"view":"data")+(c?(d?"."+d:o?"":s?"":"."+r)+(u||""):(c=o?"":s?d||"":r,"")),e+=c?"."+c:"",e=n+("http://the-radio.ru/min/view.data"===e.slice(0,9)?e.slice(5):e)),p)){if(q="linkTo"===i?a=t._jsvto=t._jsvto||[]:l.bd,B=f&&q[q.length-1]){if(B._jsv){for(;B.sb;)B=B.sb;B.bnd&&(x="^"+x.slice(1)),B.sb=x,B.bnd=B.bnd||"^"===x.charAt(0)}}else q.push(x);m[g]=I+(f?1:0)}return e}b=p&&b,b&&!k&&(x=b+x),_=_||"",w=w||h||T,x=x||j,C=C||F||"";var K,O,q,B,L;if(!y||d||s){if(p&&E&&!d&&!s&&(!i||o||a)&&(K=m[g-1],U.length-1>I-(K||0))){if(K=U.slice(K,I+r.length),O!==!0)if(q=a||u[g-1].bd,B=q[q.length-1],B&&B.prm){for(;B.sb&&B.sb.prm;)B=B.sb;L=B.sb={path:B.sb,bnd:B.bnd}}else q.push(L={path:q.pop()});E=oe+":"+K+" onerror=''"+se,O=f[E],O||(f[E]=!0,f[E]=O=$(E,n,!0)),O!==!0&&L&&(L._jsv=O,L.prm=l.bd,L.bnd=L.bnd||L.path&&L.path.indexOf("^")>=0)}return d?(d=!R,d?r:T+'"'):s?(s=!V,s?r:T+'"'):(w?(m[g]=I++,l=u[++g]={bd:[]},w):"")+(S?g?"":(c=U.slice(c,I),(i?(i=o=a=!1,"\b"):"\b,")+c+(c=I+r.length,p&&t.push(l.bd=[]),"\b")):k?(g&&M(e),p&&t.pop(),i=x,o=b,c=I+r.length,b&&(p=l.bd=t[i]=[]),x+":"):x?x.split("^").join(".").replace(le,J)+(C?(l=u[++g]={bd:[]},v[g]=!0,C):_):_?_:N?(v[g]=!1,l=u[--g],N+(C?(l=u[++g],v[g]=!0,C):"")):A?(v[g]||M(e),","):h?"":(d=R,s=V,'"'))}M(e)}var i,a,o,s,d,p=t&&t[0],l={bd:p},u={0:l},c=0,f=n?n.links:p&&(p.links=p.links||{}),g=0,v={},m={},h=(e+(n?" ":"")).replace(ue,r);return!g&&h||M(e)}function I(e,t,n){var r,i,a,o,s,d,p,l,u,c,f,g,v,m,h,w,b,x,_,y,k,j,A,T,R,V,$,E,S,U,J=0,K=ne.useViews||t.useViews||t.tags||t.templates||t.helpers||t.converters,O="",q={},B=e.length;for(""+t===t?(x=n?'data-link="'+t.replace(ce," ").slice(1,-1)+'"':t,t=0):(x=t.tmplName||"unnamed",t.allowCode&&(q.allowCode=!0),t.debug&&(q.debug=!0),f=t.bnds,b=t.tmpls),r=0;B>r;r++)if(i=e[r],""+i===i)O+='\n+"'+i+'"';else if(a=i[0],"*"===a)O+=";\n"+i[1]+"\nret=ret";else{if(o=i[1],k=!n&&i[2],s=F(i[3],"params")+"},"+F(v=i[4]),E=i[5],U=i[6],j=i[8]&&i[8].replace(fe,"$1"),(R="else"===a)?g&&g.push(i[7]):(J=0,f&&(g=i[7])&&(g=[g],J=f.push(1))),K=K||v[1]||v[2]||g||/view.(?!index)/.test(v[0]),(V=":"===a)?o&&(a=o===je?">":o+a):(k&&(_=C(j,q),_.tmplName=x+"/"+a,_.useViews=_.useViews||K,I(k,_),K=_.useViews,b.push(_)),R||(y=a,K=K||a&&(!ee[a]||!ee[a].flow),T=O,O=""),A=e[r+1],A=A&&"else"===A[0]),S=E?";\ntry{\nret+=":"\n+",m="",h="",V&&(g||U||o&&o!==je)){if($="return {"+s+"};",w='c("'+o+'",view,',$=new Function("data,view,j,u"," // "+x+" "+J+" "+a+"\n"+$),$._er=E,m=w+J+",",h=")",$._tag=a,n)return $;N($,g),c=!0}if(O+=V?(n?(E?"\ntry{\n":"")+"return ":S)+(c?(c=void 0,K=u=!0,w+(g?(f[J-1]=$,J):"{"+s+"}")+")"):">"===a?(p=!0,"h("+v[0]+")"):(l=!0,"((v="+(v[0]||"data")+')!=null?v:"")')):(d=!0,"\n{view:view,tmpl:"+(k?b.length:"0")+","+s+"},"),y&&!A){if(O="["+O.slice(0,-1)+"]",w='t("'+y+'",view,this,',n||g){if(O=new Function("data,view,j,u"," // "+x+" "+J+" "+y+"\nreturn "+O+";"),O._er=E,O._tag=y,g&&N(f[J-1]=O,g),n)return O;m=w+J+",undefined,",h=")"}O=T+S+w+(J||O)+")",g=0,y=0}E&&(K=!0,O+=";\n}catch(e){ret"+(n?"urn ":"+=")+m+"j._err(e,view,"+E+")"+h+";}\n"+(n?"":"ret=ret"))}O="// "+x+"\nvar v"+(d?",t=j._tag":"")+(u?",c=j._cnvt":"")+(p?"http://the-radio.ru/min/,h=j.converters.html":"")+(n?";\n":',ret=""\n')+(q.debug?"debugger;":"")+O+(n?"\n":";\nreturn ret;"),ne._dbgMode&&(O="try {\n"+O+"\n}catch(e){\nreturn j._err(e, view);\n}");try{O=new Function("data,view,j,u",O)}catch(L){M("Compiled template code:\n\n"+O+'\n: "'+L.message+'"')}return t&&(t.fn=O,t.useViews=!!K),O}function U(e,t){return e&&e!==t?t?p(p({},t),e):e:t&&p({},t)}function J(e){return ke[e]||(ke[e]="&#"+e.charCodeAt(0)+";")}function K(e){var t,n,r=[];if(typeof e===Ce)for(t in e)n=e[t],n&&n.toJSON&&!n.toJSON()||z(n)||r.push({key:t,prop:n});return r}function O(t,n,r){var i=this.jquery&&(this[0]||V('Unknown template: "'+this.selector+'"')),a=i.getAttribute(Ae);return T.call(a?e.data(i)[Te]:W(i),t,n,r)}function q(e){return void 0!=e?be.test(e)&&(""+e).replace(_e,J)||e:""}var B=(0,eval)("this"),L=e===!1;e=e&&e.fn?e:B.jQuery;var Q,H,D,P,Z,z,G,W,X,Y,ee,te,ne,re,ie="v1.0.0-beta",ae="{",oe="{",se="}",de="}",pe="^",le=/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,ue=/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(!*?[#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?[#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*(([)\]])(?=\s*[.^]|\s*$|[^\(\[])|[)\]])([([]?))|(\s+)/g,ce=/[ \t]*(\r\n|\n|\r)/g,fe=/\\(['"])/g,ge=/['"\\]/g,ve=/(?:\x08|^)(onerror:)?(?:(~?)(([\w$_\.]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,me=/^if\s/,he=/<(\w+)[>\s]/,we=/[\x00`><"'&]/g,be=/[\x00`><\"'&]/,xe=/^on[A-Z]|^convert(Back)?$/,_e=we,ye=0,ke={"&":"&amp;","<":"&lt;",">":"&gt;","\0":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;"},je="html",Ce="object",Ae="data-jsv-tmpl",Te="jsvTmpl",Re="For #index in nested block use #getIndex().",Ve={},Me=B.jsrender,$e=Me&&e&&!e.render,Ne={template:{compile:k},tag:{compile:_},helper:{},converter:{}};if(Z={jsviews:ie,settings:function(e){p(ne,e),s(ne._dbgMode),ne.jsv&&ne.jsv()},sub:{View:b,Err:d,tmplFn:$,parse:S,extend:p,extendCtx:U,syntaxErr:M,onStore:{},_ths:r,_tg:function(){}},map:j,_cnvt:v,_tag:w,_err:V},(d.prototype=new Error).constructor=d,c.depends=function(){return[this.get("item"),"index"]},f.depends="index",b.prototype={get:u,getIndex:f,getRsc:h,hlp:g,_is:"view"},!(Me||e&&e.render)){for(Q in Ne)A(Q,Ne[Q]);W=Z.templates,X=Z.converters,Y=Z.helpers,ee=Z.tags,te=Z.sub,ne=Z.settings,te._tg.prototype={baseApply:y,cvtArgs:m},P=te.topView=new b,e?(e.fn.render=O,e.observable&&(p(te,e.views.sub),Z.map=e.views.map)):(e={},L&&(B.jsrender=e),e.renderFile=e.__express=e.compile=function(){throw"Node.js: use npm jsrender, or jsrender-node.js"},e.isFunction=function(e){return"function"==typeof e},e.isArray=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},te._jq=function(t){t!==e&&(p(t,e),e=t,e.fn.render=O,delete e.jsrender)},e.jsrender=ie),z=e.isFunction,G=e.isArray,e.render=Ve,e.views=Z,e.templates=W=Z.templates,ne({debugMode:s,delimiters:l,onError:function(e,t,n){return t&&(e=void 0===n?"{Error: "+(e.message||e)+"}":z(n)?n(e,t):n),void 0==e?"":e},_dbgMode:!1}),ee({"if":{render:function(e){var t=this,n=t.tagCtx,r=t.rendering.done||!e&&(arguments.length||!n.index)?"":(t.rendering.done=!0,t.selected=n.index,n.render(n.view,!0));return r},flow:!0},"for":{render:function(e){var t,n=!arguments.length,r=this,i=r.tagCtx,a="",o=0;return r.rendering.done||(t=n?i.view.data:e,void 0!==t&&(a+=i.render(t,n),o+=G(t)?t.length:1),(r.rendering.done=o)&&(r.selected=i.index)),a},flow:!0},props:{baseTag:"for",dataMap:j(K),flow:!0},include:{flow:!0},"*":{render:i,flow:!0},":*":{render:i,flow:!0},dbg:Y.dbg=X.dbg=o}),X({html:q,attr:q,url:function(e){return void 0!=e?encodeURI(""+e):null===e?e:""}}),l()}return $e&&Me.views.sub._jq(e),e||Me});
"function"!=typeof Object.create&&(Object.create=function(t){function o(){}return o.prototype=t,new o}),function(t,o){"use strict";var i={_positionClasses:["bottom-left","bottom-right","top-right","top-left","bottom-center","top-center","mid-center"],_defaultIcons:["success","error","info","warning"],init:function(o){this.prepareOptions(o,t.toast.options),this.process()},prepareOptions:function(o,i){var s={};"string"==typeof o||o instanceof Array?s.text=o:s=o,this.options=t.extend({},i,s)},process:function(){this.setup(),this.addToDom(),this.position(),this.bindToast(),this.animate()},setup:function(){var o="";if(this._toastEl=this._toastEl||t("<div></div>",{"class":"jq-toast-single"}),o+='<span class="jq-toast-loader"></span>',this.options.allowToastClose&&(o+='<span class="close-jq-toast-single">&times;</span>'),this.options.text instanceof Array){this.options.heading&&(o+='<h2 class="jq-toast-heading">'+this.options.heading+"</h2>"),o+='<ul class="jq-toast-ul">';for(var i=0;i<this.options.text.length;i++)o+='<li class="jq-toast-li" id="jq-toast-item-'+i+'">'+this.options.text[i]+"</li>";o+="</ul>"}else this.options.heading&&(o+='<h2 class="jq-toast-heading">'+this.options.heading+"</h2>"),o+=this.options.text;this._toastEl.html(o),this.options.bgColor!==!1&&this._toastEl.css("background-color",this.options.bgColor),this.options.textColor!==!1&&this._toastEl.css("color",this.options.textColor),this.options.textAlign&&this._toastEl.css("text-align",this.options.textAlign),this.options.icon!==!1&&(this._toastEl.addClass("jq-has-icon"),-1!==t.inArray(this.options.icon,this._defaultIcons)&&this._toastEl.addClass("jq-icon-"+this.options.icon))},position:function(){"string"==typeof this.options.position&&-1!==t.inArray(this.options.position,this._positionClasses)?"bottom-center"===this.options.position?this._container.css({left:t(o).outerWidth()/2-this._container.outerWidth()/2,bottom:20}):"top-center"===this.options.position?this._container.css({left:t(o).outerWidth()/2-this._container.outerWidth()/2,top:20}):"mid-center"===this.options.position?this._container.css({left:t(o).outerWidth()/2-this._container.outerWidth()/2,top:t(o).outerHeight()/2-this._container.outerHeight()/2}):this._container.addClass(this.options.position):"object"==typeof this.options.position?this._container.css({top:this.options.position.top?this.options.position.top:"auto",bottom:this.options.position.bottom?this.options.position.bottom:"auto",left:this.options.position.left?this.options.position.left:"auto",right:this.options.position.right?this.options.position.right:"auto"}):this._container.addClass("bottom-left")},bindToast:function(){var t=this;this._toastEl.on("afterShown",function(){t.processLoader()}),this._toastEl.find(".close-jq-toast-single").on("click",function(o){o.preventDefault(),"fade"===t.options.showHideTransition?(t._toastEl.trigger("beforeHide"),t._toastEl.fadeOut(function(){t._toastEl.trigger("afterHidden")})):"slide"===t.options.showHideTransition?(t._toastEl.trigger("beforeHide"),t._toastEl.slideUp(function(){t._toastEl.trigger("afterHidden")})):(t._toastEl.trigger("beforeHide"),t._toastEl.hide(function(){t._toastEl.trigger("afterHidden")}))}),"function"==typeof this.options.beforeShow&&this._toastEl.on("beforeShow",function(){t.options.beforeShow()}),"function"==typeof this.options.afterShown&&this._toastEl.on("afterShown",function(){t.options.afterShown()}),"function"==typeof this.options.beforeHide&&this._toastEl.on("beforeHide",function(){t.options.beforeHide()}),"function"==typeof this.options.afterHidden&&this._toastEl.on("afterHidden",function(){t.options.afterHidden()})},addToDom:function(){var o=t(".jq-toast-wrap");if(0===o.length?(o=t("<div></div>",{"class":"jq-toast-wrap"}),t("body").append(o)):(!this.options.stack||isNaN(parseInt(this.options.stack,10)))&&o.empty(),o.find(".jq-toast-single:hidden").remove(),o.append(this._toastEl),this.options.stack&&!isNaN(parseInt(this.options.stack),10)){var i=o.find(".jq-toast-single").length,s=i-this.options.stack;s>0&&t(".jq-toast-wrap").find(".jq-toast-single").slice(0,s).remove()}this._container=o},canAutoHide:function(){return this.options.hideAfter!==!1&&!isNaN(parseInt(this.options.hideAfter,10))},processLoader:function(){if(!this.canAutoHide()||this.options.loader===!1)return!1;var t=this._toastEl.find(".jq-toast-loader"),o=(this.options.hideAfter-400)/1e3+"s",i=this.options.loaderBg,s=t.attr("style")||"";s=s.substring(0,s.indexOf("-webkit-transition")),s+="-webkit-transition: width "+o+" ease-in;                       -o-transition: width "+o+" ease-in;                       transition: width "+o+" ease-in;                       background-color: "+i+";",t.attr("style",s).addClass("jq-toast-loaded")},animate:function(){var t=this;if(this._toastEl.hide(),this._toastEl.trigger("beforeShow"),"fade"===this.options.showHideTransition.toLowerCase()?this._toastEl.fadeIn(function(){t._toastEl.trigger("afterShown")}):"slide"===this.options.showHideTransition.toLowerCase()?this._toastEl.slideDown(function(){t._toastEl.trigger("afterShown")}):this._toastEl.show(function(){t._toastEl.trigger("afterShown")}),this.canAutoHide()){var t=this;o.setTimeout(function(){"fade"===t.options.showHideTransition.toLowerCase()?(t._toastEl.trigger("beforeHide"),t._toastEl.fadeOut(function(){t._toastEl.trigger("afterHidden")})):"slide"===t.options.showHideTransition.toLowerCase()?(t._toastEl.trigger("beforeHide"),t._toastEl.slideUp(function(){t._toastEl.trigger("afterHidden")})):(t._toastEl.trigger("beforeHide"),t._toastEl.hide(function(){t._toastEl.trigger("afterHidden")}))},this.options.hideAfter)}},reset:function(o){"all"===o?t(".jq-toast-wrap").remove():this._toastEl.remove()},update:function(t){this.prepareOptions(t,this.options),this.setup(),this.bindToast()}};t.toast=function(t){var o=Object.create(i);return o.init(t,this),{reset:function(t){o.reset(t)},update:function(t){o.update(t)}}},t.toast.options={text:"",heading:"",showHideTransition:"fade",allowToastClose:!0,hideAfter:3e3,loader:!0,loaderBg:"#9EC600",stack:5,position:"bottom-left",bgColor:!1,textColor:!1,textAlign:"left",icon:!1,beforeShow:function(){},afterShown:function(){},beforeHide:function(){},afterHidden:function(){}}}(jQuery,window,document);
!function(t,o,e){function i(o,e){this.bodyOverflowX,this.callbacks={hide:[],show:[]},this.checkInterval=null,this.Content,this.$el=t(o),this.$elProxy,this.elProxyPosition,this.enabled=!0,this.options=t.extend({},l,e),this.mouseIsOverProxy=!1,this.namespace="tooltipster-"+Math.round(1e5*Math.random()),this.Status="hidden",this.timerHide=null,this.timerShow=null,this.$tooltip,this.options.iconTheme=this.options.iconTheme.replace(".",""),this.options.theme=this.options.theme.replace(".",""),this._init()}function n(o,e){var i=!0;return t.each(o,function(t,n){if("undefined"==typeof e[t]||o[t]!==e[t])return i=!1,!1}),i}function s(){return!f&&p}function r(){var t=e.body||e.documentElement,o=t.style,i="transition";if("string"==typeof o[i])return!0;v=["Moz","Webkit","Khtml","O","ms"],i=i.charAt(0).toUpperCase()+i.substr(1);for(var n=0;n<v.length;n++)if("string"==typeof o[v[n]+i])return!0;return!1}var a="tooltipster",l={animation:"fade",arrow:!0,arrowColor:"",autoClose:!0,content:null,contentAsHTML:!1,contentCloning:!0,debug:!0,delay:200,minWidth:0,maxWidth:null,functionInit:function(t,o){},functionBefore:function(t,o){o()},functionReady:function(t,o){},functionAfter:function(t){},hideOnClick:!1,icon:"(?)",iconCloning:!0,iconDesktop:!1,iconTouch:!1,iconTheme:"tooltipster-icon",interactive:!1,interactiveTolerance:350,multiple:!1,offsetX:0,offsetY:0,onlyOne:!1,position:"top",positionTracker:!1,positionTrackerCallback:function(t){"hover"==this.option("trigger")&&this.option("autoClose")&&this.hide()},restoration:"current",speed:350,timer:0,theme:"tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0};i.prototype={_init:function(){var o=this;if(e.querySelector){var i=null;void 0===o.$el.data("tooltipster-initialTitle")&&(i=o.$el.attr("title"),void 0===i&&(i=null),o.$el.data("tooltipster-initialTitle",i)),null!==o.options.content?o._content_set(o.options.content):o._content_set(i);var n=o.options.functionInit.call(o.$el,o.$el,o.Content);"undefined"!=typeof n&&o._content_set(n),o.$el.removeAttr("title").addClass("tooltipstered"),!p&&o.options.iconDesktop||p&&o.options.iconTouch?("string"==typeof o.options.icon?(o.$elProxy=t('<span class="'+o.options.iconTheme+'"></span>'),o.$elProxy.text(o.options.icon)):o.options.iconCloning?o.$elProxy=o.options.icon.clone(!0):o.$elProxy=o.options.icon,o.$elProxy.insertAfter(o.$el)):o.$elProxy=o.$el,"hover"==o.options.trigger?(o.$elProxy.on("mouseenter."+o.namespace,function(){s()&&!o.options.touchDevices||(o.mouseIsOverProxy=!0,o._show())}).on("mouseleave."+o.namespace,function(){s()&&!o.options.touchDevices||(o.mouseIsOverProxy=!1)}),p&&o.options.touchDevices&&o.$elProxy.on("touchstart."+o.namespace,function(){o._showNow()})):"click"==o.options.trigger&&o.$elProxy.on("click."+o.namespace,function(){s()&&!o.options.touchDevices||o._show()})}},_show:function(){var t=this;"shown"!=t.Status&&"appearing"!=t.Status&&(t.options.delay?t.timerShow=setTimeout(function(){("click"==t.options.trigger||"hover"==t.options.trigger&&t.mouseIsOverProxy)&&t._showNow()},t.options.delay):t._showNow())},_showNow:function(e){var i=this;i.options.functionBefore.call(i.$el,i.$el,function(){if(i.enabled&&null!==i.Content){e&&i.callbacks.show.push(e),i.callbacks.hide=[],clearTimeout(i.timerShow),i.timerShow=null,clearTimeout(i.timerHide),i.timerHide=null,i.options.onlyOne&&t(".tooltipstered").not(i.$el).each(function(o,e){var i=t(e),n=i.data("tooltipster-ns");t.each(n,function(t,o){var e=i.data(o),n=e.status(),s=e.option("autoClose");"hidden"!==n&&"disappearing"!==n&&s&&e.hide()})});var n=function(){i.Status="shown",t.each(i.callbacks.show,function(t,o){o.call(i.$el)}),i.callbacks.show=[]};if("hidden"!==i.Status){var s=0;"disappearing"===i.Status?(i.Status="appearing",r()?(i.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+i.options.animation+"-show"),i.options.speed>0&&i.$tooltip.delay(i.options.speed),i.$tooltip.queue(n)):i.$tooltip.stop().fadeIn(n)):"shown"===i.Status&&n()}else{i.Status="appearing";var s=i.options.speed;i.bodyOverflowX=t("body").css("overflow-x"),t("body").css("overflow-x","hidden");var a="tooltipster-"+i.options.animation,l="-webkit-transition-duration: "+i.options.speed+"ms; -webkit-animation-duration: "+i.options.speed+"ms; -moz-transition-duration: "+i.options.speed+"ms; -moz-animation-duration: "+i.options.speed+"ms; -o-transition-duration: "+i.options.speed+"ms; -o-animation-duration: "+i.options.speed+"ms; -ms-transition-duration: "+i.options.speed+"ms; -ms-animation-duration: "+i.options.speed+"ms; transition-duration: "+i.options.speed+"ms; animation-duration: "+i.options.speed+"ms;",f=i.options.minWidth?"min-width:"+Math.round(i.options.minWidth)+"px;":"",d=i.options.maxWidth?"max-width:"+Math.round(i.options.maxWidth)+"px;":"",c=i.options.interactive?"pointer-events: auto;":"";if(i.$tooltip=t('<div class="tooltipster-base '+i.options.theme+'" style="'+f+" "+d+" "+c+" "+l+'"><div class="tooltipster-content"></div></div>'),r()&&i.$tooltip.addClass(a),i._content_insert(),i.$tooltip.appendTo("body"),i.reposition(),i.options.functionReady.call(i.$el,i.$el,i.$tooltip),r()?(i.$tooltip.addClass(a+"-show"),i.options.speed>0&&i.$tooltip.delay(i.options.speed),i.$tooltip.queue(n)):i.$tooltip.css("display","none").fadeIn(i.options.speed,n),i._interval_set(),t(o).on("scroll."+i.namespace+" resize."+i.namespace,function(){i.reposition()}),i.options.autoClose)if(t("body").off("."+i.namespace),"hover"==i.options.trigger){if(p&&setTimeout(function(){t("body").on("touchstart."+i.namespace,function(){i.hide()})},0),i.options.interactive){p&&i.$tooltip.on("touchstart."+i.namespace,function(t){t.stopPropagation()});var h=null;i.$elProxy.add(i.$tooltip).on("mouseleave."+i.namespace+"-autoClose",function(){clearTimeout(h),h=setTimeout(function(){i.hide()},i.options.interactiveTolerance)}).on("mouseenter."+i.namespace+"-autoClose",function(){clearTimeout(h)})}else i.$elProxy.on("mouseleave."+i.namespace+"-autoClose",function(){i.hide()});i.options.hideOnClick&&i.$elProxy.on("click."+i.namespace+"-autoClose",function(){i.hide()})}else"click"==i.options.trigger&&(setTimeout(function(){t("body").on("click."+i.namespace+" touchstart."+i.namespace,function(){i.hide()})},0),i.options.interactive&&i.$tooltip.on("click."+i.namespace+" touchstart."+i.namespace,function(t){t.stopPropagation()}))}i.options.timer>0&&(i.timerHide=setTimeout(function(){i.timerHide=null,i.hide()},i.options.timer+s))}})},_interval_set:function(){var o=this;o.checkInterval=setInterval(function(){if(0===t("body").find(o.$el).length||0===t("body").find(o.$elProxy).length||"hidden"==o.Status||0===t("body").find(o.$tooltip).length)"shown"!=o.Status&&"appearing"!=o.Status||o.hide(),o._interval_cancel();else if(o.options.positionTracker){var e=o._repositionInfo(o.$elProxy),i=!1;n(e.dimension,o.elProxyPosition.dimension)&&("fixed"===o.$elProxy.css("position")?n(e.position,o.elProxyPosition.position)&&(i=!0):n(e.offset,o.elProxyPosition.offset)&&(i=!0)),i||(o.reposition(),o.options.positionTrackerCallback.call(o,o.$el))}},200)},_interval_cancel:function(){clearInterval(this.checkInterval),this.checkInterval=null},_content_set:function(t){"object"==typeof t&&null!==t&&this.options.contentCloning&&(t=t.clone(!0)),this.Content=t},_content_insert:function(){var t=this,o=this.$tooltip.find(".tooltipster-content");"string"!=typeof t.Content||t.options.contentAsHTML?o.empty().append(t.Content):o.text(t.Content)},_update:function(t){var o=this;o._content_set(t),null!==o.Content?"hidden"!==o.Status&&(o._content_insert(),o.reposition(),o.options.updateAnimation&&(r()?(o.$tooltip.css({width:"","-webkit-transition":"all "+o.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+o.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+o.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+o.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+o.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!=o.Status&&(o.$tooltip.removeClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!==o.Status&&o.$tooltip.css({"-webkit-transition":o.options.speed+"ms","-moz-transition":o.options.speed+"ms","-o-transition":o.options.speed+"ms","-ms-transition":o.options.speed+"ms",transition:o.options.speed+"ms"})},o.options.speed))},o.options.speed)):o.$tooltip.fadeTo(o.options.speed,.5,function(){"hidden"!=o.Status&&o.$tooltip.fadeTo(o.options.speed,1)}))):o.hide()},_repositionInfo:function(t){return{dimension:{height:t.outerHeight(!1),width:t.outerWidth(!1)},offset:t.offset(),position:{left:parseInt(t.css("left")),top:parseInt(t.css("top"))}}},hide:function(e){var i=this;e&&i.callbacks.hide.push(e),i.callbacks.show=[],clearTimeout(i.timerShow),i.timerShow=null,clearTimeout(i.timerHide),i.timerHide=null;var n=function(){t.each(i.callbacks.hide,function(t,o){o.call(i.$el)}),i.callbacks.hide=[]};if("shown"==i.Status||"appearing"==i.Status){i.Status="disappearing";var s=function(){i.Status="hidden","object"==typeof i.Content&&null!==i.Content&&i.Content.detach(),i.$tooltip.remove(),i.$tooltip=null,t(o).off("."+i.namespace),t("body").off("."+i.namespace).css("overflow-x",i.bodyOverflowX),t("body").off("."+i.namespace),i.$elProxy.off("."+i.namespace+"-autoClose"),i.options.functionAfter.call(i.$el,i.$el),n()};r()?(i.$tooltip.clearQueue().removeClass("tooltipster-"+i.options.animation+"-show").addClass("tooltipster-dying"),i.options.speed>0&&i.$tooltip.delay(i.options.speed),i.$tooltip.queue(s)):i.$tooltip.stop().fadeOut(i.options.speed,s)}else"hidden"==i.Status&&n();return i},show:function(t){return this._showNow(t),this},update:function(t){return this.content(t)},content:function(t){return"undefined"==typeof t?this.Content:(this._update(t),this)},reposition:function(){function e(){var e=t(o).scrollLeft();I-e<0&&(s=I-e,I=e),I+l-e>r&&(s=I-(r+e-l),I=r+e-l)}function i(e,i){a.offset.top-t(o).scrollTop()-p-H-12<0&&i.indexOf("top")>-1&&(D=e),a.offset.top+a.dimension.height+p+12+H>t(o).scrollTop()+t(o).height()&&i.indexOf("bottom")>-1&&(D=e,O=a.offset.top-p-H-12)}var n=this;if(0!==t("body").find(n.$tooltip).length){n.$tooltip.css("width",""),n.elProxyPosition=n._repositionInfo(n.$elProxy);var s=null,r=t(o).width(),a=n.elProxyPosition,l=n.$tooltip.outerWidth(!1),p=(n.$tooltip.innerWidth()+1,n.$tooltip.outerHeight(!1));if(n.$elProxy.is("area")){var f=n.$elProxy.attr("shape"),d=n.$elProxy.parent().attr("name"),c=t('img[usemap="#'+d+'"]'),h=c.offset().left,u=c.offset().top,m=void 0!==n.$elProxy.attr("coords")?n.$elProxy.attr("coords").split(","):void 0;if("circle"==f){var v=parseInt(m[0]),$=parseInt(m[1]),g=parseInt(m[2]);a.dimension.height=2*g,a.dimension.width=2*g,a.offset.top=u+$-g,a.offset.left=h+v-g}else if("rect"==f){var v=parseInt(m[0]),$=parseInt(m[1]),y=parseInt(m[2]),w=parseInt(m[3]);a.dimension.height=w-$,a.dimension.width=y-v,a.offset.top=u+$,a.offset.left=h+v}else if("poly"==f){for(var b=0,x=0,C=0,P=0,T="even",_=0;_<m.length;_++){var k=parseInt(m[_]);"even"==T?(k>C&&(C=k,0===_&&(b=C)),k<b&&(b=k),T="odd"):(k>P&&(P=k,1==_&&(x=P)),k<x&&(x=k),T="even")}a.dimension.height=P-x,a.dimension.width=C-b,a.offset.top=u+x,a.offset.left=h+b}else a.dimension.height=c.outerHeight(!1),a.dimension.width=c.outerWidth(!1),a.offset.top=u,a.offset.left=h}var I=0,S=0,O=0,H=parseInt(n.options.offsetY),M=parseInt(n.options.offsetX),D=n.options.position;if("top"==D){var W=a.offset.left+l-(a.offset.left+a.dimension.width);I=a.offset.left+M-W/2,O=a.offset.top-p-H-12,e(),i("bottom","top")}if("top-left"==D&&(I=a.offset.left+M,O=a.offset.top-p-H-12,e(),i("bottom-left","top-left")),"top-right"==D&&(I=a.offset.left+a.dimension.width+M-l,O=a.offset.top-p-H-12,e(),i("bottom-right","top-right")),"bottom"==D){var W=a.offset.left+l-(a.offset.left+a.dimension.width);I=a.offset.left-W/2+M,O=a.offset.top+a.dimension.height+H+12,e(),i("top","bottom")}if("bottom-left"==D&&(I=a.offset.left+M,O=a.offset.top+a.dimension.height+H+12,e(),i("top-left","bottom-left")),"bottom-right"==D&&(I=a.offset.left+a.dimension.width+M-l,O=a.offset.top+a.dimension.height+H+12,e(),i("top-right","bottom-right")),"left"==D){I=a.offset.left-M-l-12,S=a.offset.left+M+a.dimension.width+12;var A=a.offset.top+p-(a.offset.top+a.dimension.height);if(O=a.offset.top-A/2-H,I<0&&S+l>r){var z=2*parseFloat(n.$tooltip.css("border-width")),F=l+I-z;n.$tooltip.css("width",F+"px"),p=n.$tooltip.outerHeight(!1),I=a.offset.left-M-F-12-z,A=a.offset.top+p-(a.offset.top+a.dimension.height),O=a.offset.top-A/2-H}else I<0&&(I=a.offset.left+M+a.dimension.width+12,s="left")}if("right"==D){I=a.offset.left+M+a.dimension.width+12,S=a.offset.left-M-l-12;var A=a.offset.top+p-(a.offset.top+a.dimension.height);if(O=a.offset.top-A/2-H,I+l>r&&S<0){var z=2*parseFloat(n.$tooltip.css("border-width")),F=r-I-z;n.$tooltip.css("width",F+"px"),p=n.$tooltip.outerHeight(!1),A=a.offset.top+p-(a.offset.top+a.dimension.height),O=a.offset.top-A/2-H}else I+l>r&&(I=a.offset.left-M-l-12,s="right")}if(n.options.arrow){var N="tooltipster-arrow-"+D;if(n.options.arrowColor.length<1)var X=n.$tooltip.css("background-color");else var X=n.options.arrowColor;if(s?"left"==s?(N="tooltipster-arrow-right",s=""):"right"==s?(N="tooltipster-arrow-left",s=""):s="left:"+Math.round(s)+"px;":s="","top"==D||"top-left"==D||"top-right"==D)var q=parseFloat(n.$tooltip.css("border-bottom-width")),j=n.$tooltip.css("border-bottom-color");else if("bottom"==D||"bottom-left"==D||"bottom-right"==D)var q=parseFloat(n.$tooltip.css("border-top-width")),j=n.$tooltip.css("border-top-color");else if("left"==D)var q=parseFloat(n.$tooltip.css("border-right-width")),j=n.$tooltip.css("border-right-color");else if("right"==D)var q=parseFloat(n.$tooltip.css("border-left-width")),j=n.$tooltip.css("border-left-color");else var q=parseFloat(n.$tooltip.css("border-bottom-width")),j=n.$tooltip.css("border-bottom-color");q>1&&q++;var E="";if(0!==q){var L="",Q="border-color: "+j+";";N.indexOf("bottom")!==-1?L="margin-top: -"+Math.round(q)+"px;":N.indexOf("top")!==-1?L="margin-bottom: -"+Math.round(q)+"px;":N.indexOf("left")!==-1?L="margin-right: -"+Math.round(q)+"px;":N.indexOf("right")!==-1&&(L="margin-left: -"+Math.round(q)+"px;"),E='<span class="tooltipster-arrow-border" style="'+L+" "+Q+';"></span>'}n.$tooltip.find(".tooltipster-arrow").remove();var U='<div class="'+N+' tooltipster-arrow" style="'+s+'">'+E+'<span style="border-color:'+X+';"></span></div>';n.$tooltip.append(U)}n.$tooltip.css({top:Math.round(O)+"px",left:Math.round(I)+"px"})}return n},enable:function(){return this.enabled=!0,this},disable:function(){return this.hide(),this.enabled=!1,this},destroy:function(){var o=this;o.hide(),o.$el[0]!==o.$elProxy[0]&&o.$elProxy.remove(),o.$el.removeData(o.namespace).off("."+o.namespace);var e=o.$el.data("tooltipster-ns");if(1===e.length){var i=null;"previous"===o.options.restoration?i=o.$el.data("tooltipster-initialTitle"):"current"===o.options.restoration&&(i="string"==typeof o.Content?o.Content:t("<div></div>").append(o.Content).html()),i&&o.$el.attr("title",i),o.$el.removeClass("tooltipstered").removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else e=t.grep(e,function(t,e){return t!==o.namespace}),o.$el.data("tooltipster-ns",e);return o},elementIcon:function(){return this.$el[0]!==this.$elProxy[0]?this.$elProxy[0]:void 0},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:void 0},option:function(t,o){return"undefined"==typeof o?this.options[t]:(this.options[t]=o,this)},status:function(){return this.Status}},t.fn[a]=function(){var o=arguments;if(0===this.length){if("string"==typeof o[0]){var e=!0;switch(o[0]){case"setDefaults":t.extend(l,o[1]);break;default:e=!1}return!!e||this}return this}if("string"==typeof o[0]){var n="#*$~&";return this.each(function(){var e=t(this).data("tooltipster-ns"),i=e?t(this).data(e[0]):null;if(!i)throw new Error("You called Tooltipster's \""+o[0]+'" method on an uninitialized element');if("function"!=typeof i[o[0]])throw new Error('Unknown method .tooltipster("'+o[0]+'")');var s=i[o[0]](o[1],o[2]);if(s!==i)return n=s,!1}),"#*$~&"!==n?n:this}var s=[],r=o[0]&&"undefined"!=typeof o[0].multiple,a=r&&o[0].multiple||!r&&l.multiple,p=o[0]&&"undefined"!=typeof o[0].debug,f=p&&o[0].debug||!p&&l.debug;return this.each(function(){var e=!1,n=t(this).data("tooltipster-ns"),r=null;n?a?e=!0:f&&console.log('Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.'):e=!0,e&&(r=new i(this,o[0]),n||(n=[]),n.push(r.namespace),t(this).data("tooltipster-ns",n),t(this).data(r.namespace,r)),s.push(r)}),a?s:this};var p=!!("ontouchstart"in o),f=!1;t("body").one("mousemove",function(){f=!0})}(jQuery,window,document);
!function(t){"function"==typeof define&&define.amd?define(["jquery"],function(e){t(window,document,e)}):"object"==typeof exports?module.exports=t(window,document,require("jquery")):t(window,document,window.jQuery)}(function(t,e,i,o){t.Typeahead={version:"2.2.1"};var n={input:null,minLength:2,maxItem:8,dynamic:!1,delay:300,order:null,offset:!1,hint:!1,accent:!1,highlight:!0,group:!1,groupOrder:null,maxItemPerGroup:null,dropdownFilter:!1,dynamicFilter:null,backdrop:!1,cache:!1,ttl:36e5,compression:!1,suggestion:!1,searchOnFocus:!1,resultContainer:null,generateOnLoad:null,mustSelectItem:!1,href:null,display:["display"],template:null,correlativeTemplate:!1,emptyTemplate:!1,source:null,callback:{onInit:null,onReady:null,onSearch:null,onResult:null,onLayoutBuiltBefore:null,onLayoutBuiltAfter:null,onNavigate:null,onMouseEnter:null,onMouseLeave:null,onClickBefore:null,onClickAfter:null,onSendRequest:null,onReceiveRequest:null,onSubmit:null},selector:{container:"typeahead-container",group:"typeahead-group",result:"typeahead-result",list:"typeahead-list",display:"typeahead-display",query:"typeahead-query",filter:"typeahead-filter",filterButton:"typeahead-filter-button",filterValue:"typeahead-filter-value",dropdown:"typeahead-dropdown",dropdownCaret:"typeahead-caret",button:"typeahead-button",backdrop:"typeahead-backdrop",hint:"typeahead-hint"},debug:!1},s=".typeahead",r={from:"ãàáäâẽèéëêìíïîõòóöôùúüûñç",to:"aaaaaeeeeeiiiiooooouuuunc"},a=~navigator.appVersion.indexOf("MSIE 9."),l=function(t,e){this.rawQuery="",this.query="",this.tmpSource={},this.source={},this.isGenerated=null,this.generatedGroupCount=0,this.groupCount=0,this.groupBy="group",this.result={},this.resultCount=0,this.options=e,this.node=t,this.container=null,this.resultContainer=null,this.item=null,this.xhr={},this.hintIndex=null,this.filters={dropdown:{},dynamic:{}},this.requests={},this.backdrop={},this.hint={},this.__construct()};l.prototype={extendOptions:function(){this.options.dynamic&&(this.options.cache=!1,this.options.compression=!1),this.options.cache&&(this.options.cache=function(e){var i,o=["localStorage","sessionStorage"];if(e===!0)e="localStorage";else if("string"==typeof e&&!~o.indexOf(e))return!1;i="undefined"!=typeof t[e];try{t[e].setItem("typeahead","typeahead"),t[e].removeItem("typeahead")}catch(n){i=!1}return i&&e||!1}.call(this,this.options.cache)),this.options.compression&&("object"==typeof LZString&&this.options.cache||(this.options.compression=!1)),"undefined"==typeof this.options.maxItem||/^\d+$/.test(this.options.maxItem)&&0!==this.options.maxItem||(this.options.maxItem=1/0),this.options.maxItemPerGroup&&!/^\d+$/.test(this.options.maxItemPerGroup)&&(this.options.maxItemPerGroup=null),!this.options.display||this.options.display instanceof Array||(this.options.display=[this.options.display]),!this.options.group||this.options.group instanceof Array||(this.options.group=[this.options.group]),this.options.highlight&&!~["any",!0].indexOf(this.options.highlight)&&(this.options.highlight=!1),!this.options.dynamicFilter||this.options.dynamicFilter instanceof Array||(this.options.dynamicFilter=[this.options.dynamicFilter]),this.options.resultContainer&&("string"==typeof this.options.resultContainer&&(this.options.resultContainer=i(this.options.resultContainer)),this.options.resultContainer instanceof jQuery&&this.options.resultContainer[0]&&(this.resultContainer=this.options.resultContainer)),this.options.group&&"string"==typeof this.options.group[0]&&this.options.maxItemPerGroup&&(this.groupBy=this.options.group[0]),this.options.callback&&this.options.callback.onClick&&(this.options.callback.onClickBefore=this.options.callback.onClick,delete this.options.callback.onClick),this.options=i.extend(!0,{},n,this.options)},unifySourceFormat:function(){if(this.options.source instanceof Array)return this.options.source={group:{data:this.options.source}},this.groupCount+=1,!0;("undefined"!=typeof this.options.source.data||"undefined"!=typeof this.options.source.url)&&(this.options.source={group:this.options.source});var t;for(var e in this.options.source)if(this.options.source.hasOwnProperty(e)){if(t=this.options.source[e],("string"==typeof t||t instanceof Array)&&(t={url:t}),!t.data&&!t.url)return!1;!t.display||t.display instanceof Array||(t.display=[t.display]),t.ignore&&(t.ignore instanceof RegExp||delete t.ignore),this.options.source[e]=t,this.groupCount+=1}return!0},init:function(){this.helper.executeCallback(this.options.callback.onInit,[this.node]),this.container=this.node.closest("."+this.options.selector.container)},delegateEvents:function(){var t=this,e=["focus"+s,"input"+s,"propertychange"+s,"keydown"+s,"keyup"+s,"dynamic"+s,"generateOnLoad"+s];this.container.off(s).on("click"+s+" touchstart"+s,function(e){e.stopPropagation(),t.options.dropdownFilter&&t.container.find("."+t.options.selector.dropdown.replace(" ",".")).hide()}),this.node.closest("form").on("submit",function(e){return t.options.mustSelectItem&&t.helper.isEmpty(t.item)?void e.preventDefault():(t.hideLayout(),t.rawQuery="",t.query="",!t.helper.executeCallback(t.options.callback.onSubmit,[t.node,this,t.item,e])&&void 0)});var i=!1;this.node.off(s).on(e.join(" "),function(e){switch(e.type){case"generateOnLoad":case"focus":t.isGenerated&&t.options.searchOnFocus&&t.query.length>=t.options.minLength&&t.showLayout(),null!==t.isGenerated||t.options.dynamic||t.generateSource();break;case"keydown":t.isGenerated&&t.result.length&&e.keyCode&&~[9,13,27,38,39,40].indexOf(e.keyCode)&&(i=!0,t.navigate(e));break;case"keyup":a&&t.node[0].value.replace(/^\s+/,"").toString().length<t.query.length&&t.node.trigger("input"+s);break;case"propertychange":if(i){i=!1;break}case"input":if(t.rawQuery=t.node[0].value.toString(),t.query=t.node[0].value.replace(/^\s+/,"").toString(),t.options.hint&&t.hint.container&&""!==t.hint.container.val()&&0!==t.hint.container.val().indexOf(t.rawQuery)&&t.hint.container.val(""),t.options.dynamic)return t.isGenerated=null,void t.helper.typeWatch(function(){t.query.length>=t.options.minLength?t.generateSource():t.hideLayout()},t.options.delay);case"dynamic":if(!t.isGenerated)break;if(t.query.length<t.options.minLength){t.hideLayout();break}t.searchResult(),t.buildLayout(),t.result.length>0||t.options.emptyTemplate?t.showLayout():t.hideLayout()}}),this.options.generateOnLoad&&this.node.trigger("generateOnLoad"+s)},generateSource:function(){if(!this.isGenerated||this.options.dynamic){if(this.generatedGroupCount=0,this.isGenerated=!1,!this.helper.isEmpty(this.xhr)){for(var e in this.xhr)this.xhr.hasOwnProperty(e)&&this.xhr[e].abort();this.xhr={}}var i,o,n,s;for(i in this.options.source)if(this.options.source.hasOwnProperty(i)){if(o=this.options.source[i],this.options.cache&&(n=t[this.options.cache].getItem(this.node.selector+":"+i))){this.options.compression&&(n=LZString.decompressFromUTF16(n)),s=!1;try{n=JSON.parse(n+""),n.data&&n.ttl>(new Date).getTime()?(this.populateSource(n.data,i),s=!0):t[this.options.cache].removeItem(this.node.selector+":"+i)}catch(r){}if(s)continue}!o.data||o.url?o.url&&(this.requests[i]||(this.requests[i]=this.generateRequestObject(i))):this.populateSource("function"==typeof o.data&&o.data()||o.data,i)}this.handleRequests()}},generateRequestObject:function(t){var e=this,o=this.options.source[t];!(o.url instanceof Array)&&o.url instanceof Object&&(o.url=[o.url]);var n={request:{url:null,dataType:"json",beforeSend:function(i,n){e.xhr[t]=i,"function"==typeof o.url[0].beforeSend&&o.url[0].beforeSend.apply(null,arguments)}},extra:{path:null,group:t,callback:{done:null,fail:null,complete:null,always:null}},validForGroup:[t]};Object.defineProperty(n.request,"beforeSend",{writable:!1}),o.url instanceof Array?(o.url[0]instanceof Object?(o.url[0].callback&&(n.extra.callback=o.url[0].callback,delete o.url[0].callback),n.request=i.extend(!0,n.request,o.url[0])):"string"==typeof o.url[0]&&(n.request.url=o.url[0]),o.url[1]&&"string"==typeof o.url[1]&&(n.extra.path=o.url[1])):"string"==typeof o.url&&(n.request.url=o.url),"jsonp"===n.request.dataType.toLowerCase()&&(n.request.jsonpCallback="callback_"+t);var s;for(var r in this.requests)if(this.requests.hasOwnProperty(r)&&(s=JSON.stringify(this.requests[r].request),s===JSON.stringify(n.request))){this.requests[r].validForGroup.push(t),n.isDuplicated=!0,delete n.validForGroup;break}return n},handleRequests:function(){var t=this,e=Object.keys(this.requests).length;e&&this.helper.executeCallback(this.options.callback.onSendRequest,[this.node,this.query]);for(var o in this.requests)this.requests.hasOwnProperty(o)&&(this.requests[o].isDuplicated||!function(o,n){var s,r=!1;if(~n.request.url.indexOf("{{query}}")&&(r||(n=i.extend(!0,{},n),r=!0),n.request.url=n.request.url.replace("{{query}}",t.query)),n.request.data)for(var a in n.request.data)if(n.request.data.hasOwnProperty(a)&&~String(n.request.data[a]).indexOf("{{query}}")){r||(n=i.extend(!0,{},n),r=!0),n.request.data[a]=n.request.data[a].replace("{{query}}",t.query);break}i.ajax(n.request).done(function(i,o,r){for(var a,l=0;l<n.validForGroup.length;l++)s=t.requests[n.validForGroup[l]],s.extra.callback.done instanceof Function&&(a=s.extra.callback.done(i,o,r),i=a instanceof Array&&a||i),t.populateSource(i,s.extra.group,s.extra.path),e-=1,0===e&&t.helper.executeCallback(t.options.callback.onReceiveRequest,[t.node,t.query])}).fail(function(e,i,o){for(var r=0;r<n.validForGroup.length;r++)s=t.requests[n.validForGroup[r]],s.extra.callback.fail instanceof Function&&s.extra.callback.fail(e,i,o)}).then(function(e,i){for(var o=0;o<n.validForGroup.length;o++)s=t.requests[n.validForGroup[o]],s.extra.callback.then instanceof Function&&s.extra.callback.then(e,i)}).always(function(e,i,o){for(var r=0;r<n.validForGroup.length;r++)s=t.requests[n.validForGroup[r]],s.extra.callback.always instanceof Function&&s.extra.callback.always(e,i,o)})}(o,this.requests[o]))},populateSource:function(e,i,o){var n=this,s=this.options.source[i],r=s.url&&s.data;e="string"==typeof o?this.helper.namespace(o,e):e,e instanceof Array||(e=[]),r&&("function"==typeof r&&(r=r()),r instanceof Array&&(e=e.concat(r)));for(var a,l=s.display?"compiled"===s.display[0]?s.display[1]:s.display[0]:"compiled"===this.options.display[0]?this.options.display[1]:this.options.display[0],u=0;u<e.length;u++)"string"==typeof e[u]&&(a={},a[l]=e[u],e[u]=a),e[u].group=i;if(this.options.correlativeTemplate){var p=s.template||this.options.template;if(p){p=p.replace(/<.+?>/g,"");for(var u=0;u<e.length;u++)e[u].compiled=p.replace(/\{\{([\w\-\.]+)(?:\|(\w+))?}}/g,function(t,i){return n.helper.namespace(i,e[u],"get","")}).trim();s.display?~s.display.indexOf("compiled")||s.display.unshift("compiled"):~this.options.display.indexOf("compiled")||this.options.display.unshift("compiled")}}if(this.tmpSource[i]=e,this.options.cache&&!t[this.options.cache].getItem(this.node.selector+":"+i)){var h=JSON.stringify({data:e,ttl:(new Date).getTime()+this.options.ttl});this.options.compression&&(h=LZString.compressToUTF16(h)),t[this.options.cache].setItem(this.node.selector+":"+i,h)}this.incrementGeneratedGroup()},incrementGeneratedGroup:function(){if(this.generatedGroupCount+=1,this.groupCount===this.generatedGroupCount){this.isGenerated=!0,this.xhr={};for(var t=Object.keys(this.options.source),e=0;e<t.length;e++)this.source[t[e]]=this.tmpSource[t[e]];this.tmpSource={},this.node.trigger("dynamic"+s)}},navigate:function(t){if(this.helper.executeCallback(this.options.callback.onNavigate,[this.node,this.query,t]),27===t.keyCode||9===t.keyCode)return void(this.container.hasClass("result")&&(t.preventDefault(),this.hideLayout()));var e=this.resultContainer.find("> ul > li:not([data-search-group])"),i=e.filter(".active"),o=i[0]&&e.index(i)||null;if(13===t.keyCode){if(i.length>0)return t.preventDefault(),t.stopPropagation(),void i.find("a:first").trigger("click");if(this.options.mustSelectItem&&this.helper.isEmpty(this.item))return;return void this.hideLayout()}if(39===t.keyCode)return void(o?e.eq(o).find("a:first").trigger("click"):this.options.hint&&""!==this.hint.container.val()&&this.helper.getCaret(this.node[0])>=this.query.length&&e.find('a[data-index="'+this.hintIndex+'"]').trigger("click"));if(e.length>0&&i.removeClass("active"),38===t.keyCode?(t.preventDefault(),i.length>0?o-1>=0&&e.eq(o-1).addClass("active"):e.last().addClass("active")):40===t.keyCode&&(t.preventDefault(),i.length>0?o+1<e.length&&e.eq(o+1).addClass("active"):e.first().addClass("active")),i=e.filter(".active"),this.options.hint&&this.hint.container&&(i.length>0?this.hint.container.css("color",this.hint.container.css("background-color")||"fff"):this.hint.container.css("color",this.hint.css.color)),i.length>0){var n=i.find("a:first").attr("data-index");n&&this.node.val(this.result[n][this.result[n].matchedKey])}else this.node.val(this.rawQuery)},searchResult:function(t){t||(this.item={}),this.helper.executeCallback(this.options.callback.onSearch,[this.node,this.query]),this.result={},this.resultCount=0,this.resultItemCount=0;var e,i,o,n,s,r,a,l,u,p=this,h=this.options.group&&"boolean"!=typeof this.options.group[0]?this.options.group[0]:"group",c=null,d=this.query.toLowerCase(),f=this.options.maxItemPerGroup,y=this.filters.dynamic&&!this.helper.isEmpty(this.filters.dynamic);this.options.accent&&(d=this.helper.removeAccent(d));for(e in this.source)if(this.source.hasOwnProperty(e)&&(!this.filters.dropdown||"group"!==this.filters.dropdown.key||this.filters.dropdown.value===e)){"group"!==h||this.result[h]||(this.result[h]=[]),r="undefined"==typeof this.options.source[e].filter||this.options.source[e].filter===!0;for(var g=0;g<this.source[e].length&&(!(this.result.length>=this.options.maxItem)||this.options.callback.onResult);g++)if(!y||this.dynamicFilter.validate.apply(this,[this.source[e][g]])){if(i=this.source[e][g],c="group"===h?e:i[h],"group"!==c&&c&&!this.result[c]&&(this.result[i[h]]=[]),f&&this.result[c].length>=f&&!this.options.callback.onResult)break;s=this.options.source[e].display||this.options.display;for(var m=0;m<s.length;m++){if(r){if(n=i[s[m]],!n)continue;if(n=n.toString().toLowerCase(),this.options.accent&&(n=this.helper.removeAccent(n)),o=n.indexOf(d),this.options.correlativeTemplate&&"compiled"===s[m]&&0>o&&/\s/.test(d)){a=!0,l=d.split(" "),u=n;for(var v=0;v<l.length;v++)if(""!==l[v]){if(!~u.indexOf(l[v])){a=!1;break}u=u.replace(l[v],"")}}if(0>o&&!a)continue;if(this.options.offset&&0!==o)continue;if(this.options.source[e].ignore&&this.options.source[e].ignore.test(n))continue}if(!this.filters.dropdown||this.filters.dropdown.value==i[this.filters.dropdown.key]){if(this.resultCount++,this.resultItemCount<this.options.maxItem){if(f&&this.result[c].length>=f)break;i.matchedKey=s[m],this.result[c].push(i),this.resultItemCount++}break}}if(!this.options.callback.onResult&&(this.resultItemCount>=this.options.maxItem||f&&this.result[c].length>=f)&&"group"===c)break}}if(this.options.order){var b,s=[];for(var e in this.result)if(this.result.hasOwnProperty(e)){for(var m=0;m<this.result[e].length;m++)b=this.options.source[this.result[e][m].group].display||this.options.display,~s.indexOf(b[0])||s.push(b[0]);this.result[e].sort(p.helper.sort(s,"asc"===p.options.order,function(t){return t.toString().toUpperCase()}))}}var k,x=[];k="function"==typeof this.options.groupOrder?this.options.groupOrder.apply(this,[this.node,this.query,this.result,this.resultCount]):this.options.groupOrder instanceof Array?this.options.groupOrder:"string"==typeof this.options.groupOrder&&~["asc","desc"].indexOf(this.options.groupOrder)?Object.keys(this.result).sort(p.helper.sort([],"asc"===p.options.groupOrder,function(t){return t.toString().toUpperCase()})):Object.keys(this.result);for(var m=0;m<k.length;m++)x=x.concat(this.result[k[m]]||[]);this.result=x,this.helper.executeCallback(this.options.callback.onResult,[this.node,this.query,this.result,this.resultCount])},buildLayout:function(){this.resultContainer||(this.resultContainer=i("<div/>",{"class":this.options.selector.result}),this.container.append(this.resultContainer));var t=this.query.toLowerCase();this.options.accent&&(t=this.helper.removeAccent(t));var e=this,o=i("<ul/>",{"class":this.options.selector.list+(e.helper.isEmpty(e.result)?" empty":""),html:function(){if(e.options.emptyTemplate&&e.helper.isEmpty(e.result))return i("<li/>",{html:i("<a/>",{href:"javascript:;",html:"function"==typeof e.options.emptyTemplate&&e.options.emptyTemplate(e.query)||e.options.emptyTemplate.replace(/\{\{query}}/gi,e.query)})});for(var o in e.result)e.result.hasOwnProperty(o)&&!function(o,n,s){var r,a,l,u,p=n.group,h=[],c=e.options.source[n.group].display||e.options.display,d=e.options.source[n.group].href||e.options.href;e.options.group&&(e.options.group[1]?"function"==typeof e.options.group[1]?p=e.options.group[1](n):"string"==typeof e.options.group[1]&&(p=e.options.group[1].replace(/(\{\{group}})/gi,n[e.options.group[0]]||p)):"boolean"!=typeof e.options.group[0]&&n[e.options.group[0]]&&(p=n[e.options.group[0]]),i(s).find('li[data-search-group="'+p+'"]')[0]||i(s).append(i("<li/>",{"class":e.options.selector.group,html:i("<a/>",{href:"javascript:;",html:p}),"data-search-group":p}))),r=i("<li/>",{html:i("<a/>",{href:function(){return d&&("string"==typeof d?d=d.replace(/\{\{([\w\-\.]+)(?:\|(\w+))?}}/g,function(t,i,o){var s=e.helper.namespace(i,n,"get","");return o&&"raw"===o?s:e.helper.slugify(s)}):"function"==typeof d&&(d=d(n)),n.href=d),d||"javascript:;"},"data-group":p,"data-index":o,html:function(){if(u=n.group&&e.options.source[n.group].template||e.options.template)a=u.replace(/\{\{([\w\-\.]+)(?:\|(\w+))?}}/g,function(i,o,s){var r=e.helper.namespace(o,n,"get","");return s&&"raw"===s||e.options.highlight===!0&&~c.indexOf(o)&&(r=e.helper.highlight(r,t.split(" "),e.options.accent)),r});else{for(var o=0;o<c.length;o++)h.push(n[c[o]]);a='<span class="'+e.options.selector.display+'">'+h.join(" ")+"</span>"}(e.options.highlight===!0&&!u||"any"===e.options.highlight)&&(a=e.helper.highlight(a,t.split(" "),e.options.accent)),i(this).append(a)},click:function(t){return e.options.mustSelectItem&&e.helper.isEmpty(n)?void t.preventDefault():(e.item=n,e.helper.executeCallback(e.options.callback.onClickBefore,[e.node,this,n,t]),void(t.originalEvent&&t.originalEvent.defaultPrevented||t.isDefaultPrevented()||(t.preventDefault(),e.query=e.rawQuery=n[n.matchedKey].toString(),e.node.val(e.query).focus(),e.searchResult(!0),e.buildLayout(),e.hideLayout(),e.helper.executeCallback(e.options.callback.onClickAfter,[e.node,this,n,t]))))},mouseenter:function(t){i(this).closest("ul").find("li.active").removeClass("active"),i(this).closest("li").addClass("active"),e.helper.executeCallback(e.options.callback.onMouseEnter,[e.node,this,n,t])},mouseleave:function(t){i(this).closest("li").removeClass("active"),e.helper.executeCallback(e.options.callback.onMouseLeave,[e.node,this,n,t])}})}),e.options.group?(l=i(s).find('a[data-group="'+p+'"]:last').closest("li"),l[0]||(l=i(s).find('li[data-search-group="'+p+'"]')),i(r).insertAfter(l)):i(s).append(r)}(o,e.result[o],this)}});if(this.options.backdrop&&(this.backdrop.container?this.backdrop.container.show():(this.backdrop.css=i.extend({opacity:.6,filter:"alpha(opacity=60)",position:"fixed",top:0,right:0,bottom:0,left:0,"z-index":1040,"background-color":"#000"},this.options.backdrop),this.backdrop.container=i("<div/>",{"class":this.options.selector.backdrop,css:this.backdrop.css,click:function(){e.hideLayout()}}).insertAfter(this.container)),this.container.addClass("backdrop").css({"z-index":this.backdrop.css["z-index"]+1,position:"relative"})),this.options.hint){var s="";if(this.hintIndex=null,this.result.length>0&&this.query.length>0){this.hint.container||(this.hint.css=i.extend({"border-color":"transparent",position:"absolute",top:0,display:"inline","z-index":-1,"float":"none",color:"silver","box-shadow":"none",cursor:"default","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"},this.options.hint),this.hint.container=i("<input/>",{type:this.node.attr("type"),"class":this.node.attr("class"),readonly:!0,unselectable:"on",tabindex:-1,click:function(){e.node.focus()}}).addClass(n.selector.hint).css(this.hint.css).insertAfter(this.node),this.node.parent().css({position:"relative"})),this.hint.container.css("color",this.hint.css.color);for(var r,a,l,u=0;u<this.result.length;u++){a=this.result[u].group,r=e.options.source[a].display||e.options.display;for(var p=0;p<r.length;p++)if(l=String(this.result[u][r[p]]).toLowerCase(),this.options.accent&&(l=this.helper.removeAccent(l)),0===l.indexOf(t)){s=String(this.result[u][r[p]]),this.hintIndex=u;break}if(null!==this.hintIndex)break}}this.hint.container&&this.hint.container.val(s.length>0&&this.rawQuery+s.substring(this.query.length)||"").show()}if(this.options.callback.onLayoutBuiltBefore){var h=this.helper.executeCallback(this.options.callback.onLayoutBuiltBefore,[this.node,this.query,this.result,o]);h instanceof jQuery&&(o=h)}this.container.addClass("result"),this.resultContainer.html(o),this.options.callback.onLayoutBuiltAfter&&this.helper.executeCallback(this.options.callback.onLayoutBuiltAfter,[this.node,this.query,this.result])},buildDropdownLayout:function(){function t(t){"*"===t.value?delete this.filters.dropdown:this.filters.dropdown=t,this.container.removeClass("filter").find("."+this.options.selector.filterValue).html(t.display||t.value),this.node.trigger("dynamic"+s),this.node.focus()}if(this.options.dropdownFilter){var e,o=this;if("boolean"==typeof this.options.dropdownFilter)e="all";else if("string"==typeof this.options.dropdownFilter)e=this.options.dropdownFilter;else if(this.options.dropdownFilter instanceof Array)for(var n=0;n<this.options.dropdownFilter.length;n++)if("*"===this.options.dropdownFilter[n].value&&this.options.dropdownFilter[n].display){e=this.options.dropdownFilter[n].display;break}i("<span/>",{"class":this.options.selector.filter,html:function(){i(this).append(i("<button/>",{type:"button","class":o.options.selector.filterButton,html:"<span class='"+o.options.selector.filterValue+"'>"+e+"</span> <span class='"+o.options.selector.dropdownCaret+"'></span>",click:function(t){t.stopPropagation();var e=o.container.find("."+o.options.selector.dropdown.replace(" ","."));e.is(":visible")?(o.container.removeClass("filter"),e.hide(),i("html").off(s+".dropdownFilter")):(o.container.addClass("filter"),e.show(),i("html").off(s+".dropdownFilter").on("click"+s+".dropdownFilter touchstart"+s+".dropdownFilter",function(){o.container.removeClass("filter"),e.hide(),i(this).off(s+".dropdownFilter")}))}})),i(this).append(i("<ul/>",{"class":o.options.selector.dropdown,html:function(){var e=o.options.dropdownFilter;if(~["string","boolean"].indexOf(typeof o.options.dropdownFilter)){e=[];for(var n in o.options.source)o.options.source.hasOwnProperty(n)&&e.push({key:"group",value:n});e.push({key:"group",value:"*",display:"string"==typeof o.options.dropdownFilter&&o.options.dropdownFilter||"All"})}for(var s=0;s<e.length;s++)!function(e,n,s){(n.key||"*"===n.value)&&n.value&&("*"===n.value&&i(s).append(i("<li/>",{"class":"divider"})),i(s).append(i("<li/>",{html:i("<a/>",{href:"javascript:;",html:n.display||n.value,click:function(e){e.preventDefault(),t.apply(o,[n])}})})))}(s,e[s],this)}}))}}).insertAfter(o.container.find("."+o.options.selector.query))}},dynamicFilter:{validate:function(t){var e,i,o=null,n=null;for(var s in this.filters.dynamic)if(this.filters.dynamic.hasOwnProperty(s)&&(i=~s.indexOf(".")?this.helper.namespace(s,t,"get"):t[s],"|"!==this.filters.dynamic[s].modifier||o||(o=i==this.filters.dynamic[s].value||!1),"&"===this.filters.dynamic[s].modifier)){if(i!=this.filters.dynamic[s].value){n=!1;break}n=!0}return e=o,null!==n&&(e=n,n===!0&&null!==o&&(e=o)),!!e},set:function(t,e){var i=t.match(/^([|&])?(.+)/);e?this.filters.dynamic[i[2]]={modifier:i[1]||"|",value:e}:delete this.filters.dynamic[i[2]],this.searchResult(),this.buildLayout()},bind:function(){if(this.options.dynamicFilter)for(var t,e=this,o=0;o<this.options.dynamicFilter.length;o++)t=this.options.dynamicFilter[o],"string"==typeof t.selector&&(t.selector=i(t.selector)),t.selector instanceof jQuery&&t.selector[0]&&t.key&&!function(t){t.selector.off(s).on("change"+s,function(){e.dynamicFilter.set.apply(e,[t.key,e.dynamicFilter.getValue(this)])}).trigger("change"+s)}(t)},getValue:function(t){var e;return"SELECT"===t.tagName?e=t.value:"INPUT"===t.tagName&&("checkbox"===t.type?e=t.checked||null:"radio"===t.type&&t.checked&&(e=t.value)),e}},showLayout:function(){var t=this;i("html").off(s).on("click"+s+" touchstart"+s,function(){t.hideLayout(),i(this).off(s)}),(this.result.length||this.options.emptyTemplate)&&this.container.addClass("result hint backdrop")},hideLayout:function(){this.container.removeClass("result hint backdrop filter")},__construct:function(){this.extendOptions(),this.unifySourceFormat()&&(this.init(),this.delegateEvents(),this.buildDropdownLayout(),this.dynamicFilter.bind.apply(this),this.helper.executeCallback(this.options.callback.onReady,[this.node]))},helper:{isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},removeAccent:function(t){return"string"==typeof t?t=t.toLowerCase().replace(new RegExp("["+r.from+"]","g"),function(t){return r.to[r.from.indexOf(t)]}):void 0},slugify:function(t){return t=String(t),""!==t&&(t=this.removeAccent(t),t=t.replace(/[^-a-z0-9]+/g,"-").replace(/-+/g,"-").trim("-")),t},sort:function(t,e,i){var o=function(e){for(var o=0;o<t.length;o++)if("undefined"!=typeof e[t[o]])return i(e[t[o]]);return e};return e=[-1,1][+!!e],function(t,i){return t=o(t),i=o(i),e*((t>i)-(i>t))}},replaceAt:function(t,e,i,o){return t.substring(0,e)+o+t.substring(e+i)},highlight:function(t,e,i){t=String(t);var o=i&&this.removeAccent(t)||t,n=[];e instanceof Array||(e=[e]),e.sort(function(t,e){return e.length-t.length});for(var s=e.length-1;s>=0;s--)""!==e[s].trim()?e[s]=e[s].replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e.splice(s,1);o.replace(new RegExp("(?:"+e.join("|")+")(?!([^<]+)?>)","gi"),function(t,e,i){n.push({offset:i,length:t.length})});for(var s=n.length-1;s>=0;s--)t=this.replaceAt(t,n[s].offset,n[s].length,"<strong>"+t.substr(n[s].offset,n[s].length)+"</strong>");return t},joinObject:function(t,e){var i="",o=0;for(var n in t)t.hasOwnProperty(n)&&(0!==o&&(i+=e),i+=t[n],o++);return i},getCaret:function(t){if(t.selectionStart)return t.selectionStart;if(e.selection){t.focus();var i=e.selection.createRange();if(null==i)return 0;var o=t.createTextRange(),n=o.duplicate();return o.moveToBookmark(i.getBookmark()),n.setEndPoint("EndToStart",o),n.text.length}return 0},executeCallback:function(e,o){if(!e)return!1;var n;if(o[0],"function"==typeof e)n=e;else if(("string"==typeof e||e instanceof Array)&&("string"==typeof e&&(e=[e,[]]),n=this.helper.namespace(e[0],t),"function"!=typeof n))return!1;return n.apply(this,i.merge(e[1]||[],o?o:[]))||!0},namespace:function(e,i,n,s){if("string"!=typeof e||""===e)return!1;for(var r=e.split("."),a=i||t,n=n||"get",l=s||{},u="",p=0,h=r.length;h>p;p++){if(u=r[p],"undefined"==typeof a[u]){if(~["get","delete"].indexOf(n))return"undefined"!=typeof s?s:o;a[u]={}}if(~["set","create","delete"].indexOf(n)&&p===h-1){if("set"!==n&&"create"!==n)return delete a[u],!0;a[u]=l}a=a[u]}return a},typeWatch:function(){var t=0;return function(e,i){clearTimeout(t),t=setTimeout(e,i)}}()}},i.fn.typeahead=i.typeahead=function(t){return u.typeahead(this,t)};var u={typeahead:function(e,o){if(o&&o.source&&"object"==typeof o.source){if("function"==typeof e){if(!o.input)return;e=i(o.input)}if(e.length)for(var n,s=0;s<e.length;s++)n=1===e.length?e:i(e.selector.split(",")[s].trim()),t.Typeahead[n.selector]=new l(n,o)}}};t.console=t.console||{log:function(){}},"trim"in String.prototype||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),"indexOf"in Array.prototype||(Array.prototype.indexOf=function(t,e){e===o&&(e=0),0>e&&(e+=this.length),0>e&&(e=0);for(var i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1}),Object.keys||(Object.keys=function(t){var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i})});
var Language={msg:{message:"Сообщение",error:"Ошибка",errorCmn:"Произошла ошибка при совершении этого запроса, пожалуйста повторите попытку еще раз",errorMsg:'Произошла ошибка, обратитесь пожалуйста к <a class="fade" href="contact.htm"/*tpa=http://the-radio.ru/contact*/>администратору сайта за помощью</a>',errorToken:'Произошла ошибка, не совпадает ключ Token, обратитесь пожалуйста к <a href="contact.htm"/*tpa=http://the-radio.ru/contact*/>администратору сайта за помощью</a>',errorTime:"Произошла ошибка, пожалуйста повторите попытку!",load:"Идет загрузка, пожалуйста подождите ...",unknow:"неизвестно",min3:"Введите не менее 3 букв в строку поиска"},help:{edit:"Заполните пожалуйста поле поиска!",nfound:"Группа или музыкант с таким именем не найден. Возможно в названии группы или музыканте есть ошибка!!! Убедитесь пожалуйста что имя исполнителя написано на его языке. <br /><br /><strong>Например правильно</strong> будет - Limp Bizkit, а НЕ Лимп Бизкит",perhaps:"Возможно Вы имели ввиду: "},login:{notice:"Друзья, НЕ используйте для регистрации почту rambler.ru и ukr.net так как письмо активации может не прийти на данные почтовые сервисы"},calendar:{previousMonth:"Предыдущий",nextMonth:"Следующий",months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],weekdays:["Воскресенье","Понедельний","Вторник","Среда","Четверг","Пятница","Суббота"],weekdaysShort:["Вос","Пон","Вт","Ср","Чет","Пят","Суб"]},tracklist:{hours:" час.",found:"Найдено",nfound:"Песни не найдены!"},player:{unknow:"Текущее название неизвестно",nradio:"Станция не выбрана",nstyle:"Стиль не выбран",favError:"Станция не выбрана! Вы не можете добавить ее в избранное",favOk:"Станция успешно добавлена в избранное",favNo:"Это радио уже находится у Вас в списке избранного",favReg:"Нужна регистрация, для того что-бы добавлять станции в избранное",noUrl:"У этой станции отсутствует рабочий поток",nartist:"Исполнитель неизвестен",nsong:"песня неизвестна",ntitle:"Название исполнителя или песни отсутствует",ndesc:"На данный момент описание этого исполнителя отсутствует. Возможно, оно будет добавлено в ближайшее время",radioNotWorked:function(a){return a=a||"неизвестно",'Не найден активный аудио поток. Попробуйте посетить данную станцию позднее. Если ошибка будет повторяться, то пожалуйста <a class="fade" href="contact.htm"/*tpa=http://the-radio.ru/contact*/> сообщите нам об этом</a><br /><br /><a href="javascript:location.reload();" class="gray fade">Попробуйте обновить страницу</a><br /> <span>Время простоя: </span> '+a+' <br /><br /><a href="help.htm"/*tpa=http://the-radio.ru/help*/ class="yellow fade">Помочь Вам подобрать радиостанцию?</a>'},flashError:"Для запуска этой радиостанции необходим Flash Player! Попробуйте обновить страницу в браузере",returnCancel:"Вы успешно отменили возврат на станцию",noStream:"У этой радиостанции нет дополнительных потоков",radio:"Радио",pushPlay:"Для запуска станции коснитесь экрана пальцем",my:"Мои станции",onlyOne:"У вас в закладках 1 станция. Как только их станет больше, они будут показаны в этой подсказке",popularity:"Популярность этого артиста",noHistory:"Пока вы не прослушали ни одной радиостанции!",title_off:"Станция не транслирует названия песен"},artist:{textNotFound:"К сожалению информация об этом исполнителе отсутствует. Пожалуйста попробуйте зайти позднее, т.к. возможно информация появится в ближайшее время",noTags:"К сожалению стили и жанры не определены",showText:" Показать полное описание",hideText:"Скрыть описание"},radios:{notLoadList:'Невозможно загрузить список. Обратитесь пожалуйста к <a href="contact.htm"/*tpa=http://the-radio.ru/contact*/>администраторам сайта</a>',paging:{pages:"Страницы",prev:"&laquo; Назад",next:"Вперед &raquo;"}},online:{nTrackList:"К сожалению на данной радиостанции не ведется треклист. Попробуйте зайти на это радио позднее т.к. возможно треклист недоступен временно!",nTopList:"На данный момент хит парад этой радиостанции недоступен. Возможно радио не передает название композиций, либо все треки и песни в эфире этой радиостанции уникальны и не повторяются",nStream:'У этой радиостанции отсутствуют потоки для воспроизведения. <br><br> <a href="javascript:location.reload();" class="gray fade">Попробуйте перезагрузить эту страницу</a>',noStreamArtist:"Нет потоков!",noStreamSong:'<a class="fade yellow" href="contact.htm"/*tpa=http://the-radio.ru/contact*/>Сообщить потоки для этой станции</a>',noStatistics:"Активный аудио поток у этой радиостанции не передает информацию о текущем количестве слушателей",shareCopied:"Ссылка успешно скопирована в буфер обмена. Для быстрой вставки используйте комбинацию Ctrl+V"},video:{nlength:"длина неизвестна",variant:"Вариант 2",original:"Оригинал",nstyle:"Стили неизвестны ....",vkSearch:"Поиск песни ВКонтакте",notFound:"Видео на композицию",no:"не найдено"},sidebar:{recent:{empty:"За последнюю минуту не прослушали ни одной станции. Для прослушивания выберите стиль музыки, а затем радио из списка"}},style:{searchSelect:"Выберите радио из предложенного списка!",unknowTitle:"К сожалению текущий исполнитель неизвестен",notFilter:"К сожалению станции по заданному фильтру не найдены. Попробуйте изменить условия фильтрации. <br><br><strong>Текущие условия фильтра</strong>:<br>"},songs:{notFound:"К сожалению по заданному запросу ничего не найдено. Попробуйте изменить условия запроса"},local:{cityNotFound:"Ваш город не удалось определить автоматически. Пожалуйста, укажите Ваш город или выберите из списка",radioNotFound:"по вашему городу не найдено ни одной радиостанции. Попробуйте выбрать областной город"},pay:{getRadio:"Введите название радиостанции и выберите ее из выпадающего списка"}};
function ArtistPage(){}ArtistPage.prototype={path:{trackList:".tracklist-tiny",ava:".artist-page .avatar-block .ava",styles:".avatar-block .info .style .inline-list",text:".avatar-block .info .text",similar:".artist-page .sim-list",similarRoot:".artist-page .similar"},init:function(){},load:function(a){var t=$(".artist-page").attr("data-loaded");if(t)return!1;var e=this;$(this.path.styles+" li").not(":first").remove(),$(this.path.styles).append('<li class="c9"><em>'+Language.msg.load+"</em></li>"),$(this.path.text).empty().append('<div class="c9"><em>'+Language.msg.load+"</em></div>"),$(this.path.similar).empty().append('<li class="c9 clear"><em>'+Language.msg.load+"</em></li>"),a&&a.length&&(Global.overlay.show(),Global.ajax({name:a},"/artist",function(a){a&&(a.data=Global.jsonConvert(a.data),e.loadAvatar(a.data.ava,a.data.ava_url),e.loadText(a.data.artist_fulltext),e.loadStyles(a.data.tags),a.data.similar.length>0?SongsClass.prototype.artist.loadSimilar(a.data.similar,e.path.similar):(console.log(e.path.similar),$(e.path.similarRoot).hide(500)))},function(){e.loadText(null),e.loadStyles(),$(".artist-page .similar").hide(1e3)}))},loadAvatar:function(a,t){if(!a.length)return!1;$('meta[name="image"]').attr("content",a),$('meta[property="og:image"]').attr("content",a);var e=this;t=t||a;var i=$(this.path.ava+" .def"),s=$(this.path.ava+" a");s.empty(),i.hasClass("hidden")&&i.removeClass("hidden"),i.animate({opacity:.3},500,function(){i.hide().addClass("hidden"),s.attr("href",t).removeClass("hidden").append('<img class="hidden" src="'+a+'">'),$(e.path.ava+" a img").css("opacity",".7").removeClass("hidden").slideDown(750,function(){$(this).animate({opacity:1},500).addClass("animate").addClass("transition10")}),i.css("opacity","1")})},loadText:function(a){textExist=a,a=a||"<em class='c9'>"+Language.artist.textNotFound+"</em>",$(this.path.text).empty().append(a),textExist&&Global.common.collapse(this.path.text)},loadStyles:function(a){if(!a||a&&!a.length)return $(this.path.styles+" li").not(":first").html("<em>"+Language.artist.noTags+"</em>"),!1;if(a=Global.jsonConvert(a)){var t="",e=$.templates(this.tpl.style);$.each(a,function(a,i){i.name=i.name||"",i.name&&(i.url=i.url?'<a href="'+i.url+'">'+i.name+"</a>":i.name,t+=e.render(i))}),$(this.path.styles+" li").not(":first").remove(),$(t).hide().appendTo(this.path.styles).show(200)}else $(this.path.styles+" li").not(":first").html("<em>"+Language.artist.noTags+"</em>")},tpl:{style:"<li>{{:url}}</li>"}};
function FavoritesPage(){}FavoritesPage.prototype={path:{count:".favorites-page .counter .count",list:"fav-radio-list",radioList:".radio-list .large li",settings:"#form-settings"},init:function(){this.bind(),Global.countAnimate(this.path.count),$(this.path.radioList).hover(function(){$(this).find("a.delete").animate({opacity:"1",right:"10px"},300)},function(){$(this).find("a.delete").animate({opacity:"0",right:"0"},300)}),$("http://the-radio.ru/min/img.lazy").lazyload({effect:"fadeIn"}),this.preplay.init()},preplay:{firstInit:!1,init:function(){var t=this,i=GenrePage.prototype;i.list=[],this.firstInit=!1,$(".playit a").click(function(a){var e=$(this);if(a.preventDefault(),!t.firstInit){Global.overlay.show(!0,!1,!0);var n=PlayerUI.prototype,o=[];$(i.path.all+" li").each(function(){var t=$(this).attr("data-id");$.isNumeric(t)&&o.push(t)}),o.length&&n.getRadios(o,function(a){i.list=a,t.bind(),t.firstInit=!0,e.click()})}})},bind:function(){var t=GenrePage.prototype;t.bindPreplay()}},bind:function(){var t=this;this.sortBind(),$(t.path.radioList+" a.delete").click(function(t){t.preventDefault(),t.stopPropagation();var i=$(this).parent().parent().parent("li"),a=i.attr("data-id");$.isNumeric(a)&&FavoritesPage.prototype["delete"](i,a)})},sortBind:function(){var t=this,i=document.getElementById(t.path.list);if(i){Sortable.create(i,{animation:150,handle:".ava",onUpdate:function(t){var i=[];$(FavoritesPage.prototype.path.radioList).each(function(t,a){i.push($(this).attr("data-id"))}),Global.ajax({sort:i},"/my/sort")}})}},"delete":function(t,i){var a=this;Global.overlay.show(),Global.ajax({radio_id:i},"/my/delete",function(){t.hide(500,function(){$(this).remove();var t=parseInt($(a.path.count).attr("data-count")-1);$(a.path.count).attr("data-count",t),$(a.path.count).html(t)})})}};
function GenrePage(){}GenrePage.prototype={path:{list:"#sub-radio-list",defList:"#main-radio-list",all:".is-list",defPaging:"#def-paging",empty:"#filter-radio-not-found",country:'.genre-bar select[name="country_id"]',quality:".genre-bar .group .buttons li"},filter:{style_id:-1,country_id:-1,low:!1,med:!1,hq:!1,is_fm:!1},list:[],init:function(){Sidebar.style.expand.open(!0),$(this.path.defList+" .lazy").lazyload({effect:"fadeIn"}),$(document).scrollTop($("#content").offset().top-10),this.__resetFilter(),this.filter.style_id=Global.common.getPageInfo("style_id"),Sidebar.style.loadedStyle=0,Sidebar.style.openStyle(this.filter.style_id),this.initToolbar(),Global.runEverywhere(),this.bindOnAir(),this.list=[],this.bindPreplay()},__resetFilter:function(){this.filter.style_id=-1,this.filter.country_id=-1,this.filter.low=!1,this.filter.med=!1,this.filter.hq=!1,this.filter.is_fm=!1},initToolbar:function(){var t=this;$(this.path.country).comboSelect().change(function(i){var e=parseInt(i.target.value);t.filter.country_id!=e&&(t.filter.country_id=e,t.fireFilter())}),setTimeout(function(){var i=$(t.path.country).parent().children(".combo-input"),e=i.val();i.val("").attr("placeholder",e)},100),$(this.path.quality).click(function(){var i=$(this).attr("data-id");i&&(t.filter[i]=!t.filter[i],t.filter[i]?$(this).addClass("active"):$(this).removeClass("active"),t.fireFilter())}),this.initIWish()},initIWish:function(){var t=$("#i-whish-modal"),i=$("#iwish");t.length&&i.length&&t.lightcase({maxWidth:670,showTitle:!1,overlayOpacity:.5,onFinish:{baz:function(){$("#iwish .url-list li a").click(function(t){t.preventDefault();var i=$(this).attr("data-id");lightcase.lightcaseClose(),Global.ajax({id:i},"/genre/want",function(t){console.warn(t),t.url&&(window.location=t.url)})})}}})},fireFilter:function(t,i){var e=this;this.list.length?(t||e.render(),"function"==typeof i&&i()):Global.ajax({style_id:this.filter.style_id},"/genre/filter",function(a){e.list=a.list,t||e.render(),"function"==typeof i&&i()})},render:function(){var t='<ul id="sub-radio-list" class="medium-radio-list is-list small-block-grid-2 medium-block-grid-3 large-block-grid-5"></ul>',i=$(this.path.defList),e=$(this.path.list);e.length?this.__subRender():(i.after(t),this.__subRender())},__subRender:function(){var t=this,i=this.filter,e=$(this.path.list),a=$(this.path.empty);if(parseInt(i.country_id)!=-1||i.low||i.med||i.hq||i.is_fm){var l=[];e.html(""),a.remove(),this.unbindOnAir(),this.hideOldRadiolist();var r=0;(i.low||i.med||i.hq)&&r++,i.is_fm&&r++,parseInt(i.country_id)!=-1&&r++,$.each(this.list,function(e,a){var n=0,o=!1;(i.low||i.med||i.hq)&&$.each(a.streams,function(t,e){var a=parseInt(e.bitrate);return i.low&&a<=96?(n++,!1):i.med&&a>96&&a<=192?(n++,!1):i.hq&&a>192?(n++,o=!0,!1):void 0}),a.hq=o,i.is_fm&&parseInt(a.is_fm)>0&&n++;var s=parseInt(i.country_id);s!=-1&&parseInt(a.country_id)==s&&n++,r==n&&l.push(t.__prepareRadio(a))}),l.length?(RadioClass.prototype.mediumList(l,t.path.list,!1,!0,RadioClass.prototype.tpl.mediumAndPreplay),$(t.path.list+" li").each(function(t){PlayerUI.prototype.vars.inited||($(this).find("http://the-radio.ru/min/a.name").attr("target","_blank"),$(this).find(".ava").children("a").attr("target","_blank"))}),t.bindPreplay(),$(t.path.list).show()):t.radiosNotFound()}else a.remove(),this.showOldRadiolist(),e.html("").hide(300)},__prepareRadio:function(t){return{id:t.id,name:t.name,title:t.cache_info?t.cache_info.title:"<em>"+Language.style.unknowTitle+"</em>",text:t.text,url:t.slug_url,image:t.image,hq:t.hq}},hideOldRadiolist:function(){var t=$(this.path.defList),i=$(this.path.defPaging);t.hasClass("hidden")||(t.addClass("hidden"),i.addClass("hidden"))},showOldRadiolist:function(){var t=$(this.path.defList),i=$(this.path.defPaging);t.hasClass("hidden")&&(t.removeClass("hidden"),i.removeClass("hidden"))},bindOnAir:function(){SongsClass.prototype.artist.lazyLoad(".onair-list ul .lazy"),$(document).ready(function(){$(".onair-list ul li .ava").each(function(t){0==t?$(this).animated("fadeInLeft",!0):6==t?$(this).animated("rollIn",!0):$(this).animated("flipInY",!0)})})},unbindOnAir:function(){$(".onair-list ul li .ava").each(function(t){$(this).css({opacity:1})}),Waypoint.destroyAll()},radiosNotFound:function(){var t="",i="",e=this.filter;if(parseInt(e.country_id)!=-1){var a=$(this.path.country+" option:selected").text();i="Страна только: "+a+"<br>"}if((e.low||e.med||e.hq)&&(i+="Качество звука: ",e.low&&(i+="низкое или "),e.med&&(i+="среднее или "),e.hq&&(i+="высокое "),i=i.replace(/или +$/,"")+"<br>"),e.is_fm){var a=$(this.path.country+" option:selected").text();i+="Обязательно доступна на частоте в FM/AM/Укв (оффлайн)"}var l=$(this.path.empty);l.length&&l.remove(),t='<blockquote id="filter-radio-not-found">'+Language.style.notFilter+i+"</blockquote>",$(this.path.defList).after(t)},bindPreplay:function(){var t=this,i=PlayerUI.prototype,e=this.path.all;i.toolbar.createPlayer(),$(e+" .playit a").click(function(a){if(a.preventDefault(),i.vars.preplay.disable)return!1;i.vars.preplay.disable=!0;var l=$(this).closest("li"),r=l.attr("data-id"),n=$(e);$.each(n.children("li"),function(){Global.overlay.unblock($(this));var t=$(this).find(".playit a");t.hasClass("active")&&t.removeClass("active")}),$(this).addClass("active"),setTimeout(function(){$(e+' .playit a[data-id="'+r+'"]').addClass("active")},500),t.fireFilter(!1,function(){PlayerUI.prototype.cast.runPreplay(r,t.list),setTimeout(function(){i.vars.preplay.disable=!1},4e3)})}),$(i.toolbar.path.main).on("title",function(){var t=i.vars.current,a=$(e+' li[data-id="'+t.id+'"]').find(".title");if(a.length&&t.onair&&t.onair.track&&t.onair.track.title_prepared){var l=$.trim(a.html());l!=t.onair.track.title_prepared&&t.onair.track.title_prepared.length&&a.html(t.onair.track.title_prepared)}}),$(i.toolbar.path.main).on("load",function(){t.blockRadio(i.vars.current.id,!1,!0)}),$(i.toolbar.path.main).on("play",function(){t.blockRadio(i.vars.current.id,!0)}),$(i.toolbar.path.main).on("error",function(){t.blockRadio(i.vars.current.id,!0)})},blockRadio:function(t,i,e){var a=(PlayerUI.prototype,$(this.path.all+' li[data-id="'+t+'"]'));a.length&&(i?Global.overlay.unblock(a):Global.overlay.block(a,e))}};
function HelpPage(){}HelpPage.prototype={vars:{search:"",tipsHandle:!1},path:{form:"#help-search",searchlink:".help-page .inline-list li>a",similar:".help-page div.similar",similarLink:".help-page .form .similar",searchButton:'#help-search input[name="button"]',edit:'#help-search input[name="search"]',founded:"#result-founded",foundedList:"#result-founded .radio-list",indent:"#result-founded .radio-list .ident",indentList:"#result-founded .radio-list .ident ul.large",blockQuote:"blockquote#notice",listRecomend:"#result-founded .recommend ul",listSimilar:"#result-founded .sim-list",listStyles:"#similar-tracklist",notFounded:"#result-not-founded",notFoundedMsg:"#result-not-founded .msg",notFoundedQuote:"#result-not-founded blockquote"},search:"",init:function(){this.bindLinks(),this.bindSimilar(),this.showSimilarLink(!0),this.bindSearch();var t=$(this.path.edit).val();t&&t.length>1&&$(this.path.form).submit(),this.bindAutocomplete()},bindLinks:function(t){var e=this;t=t||e.path.searchlink+", "+e.path.notFoundedQuote+" a",$(t).on("click",function(t){t.preventDefault(),$(e.path.form+" input.search").val($(this).text()).focus(),$(this).parent("blockquote").length&&$(e.path.searchButton).click()})},bindSimilar:function(){var t=this;$(t.path.similarLink).click(function(e){e.preventDefault();var i=$(t.path.similar);i.hasClass("hide")?($(t.path.listSimilar).show(),i.show(500,function(){$(this).removeClass("hide")})):i.hide(500,function(){$(this).addClass("hide")})})},bindSearch:function(){var t=this;$(this.path.form).submit(function(e){e.preventDefault();var i=$.trim($(t.path.edit).val());if(i.length>1){if(t.vars.search===i)return!1;t.resetSearch(),t.vars.search=i,$(t.path.searchButton).addClass("disabled").attr("disabled","disabled"),Global.overlay.show(),Global.ajax({name:i,hash:window.location.hash.substr(1)},"/help",function(e){sim=e.artist.similar||[],style=e.list.length||e.radio.length?[]:e.artist.tags,t.found(e.list,e.radio,sim,style,e.msg)},function(){t.notFound(Language.help.nfound)}),$(t.path.searchButton).removeClass("disabled").removeAttr("disabled")}else Global.msg.no(Language.help.edit,!0,5e3)})},showSimilarLink:function(t){t?$(this.path.similarLink).hide():$(this.path.similarLink).show(300)},notFound:function(t,e){$(this.path.founded+","+this.path.notFounded).hide(),$founded=$(this.path.notFounded),$founded.empty(),t&&$founded.append(this.tpl.notFound(t)),e&&($founded.append(this.tpl.blockQuote(e)),this.bindLinks()),$(this.path.notFounded).fadeIn(700)},found:function(t,e,i,a,s){var n=this,l=new RadioClass;$(this.path.founded+","+this.path.notFounded).hide();var o=$(this.path.notFounded),h=$(this.path.founded);if(o.empty(),$(this.path.listRecomend+" li").remove(),$(this.path.indentList+" li").remove(),$(this.path.listStyles).remove(),s&&s.length){var d="";$.each(s,function(t,e){d+=e+"<br>"}),d&&$(this.path.blockQuote).hide().html(d).removeClass("hide").show()}if(t&&t.length?($(this.path.listRecomend).parent().removeClass("hide"),$(this.path.foundedList).removeClass("hide"),l.mediumList(t,this.path.listRecomend,!0)):$(this.path.listRecomend).parent().addClass("hide"),e&&e.length&&($(this.path.foundedList).removeClass("hide"),$(this.path.indent).removeClass("hide").show(500),l.mediumList(e,this.path.indentList,!0)),(t||e||i)&&(h.show(700),!PlayerUI.prototype.vars.inited)){var r=this.path.listRecomend+" li, "+this.path.indentList+" li";setTimeout(function(){$(r).each(function(){$(this).children(".info").children(".name").attr("target","_blank")})},1e3)}if(i&&i.length){var u=new SongsClass;u.artist.loadSimilar(i,n.path.listSimilar),n.bindLinks(n.path.listSimilar+" li a"),$(".help-page .similar .gray-block").css("margin","0px -20px"),this.showSimilarLink(),t.length||e.length||setTimeout(function(){$(n.path.similarLink).click()},1e3)}a&&a.length&&n.addStyleList(a)},addStyleList:function(t){var e=this,i=$(e.path.listStyles);i.length&&i.remove(),$(e.path.blockQuote).after(e.tpl.styleUl);var a=$(e.path.listStyles),s=$.templates(e.tpl.styleLi);$.each(t,function(t,e){var i={place:++t,name:e.name,url:e.url};a.append(s.render(i))})},resetSearch:function(){var t=this;$(this.path.similar).hide().addClass("hide"),$(this.path.listSimilar).fadeOut(200),$(this.path.founded).fadeOut(200),$(this.path.indent).fadeOut(200,function(){$(t.path.indent).addClass("hide")}),this.showSimilarLink(!0),$(this.path.blockQuote).hide(500).addClass("hide").removeAttr("style")},bindAutocomplete:function(){var t=this,e=$("#input-artist-search");if(e.length){var i=$('meta[name="_token"]').attr("content");if(!i)return Global.msg.no(Language.msg.errorToken,!0);var a=$(".help-page .form .blocked");e.typeahead({minLength:2,maxItem:10,hint:!0,backdrop:{"background-color":"rgba(0, 0, 0, 0.3)"},dynamic:!0,source:{url:{type:"POST",url:"/artist/search",data:{q:"{{query}}"},headers:{"X-CSRF-TOKEN":i}}},callback:{onSendRequest:function(){a.removeClass("hidden")},onReceiveRequest:function(){a.addClass("hidden")},onClick:function(e,i,a,s){a&&a.display&&$(t.path.form).submit()}}})}},tpl:{notFound:function(t){return'<p class="msg big">'+t+"</p>"},blockQuote:function(t){return'<blockquote class="block">'+t+"</blockquote>"},styleUl:'<ul id="similar-tracklist" class="tracklist-large large-block-grid-2 medium-block-grid-1 small-block-grid-1"></ul>',styleLi:'<li><span class="place">{{:place}}</span><span class="title"><a href="{{:url}}" target="_blank">{{:name}}</a></span></li>'}};
function LocalRadioFreq(){}LocalRadioFreq.prototype={el:"#app-local-radio",app:!1,expandBind:!1,expandStyle:-1,path:{switcher:"#tarblank",resetCity:"#changeCity",city:"#city-search"},data:{inited:!1,option:"app-local-blank",form:{city:""},city:null},init:function(){this.bindSwitcher(),this.bindResetCity(),this.preplay.init(),this.bindCountrySelect(),this.mounted()},bindCountrySelect:function(){$("#country_select").comboSelect().change(function(t){Global.overlay.show(),window.location=t.target.value})},bindSwitcher:function(){var t=this,e=$(this.path.switcher),i=$(".medium-radio-list li a:not([href=#])");e.change(function(){$(this).is(":checked")?(i.attr("target","_blank"),Cookies.set(t.data.option,"true",{expires:365})):(i.removeAttr("target"),Cookies.remove(t.data.option))})},bindResetCity:function(){var t=this,e=$(this.path.resetCity);e.click(function(){t.reset()})},reset:function(){$(this.path.city).val("").removeAttr("readonly"),$(this.path.resetCity).hide(300),this.data.city=null,this.data.form.city=""},setCity:function(t){this.data.city=t,this.data.form.city=t.name,this.data.form.search="",$(this.path.resetCity).show(),$(this.path.city).val(t.name).attr("readonly","readonly")},preplay:{firstInit:!1,init:function(){var t=this,e=GenrePage.prototype;e.list=[],this.firstInit=!1,$(".playit a").click(function(i){var a=$(this);if(i.preventDefault(),!t.firstInit){Global.overlay.show(!0,!1,!0);var n=PlayerUI.prototype,o=[];$(e.path.all+" li").each(function(){var t=$(this).attr("data-id");$.isNumeric(t)&&o.push(t)}),o.length&&n.getRadios(o,function(i){e.list=i,t.bind(),t.firstInit=!0,a.click()}),setTimeout(function(){LocalRadioFreq.prototype.bindGenreExpander()},2e3)}})},bind:function(){var t=GenrePage.prototype;t.bindPreplay()}},mounted:function(){"undefined"!=typeof LOCAL_CITY_DATA&&this.setCity(LOCAL_CITY_DATA);var t=$(this.path.switcher);"true"!==Cookies.get(this.data.option)||t.is(":checked")||t.click(),this.__initCitySearch(),Global.inits.hideNofollowLinks(LocalRadioFreq.prototype.el+" .nofollow-area"),Sidebar.style.autodetectCity(".autodetect-city-radios"),$(".medium-radio-list .lazy").lazyload({effect:"fadeIn"}),this.data.inited=!0},__resetForm:function(){console.warn("сброс формы")},bindGenreExpander:function(){var t=this;this.expandBind||(this._expand(PlayerUI.prototype.vars.current.style_id),PlayerUI.prototype.on("play",function(){var e=PlayerUI.prototype.vars.current;t._expand(e.style_id)}),this.expandBind=!0)},_expand:function(t){"undefined"==typeof t||t===this.expandStyle||Sidebar.style.expand.expanded||(Sidebar.style.expand.markParent(t,!0),Sidebar.style.expand.showChild(),this.expandStyle=t)},__initCitySearch:function(){var t=$("#city-search");t.typeahead({hint:!0,backdrop:{"background-color":"rgba(0, 0, 0, 0.3)"},cache:!1,minLength:1,maxItem:10,delay:500,dynamic:!0,template:'<div class="name">{{name}}</div><div class="region">{{countries.name}}</div>',display:["name"],source:{url:{type:"POST",url:"/local/search-city",data:{name:"{{query}}"},headers:{"X-CSRF-TOKEN":$('meta[name="_token"]').attr("content")}}},callback:{onClick:function(t,e,i){"undefined"!=typeof i.city_id&&(window.location=location.protocol+"//"+location.host+"/local/"+i.city_id)}}}),Global.search.bindRadio()}};
function OnairPage(){}OnairPage.prototype={interval:15e3,path:{tracklist:"#onair-list ul li"},vars:{date:"",timerHandle:!1,tracklistCount:0},init:function(t){var a=this;this.vars.date=t,this.tracklistCount=$(this.path.tracklist).length,this.tracklistCount>0&&a.stopUpdate(),a.vars.timerHandle=setInterval(function(){a.update()},this.interval),$(".forms .bar .progress").each(function(){var t=$(this).attr("data-popularity"),a=$(this);"0"!=t&&a.css("opacity","0").addClass("animated").waypoint(function(t){"down"===t&&a.addClass("fadeInLeft").css("opacity","1")},{offset:"100%"})}),setTimeout(function(){SongsClass.prototype.artist.lazyLoad(".onair-list ul .lazy")},1e3)},update:function(){var t=this;Global.ajax({time:t.vars.date},"/onair/update",function(a){if(a.data){if(t.vars.date=a.time,data=Global.jsonConvert(a.data),0==data.length)return!1;SongsClass.prototype.artist.add(data),$.each(data,function(){setTimeout(function(){t.__removeBlankAttr()},3e3)})}})},stopUpdate:function(){this.vars.timerHandle&&clearInterval(this.vars.timerHandle)},__removeBlankAttr:function(){$("#onair-tracklist .title").each(function(){$(this).children("a").removeAttr("target")}),$("#onair-artist li a").removeAttr("target")},closePage:function(){this.stopUpdate()}};
function OnlinePage(){}OnlinePage.prototype={init:function(){var t=this;SongsClass.prototype.track.bind(t.trackList.path.allList+" li",!0),$(t.trackList.path.allList+" li > .title").each(function(){var t=$(this).html();$(this).html(Global.common.highText(t))}),this.radioInfo.init(),this.black.init(),this.bindToPlayerEvents(),this.statistics.init(),this.initSimilarRadio(),this.initShareButton(),TracklistPage.prototype.inside.hideUrlToArtist("ul.tracklist-tiny")},initShareButton:function(){function t(t){t=parseInt(t);var a=PlayerUI.prototype.vars,e=a.current.name,i=location.protocol+"//"+location.host+a.current.slug_url;switch(t){case 0:return'<a target="_blank" href="'+i+'">Онлайн радиостанция '+e+"</a>";case 1:return'<a target="_blank" href="'+i+'" title="Онлайн радиостанция '+e+'"><img src="btn.gif"/*tpa=http://www.the-radio.ru/up/btn.gif*/ border="0"></a> ';case 2:return'[url="'+i+'"]Онлайн радиостанция '+e+"[/url]";case 3:return i}}var a=$("#share-radio-button"),e=$("#share-radio");e.length||$("#content").append(this.tpl.shareRadio),a.lightcase({maxWidth:670,showTitle:!1,overlayOpacity:.5,onFinish:{baz:function(){var a=$("#share-radio"),e=a.find("textarea").first();e.val(t(3)),a.find(".url-list li a").click(function(a){a.preventDefault();var i=$(this).attr("data-id");e.val(t(i))});var i=a.find("#copy-to-clipboard");i.click(function(t){t.preventDefault(),e.length&&(e.select(),document.execCommand("copy"),Global.msg.ok(Language.online.shareCopied,!0,5e3),setTimeout(function(){lightcase.lightcaseClose()},200))})}}})},initSimilarRadio:function(){var t=RadioClass.prototype,a=$(".radio-similar"),e=a.find(".item").length;e>=10?t.bind.similarityCarousel(".radio-similar"):t.bind.similarityCarousel(".radio-similar"),setTimeout(function(){a.find("a.current").removeAttr("href").parent().addClass("current");var t=PlayerUI.prototype;$(".radio-similar .owl-item").each(function(){var a=$(this);a.is("[data-ripple]")||a.hasClass("current")||a.attr("data-ripple","").rippleria({duration:700,easing:"linear",color:"rgba(0,0,0,0.05)",detectBrightness:!1}),a.find("a.item:not(.current)").on("click",function(a){t.vars.inited&&t.cast.vars.active&&t.cast.stop()})})},200),a.closest(".radio-carousel").find(".genre-accent").hide().removeClass("hidden").fadeIn(500),$(".url-similar").first().length&&t.bind.another(".url-similar",5);var i=a.find("a.current").parent().next().find("http://the-radio.ru/min/a.item").attr("href");i&&$(PlayerUI.prototype.toolbar.buttons.path.nextRadio).addClass("is-active").off("click").attr("href",i)},bindToPlayerEvents:function(){var t=this,a=PlayerUI.prototype;$(a.toolbar.path.main).on("play",function(){setTimeout(function(){var e=a.cast.streamGetActive();t.radioInfo.serverSet(e)},100)}),$(a.toolbar.path.main).on("title",function(){a.vars.current&&a.vars.current.onair&&OnlinePage.prototype.black.set(a.vars.current.onair)})},load:function(t,a){a=a||null;var e=PlayerUI.prototype;Sidebar.style.expand.markParent(parseInt(t.style_id),!0);var i=parseInt(t.id);if($.isNumeric(i)){var r=this,s=PlayerUI.prototype.cast,n=PlayerUI.prototype.toolbar;s.loadRadioForPlayer(t),n.radio.set(),t.message&&r.radioInfo.warningMessage(t.message),this.__loadURL(i,t.style_id,!1)}setTimeout(function(){null!==a&&(a=Object.keys(a).map(function(t){return a[t]}),a=a.sort(function(t,a){return t.sort-a.sort}),e.user.init(a))},2500)},__loadURL:function(t,a,e){var i=this,r=PlayerUI.prototype,s=PlayerUI.prototype.cast,n=PlayerUI.prototype.toolbar;Global.ajax({id:t,style_id:a},"/radio/url",function(o){if(r.vars.current.url=o.url,$(i.radioInfo.path.website).text(r.vars.current.url),o.data&&o.data.length)s.loadStreamsForPlayer(o.data),s.play(r.vars.current.streams);else if(e){Global.msg.no(Language.online.nStream,!0);var l=[];l.track={time:"",title:"",artist:Language.online.noStreamArtist,artist_url:"",song:Language.online.noStreamSong,ava:""},setTimeout(function(){n.track.set(l),s.stop()},2e3)}else setTimeout(function(){return i.__loadURL(t,a,!0)},1500)},function(){return e?(setTimeout(function(){s.stop()},1e3),Global.msg.no(Language.online.nStream,!0)):void setTimeout(function(){return i.__loadURL(t,a,!0)},1500)})},black:{vars:{title:""},path:{root:".black-player",title:".black-player .info .title",artist:".black-player .ava .name span",artist_url:".black-player .ava .name span",artist_text:".black-player .info .text",image:".black-player .ava .image",rating:".black-player .ratingbar",heart:".black-player .links .heart"},init:function(){var t=this;setTimeout(function(){t._bindAddToFav(),t.back.bind()},500)},set:function(t){if(t.track&&t.track.title_prepared){var a=$(this.path.root);PlayerUI.prototype.vars.current;if(a.length&&t.track.title!=this.vars.title){var e=t.artist;e&&e.artist_popularity?this.setRating(e.artist_popularity):this.hideRating(),$(this.path.title).html(t.track.title_prepared||Language.player.ntitle),"undefined"!=typeof t.artist&&$(this.path.artist_text).text(t.artist.artist_text||Language.player.ndesc);var i=t.track.artist||"";"undefined"!=typeof t.artist&&t.artist.artist_url?$(this.path.artist).html('<a href="'+t.artist.artist_url+'" target="_blank">'+t.artist.artist+"</a>"):i&&$(this.path.artist).html(i||Language.player.nartist),"undefined"!=typeof t.artist&&t.artist&&t.artist.ava?this.setImage(t.artist.ava,t.artist.ava_url):this.resetImage(),setTimeout(function(){OnlinePage.prototype.trackList.addToTracklist(t)},3e3),this.vars.title=t.track.title}}},setImage:function(t,a){a=a||t;var e=this,i=$(this.path.image+" a"),r=PlayerUI.prototype.toolbar.track.effects;i.length&&i.remove();var s=new Image;s.src=t,s.className="hidden",$(s).load(function(){$(e.path.image).html(s).find(" img").wrapAll('<a href="'+a+'" data-lighter></a>'),$(e.path.image+" img").css("opacity",".5").removeClass("hidden").slideDown(750,function(){$(this).animate({opacity:1},500).addClass(r[Math.floor(Math.random()*r.length)]).addClass("transition10")})})},resetImage:function(){var t=$(this.path.image+" img");t.length&&(t.addClass("no-fade"),t.animate({opacity:0},1e3,function(){t.parent("a").remove()}))},setRating:function(t){var a=$(this.path.rating),e=$(this.path.rating+" .progress");t=t||0,a.hasClass("tooltipstered")?a.tooltipster("content",Language.player.popularity+" "+t+" из 10"):a.tooltipster({debug:!1,animation:"grow",maxWidth:300,delay:500,position:"bottom",theme:"tomato-theme",content:Language.player.popularity+" "+t+" из 10"}),a.hasClass("hide")&&(e.width("0%"),a.removeClass("hide")),setTimeout(function(){e.width(t+"0%")},1e3)},hideRating:function(){var t=$(this.path.rating),a=$(this.path.rating+" .progress");a.width("0%"),setTimeout(function(){t.addClass("hide")},1500)},_bindAddToFav:function(){var t=$(this.path.heart);t.click(function(){var a=PlayerUI.prototype.vars;a.current.id>0&&(Global.overlay.show(),Global.ajax({radio_id:a.current.id,style_id:a.current.style_id},"/radio/addFav",function(){t.off("click"),t.attr("class","heart active")},function(a){a.responseText?Global.msg.no(a.responseText,!0):t.attr("class","heart")}))})},back:{path:{"return":".black-player .info .return-radio",return_timer:".black-player .info .return-timer"},timer:15e4,show:function(){var t=PlayerUI.prototype;$(t.toolbar.path.main).trigger("return_start"),this.__showTime()},hide:function(){var t=$(this.path.return_timer);t.hide(700)},setTime:function(t){var a=(new Date).getTime()+this.timer;Cookies.set(PlayerUI.prototype.cookie[1],a),Cookies.set(PlayerUI.prototype.cookie[2],t)},__showTime:function(){var t=this,a=parseInt(Cookies.get(PlayerUI.prototype.cookie[1])),e=Cookies.get(PlayerUI.prototype.cookie[2])||"/",i=$(this.path.return_timer);i.countdown({date:a,render:function(t){$(this.el).text(this.leadingZeros(t.min,2)+":"+this.leadingZeros(t.sec,2))},onEnd:function(){t.__removeTime(),t.hide(),PlayerUI.prototype.cast.muteVolume(!0,function(){$(location).attr("href",e)})}}).show(700)},__removeTime:function(){var t=this.path.return_timer;$(PlayerUI.prototype.toolbar.path.main).trigger("return_stop"),"object"==typeof $(t).data("countdown")&&($(t).data("countdown").stop(),$(t).removeData("countdown")),Cookies.remove(PlayerUI.prototype.cookie[1]),Cookies.remove(PlayerUI.prototype.cookie[2])},bind:function(){var t=Cookies.get(PlayerUI.prototype.cookie[1]);t&&this.show();var a=this,e=$(this.path.return_timer);e.on("click",function(t){t.preventDefault(),a.__removeTime(),a.hide(),Global.vars.newUser&&Global.msg.ok(Language.player.returnCancel,!0,4e3)}),$(this.path["return"]).on("click",function(t){t.preventDefault();var e=Cookies.get(PlayerUI.prototype.cookie[1]),i=window.location.href;e?(a.__removeTime(),a.setTime(i),a.show()):(a.setTime(i),a.show())})}}},radioInfo:{vars:{www:"",text:"",server:"",version:"",bitrate:"",rating:""},path:{website:".radio-description .info .site",text:".radio-description .text .main-text",server:".radio-description  .info .server ",version:".radio-description .info .version",bitrate:".radio-description .info .bitrate",rating:".radio-description .info .rating"},init:function(){Global.common.collapse(this.path.text),$(this.path.text).bind("copy",function(){Global.common.protectText()})},setText:function(t){t&&($(this.path.text).empty().text(t),$(this.path.text).removeData(),Global.common.collapse(this.path.text))},serverSet:function(t){var a=PlayerUI.prototype;if(t){var e=' &nbsp;&nbsp;<span class="c9 fxsmall">('+a.cast.getFormatByType(t.type)+")</span>";$(this.path.bitrate).html(t.bitrate&&$.isNumeric(t.bitrate)?t.bitrate+" kbps"+e:Language.msg.unknow)}},warningMessage:function(t){var a="#warning-message";if(!$(a).length){var e='<blockquote id="warning-message" style="margin: 0 -15px; border-top-left-radius: 10px;">'+t+"</blockquote>";$("#content .wzone").after(e),$("#warning-message").addClass("animated").addClass("fadeIn")}}},trackList:{path:{rootList:"#current-result",list:".tracklist-short-block .current .tracklist-tiny",topList:"#top-result",top:".tracklist-short-block .top .tracklist-tiny",allList:".tracklist-short-block .tracklist-tiny"},_renderList:function(t,a){var e=this,i={},r="",s=a?$.templates(e.tpl.track):$.templates(e.tpl.top);return $.each(t,function(t,a){a.title.length&&(i.title=a.title?a.title.toLowerCase():"",i.place="undefined"!=typeof a.place?'<span class="place">'+a.place+"</span>":"",i.artist=a.artist_url?e.tpl.urlList(a.artist,a.artist_url):a.artist,i.song=a.song?" - "+a.song:"",i.song=Global.common.highText(i.song),i.time=a.time,i.artist||i.song||(i.artist=i.title),r+=s.render(i))}),r},noTracklist:function(){$(this.path.list+" li").remove(),$(this.path.rootList+" .msg").remove(),0==$(this.path.rootList+" ul li").length&&$(this.path.rootList).prepend(this.tpl.message(Language.online.nTrackList))},noToplist:function(){$(this.path.top+" li").remove(),$(this.path.topList+" .msg").remove(),0==$(this.path.topList+" ul li").length&&$(this.path.topList).prepend(this.tpl.message(Language.online.nTopList))},addToTracklist:function(t){var a=$(this.path.list+" li").length,e=$(this.path.list+" li").first().attr("data-title"),i=t.track.title?t.track.title.toLowerCase():"";if(e=$.trim(e),i=$.trim(i),e==i)return!1;var r=$(this.path.rootList+" p.msg");if(0==a&&r.length&&r.remove(),t.track&&(t.track.artist||t.track.song)){var s=this;if(!t.track.time){var n=new Date,o=n.getHours().toString();1==o.length&&(o="0"+o);var l=n.getMinutes().toString();1==l.length&&(l="0"+l),t.track.time=o+":"+l}var c=[t.track];if(a>4){var p=$(this.path.list+" li").last();p.addClass("animated").addClass("fadeOutDown"),setTimeout(function(){p.hide().remove()},1e3)}setTimeout(function(){$(s._renderList(c,!0)).addClass("animated").addClass("fadeInDown").prependTo(s.path.list),setTimeout(function(){var t=s.path.list+" li:first-child";SongsClass.prototype.track.bind(t),$(t).removeClass("animated").removeClass("fadeInDown")},1e3)},1e3)}},tpl:{message:function(t){return'<p class="msg">'+t+"</p>"},track:'<li data-title="{{:title}}"><span class="play"><a href="#"></a></span><span class="time">{{:time}}</span><span class="title"> {{if artist && song}} {{:artist}} {{:song}}  {{else}} {{:title}} {{/if}} </span><span class="social"><a href="#" class="find no-fade"></a></span></li>',top:'<li><span class="play"><a href="#"></a></span>{{:place}}<span class="title">{{if artist && song}} {{:artist}} {{:song}}  {{else}} {{:title}} {{/if}} </span><span class="social"><a href="#" class="find no-fade"></a></span></li>',urlList:function(t,a){return'<a href="'+a+'" target="_blank">'+t+"</a>"}}},statistics:{skipFirst:!1,path:{chart:".stream-chart",maxrow:".stream-statistics .small-tbl .maxrow",max:".stream-statistics .small-tbl .max",peak:".stream-statistics .small-tbl .peak",current:".stream-statistics .small-tbl .current",blocks:{loading:".stream-statistics .loading",statistic:".stream-statistics .statistics",locked:".stream-statistics .disabled"}},init:function(){if("undefined"!=typeof CURRENT_RADIO_STATISTICS&&CURRENT_RADIO_STATISTICS.length&&CURRENT_RADIO_STATISTICS[0]){if(0==CURRENT_RADIO_STATISTICS[0].length)return!1;CURRENT_RADIO_STATISTICS.reverse();var t=this.__convertData(CURRENT_RADIO_STATISTICS);this.drawChart(t.data,t.peak,t.max),this.skipFirst=!0}},load:function(t){if(this.skipFirst)return this.skipFirst=!1,!1;if(t.statistics&&(t=t.statistics),t.locked)return this.lockedStream();if(!t.data)return!1;var a=PlayerUI.prototype,e=t.data;e&&e.url&&($.each(e.url,function(t,a){a.reverse()}),a.vars.current.statistics=e.url,this.render())},render:function(){var t=this,a=PlayerUI.prototype.vars.current,e=$(this.path.chart);if(a.statistics&&e.length){var i=PlayerUI.prototype,r=i.cast.streamGetActive();r&&r.url&&$.each(a.statistics,function(a,e){if(a.toUpperCase()==r.url.toUpperCase()){var i=t.__convertData(e);return t.drawChart(i.data,i.peak,i.max),!1}})}},__convertData:function(t){var a,e,i=this,r={labels:[],series:[]},s=[];return $.each(t,function(n,o){o.current&&o.label&&(r.labels.push(o.label),s.push(parseInt(o.current)),o.peak&&!a&&(a=o.peak),o.max&&!e&&(e=o.max)),n+1==t.length&&i.setCurrentPeakMax(o.current,o.peak,o.max||0)}),s.length&&r.series.push(s),{data:r,peak:a,max:e}},drawChart:function(t,a,e){var i=0,r=e?e:a;t.series&&t.series[0]&&t.series[0][0]&&t.series[0][0]>0&&(i=Math.round(t.series[0][0]/4),r=i+t.series[0][0]);var s=new Chartist.Line(this.path.chart,t,{showArea:!0,fullWidth:!0,onlyInteger:!0,referenceValue:10,plugins:[Chartist.plugins.tooltip()]});s.on("created",function(){var t=$(".ct-grids .ct-horizontal"),a=$(".ct-grids .ct-vertical"),e=$(".ct-labels .ct-end");t.first().hide(),t.last().hide(),a.first().hide(),a.last().hide(),e.css("margin-left","-15px")});var n=$(this.path.blocks.loading),o=$(this.path.blocks.statistic),l=$(this.path.blocks.locked);n.hasClass("hidden")||n.addClass("hidden"),o.hasClass("hidden")&&o.removeClass("hidden").show(500),l.length&&l.remove()},setCurrentPeakMax:function(t,a,e){var i=$(this.path.current),r=$(this.path.peak),s=$(this.path.max),n=$(this.path.maxrow);i.text(this.__format(t)),r.text(this.__format(a)),0==parseInt(e)?(n.hide(),s.text("-")):(n.show(),s.text(this.__format(e)))},lockedStream:function(){var t=$(this.path.blocks.loading),a=$(this.path.blocks.statistic),e=$(this.path.blocks.locked);if(!e.length){var i='<blockquote class="disabled">'+Language.online.noStatistics+"</blockquote>";a.after(i)}a.addClass("hidden"),t.addClass("hidden")},__format:function(t){return t?t.replace(/(\d{1,3}(?=(\d{3})+(?:\.\d|\b)))/g,"$1 "):t}},tpl:{shareRadio:'<div id="share-radio" class="iwish" style="display: none;">\n    <div class="wrap" style="padding: 10px 5px 20px 5px;">\n        <div class="row">\n            <div class="large-12 column">\n                <div class="head">\n                    <h3 class="text-left">Ссылки на эту радиостанцию</h3>\n                    <p class="text-left fsmall">Если Вам понравилось это онлайн радио, Вы можете разместить ссылку на его онлайн вещание</p>\n                </div>\n            </div>\n        </div>\n\n        <div class="row list">\n            <div class="large-4 columns">\n                <ul class="url-list">\n                    <li class="img-arrow"><a class="fade" href="#" data-id="3">Адрес радио</a></li>\n                    <li class="img-arrow"><a class="fade" href="#" data-id="0">Код ссылки на радио</a></li>\n                    <li class="img-arrow"><a class="fade" href="#" data-id="1">Код для кнопки</a></li>\n                    <li class="img-arrow"><a class="fade" href="#" data-id="2">BB код форумов</a></li>\n                </ul>\n            </div>\n\n            <div class="forms large-8 columns">\n                <div class="in">\n                    <textarea readonly onclick="this.focus(); this.select();"></textarea>\n                </div>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="large-12">\n                <div class="bottom">\n\n                    <div class="row">\n                        <div class="large-9 columns">\n                            Для того чтобы скопировать полученный код вы можете выделить весь код в поле и нажать на клавиатуре Ctr+C. Либо просто кликнуть по кнопке\n                        </div>\n\n                        <div class="button-wrap large-3 columns right">\n                            <a id="copy-to-clipboard" href="#" class="button">Скопировать код</a>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'}};
function PlayerUI(){}PlayerUI.prototype={cookie:["volume","return_time","return_url"],vars:{inited:!1,current:{},title:"",preplay:{id:0,disable:!1}},options:{isMobile:null},init:function(){this.vars.inited||(this.toolbar.createPlayer(),this.toolbar.init(),this.vars.inited=!0,this.options.isMobile=Global.mobile.isMobile(),this.cast.init(),this.extensions.register())},getRadios:function(t,a){var e=[];Global.ajax({id:t},"/radio",function(t){return t.data&&t.data.length&&$.each(t.data,function(t,a){e.push(a)}),"function"==typeof a&&a(e),e})},toolbar:{path:{main:"#main-player",play_button:"#main-player .ui .play"},createPlayer:function(){var t=this,a=PlayerUI.prototype,e=$(this.path.main);if(!e.length){var n=$("footer");n.first().after(PlayerUI.prototype.tpl.player),a.emit("created"),Global.tips.bind(t.path.main+" .tip")}},init:function(){var t=this,a=PlayerUI.prototype,e=PlayerUI.prototype;if("object"==typeof noUiSlider&&(e.toolbar.track.path.volume=document.getElementById("range-volume"),e.toolbar.track.path.volume)){var n=Cookies.get(e.cookie[0]);n||(n=100,Cookies.set(e.cookie[0],100)),noUiSlider.create(e.toolbar.track.path.volume,{animate:!0,start:[n],step:1,range:{min:0,max:100}})}setTimeout(function(){t.radio.bindFavorites(),t.track.init(),t.buttons.init(),e.history.init(),a.emit("init")},500)},show:function(){var t=this,a=0,e=PlayerUI.prototype,n=$(t.path.main);n.hasClass("hidden")&&n.removeClass("hidden");var r=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,i=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;r||i||e.options.isMobile?(n.show(500).css({bottom:a+"px",opacity:"1"}),e.emit("show")):"0"==n.css("opacity")&&setTimeout(function(){n.animated("fadeInUp"),e.emit("show")},1e3)},radio:{path:{ava:"#main-player .station .ava .def",name:"#main-player .station .name",style:"#main-player .station .text a.style",heart:"#main-player .station .text .heart"},reset:function(){var t=this;$(t.path.ava).empty(),$(t.path.name).text(Language.player.nradio),$(t.path.style).text(Language.player.nstyle).attr("href","javascript:void(0)")},set:function(){var t=this,a=PlayerUI.prototype.vars.current;"undefined"!=typeof a.styleInfo.pureName&&$(t.path.style).attr("href",a.styleInfo.url||"javascript:void(0)").attr("data-pjax","data-pjax").html(a.styleInfo.pureName);var e=a.name||Language.player.nradio,n='<a class="fade" href="'+a.slug_url+'">'+e+"</a>";$(t.path.name).html(n).attr("title",e),"undefined"!=typeof a.image&&a.image.length?($(t.path.ava+" img").length&&$(t.path.ava+" img").hide(500,function(){$(this).remove()}),$('<img src="'+a.image+'" class="hide" />').hide().appendTo(t.path.ava).show(700)):$(t.path.ava+" img").hide(300,function(){$(this).remove()})},bindFavorites:function(){var t=$(this.path.heart);t.click(function(a){var e=PlayerUI.prototype.vars;e.current.id>0&&(Global.overlay.show(),Global.ajax({radio_id:e.current.id,style_id:e.current.style_id},"/radio/addFav",function(){t.attr("class","heart active")},function(a){a.responseText?Global.msg.no(a.responseText,!0):t.attr("class","heart")}))})},pulseHeart:function(){var t=$(this.path.heart);setTimeout(function(){t.attr("class","heart pulse")},200),setTimeout(function(){t.attr("class","heart")},2e3)}},track:{vars:{ava_img:""},effects:["ava-rotate","ava-rotateX","ava-rotateY"],path:{ava:"#main-player .ui .ava .def",allBtn:"#main-player .ui .block-2",playBtn:"#main-player .ui .play-button",stopBtn:"#main-player .ui .stop-button",loadBtn:"#main-player .ui .loader",title:"#main-player .ui .title",artist:"#main-player .ui .title .artist",song:"#main-player .ui .title .song",volume:"#range-volume"},init:function(){var t=this,a=PlayerUI.prototype,e=$(t.path.volume);t.path.volume&&e.length&&(t.path.volume.noUiSlider.on("change",function(t,e){a.toolbar.track.volumeSet(Math.round(t[e]))}),t.path.volume.noUiSlider.on("update",function(t,e){a.cast.vars.player.active&&null===a.cast.vars.player.volInterval&&a.cast.setVolume(Math.round(t[e]))}),t.path.volume.noUiSlider.on("start",function(){e.addClass("active")}),t.path.volume.noUiSlider.on("end",function(){e.removeClass("active")})),this.initPlayStop()},initPlayStop:function(){var t=PlayerUI.prototype,a=$(this.path.stopBtn),e=$(this.path.playBtn);e.click(function(a){a.preventDefault();var e=$(this).children("a");e.addClass("active"),setTimeout(function(){e.removeClass("active")},500),setTimeout(function(){t.vars.current&&t.vars.current.streams&&t.cast.play(t.vars.current.streams)},300)}),a.click(function(a){a.preventDefault(),t.cast.stop()})},reset:function(){var t=this,a=PlayerUI.prototype;$(a.toolbar.radio.path.heart).attr("class","heart"),$(t.path.ava).empty(),this.loadStreamShow(),this.resetTitle()},resetTitle:function(t){t?($(this.path.artist).text(t),$(this.path.song).hide().text("")):($(this.path.artist).text(Language.player.nartist),$(this.path.song).show().text(Language.player.nsong))},set:function(t){var a=this,e=PlayerUI.prototype.vars,n=$(a.path.artist),r=$(a.path.song),i=$(a.path.title);if("undefined"!=typeof e.current&&("undefined"==typeof e.current.onair&&(e.current.onair={}),e.current.onair=t),e.title=t.track.title||"",i.attr("title")!=e.title&&($(a.path.title).attr("title",t.track.title),"undefined"!=typeof t.artist&&"undefined"!=typeof t.artist.artist_url&&t.artist.artist_url.length>0?(t.track.artist&&n.empty().append('<a class="fade" target="_blank" href="'+t.artist.artist_url+'"></a>'),$(a.path.artist+" a").html(t.track.artist||Language.player.nartist)):n.empty().html(t.track.artist||Language.player.nartist),r.hide().empty().html(t.track.song||Language.player.nsong).fadeIn(500),t.track.artist||t.track.song||!t.track.title_prepared||(n.html(t.track.title_prepared),r.html("").addClass("hidden")),r&&r.html().length>0&&r.hasClass("hidden")&&r.removeClass("hidden")),"undefined"!=typeof t.artist&&a.vars.ava_img!=t.artist.ava)if("undefined"!=typeof t.artist.ava&&t.artist.ava.length>0){a.vars.ava_img=t.artist.ava,$(a.path.ava+" img").length&&$(a.path.ava+" img").hide(500,function(){$(this).parent("a").remove(),$(this).remove()});var s=new Image;s.id="toolbar_avatar",s.src=t.artist.ava,s.className="hidden",$(s).load(function(){$(a.path.ava).html(s),setTimeout(function(){$(a.path.ava+" img").css("opacity",".5").slideDown(750,function(){$(this).animate({opacity:1},500).addClass(a.effects[Math.floor(Math.random()*a.effects.length)]).addClass("transition10")}).wrapAll('<a href="'+t.artist.ava_url+'" data-lighter></a>').removeClass("hidden")},500)})}else $(a.path.ava+" img").hide(300,function(){$(this).parent("a").remove(),$(this).remove()})},loadStreamShow:function(){var t=$(this.path.loadBtn),a=$(this.path.playBtn),e=$(this.path.stopBtn);a.addClass("hidden"),e.addClass("hidden"),t.removeClass("hidden")},playButtonShow:function(){var t=$(this.path.loadBtn),a=$(this.path.playBtn),e=$(this.path.stopBtn);t.addClass("hidden"),e.addClass("hidden"),a.removeClass("hidden")},stopButtonShow:function(){var t=$(this.path.loadBtn),a=$(this.path.playBtn),e=$(this.path.stopBtn);a.addClass("hidden"),t.addClass("hidden"),e.removeClass("hidden")},volumeSet:function(t,a){var e=this;if($.isNumeric(t)){if(Cookies.set(PlayerUI.prototype.cookie[0],t,{expires:365}),a)return!1;e.path.volume.noUiSlider.set(t),PlayerUI.prototype.cast.setVolume(t)}},bitrate:{path:{root:"#main-player .ui .volume .bitrate",speed:"#main-player .ui .volume .bitrate .speed",format:"#main-player .ui .volume .bitrate .format",list:"toolbar-player-bitrate",listItem:".toolbar-player-bitrate li"},index:-1,radio_id:0,init:function(t){var a=this,e="",n="";this.radio_id!=PlayerUI.prototype.vars.current.id&&(this.radio_id=PlayerUI.prototype.vars.current.id,this.index=-1),t.length>1?($(t).each(function(t,n){if(parseInt(n.type)>=0){var r=parseInt(a.index)==t?'<li class="active">':"<li>";e+=r+' <a href="javascript:void(0)" data-index="'+t+'"> <span class="speed">'+n.bitrate+' kbps</span> <span class="format">'+PlayerUI.prototype.cast.getFormatByType(n.type)+"</span> </a> </li>"}}),n='<ul class="'+this.path.list+'">'+e+"</ul>"):n='<div class="'+this.path.list+'"><div class="no-stream">'+Language.player.noStream+"</div></div>";var r=$(this.path.root);r.hasClass("tooltipstered")?r.tooltipster("content",n):r.tooltipster({debug:!1,contentAsHTML:!0,interactive:!0,animation:"fade",delay:100,touchDevices:!0,content:$(n),functionReady:function(){var t=PlayerUI.prototype;$(a.path.listItem+" a").click(function(){var e=$(this).attr("data-index");return a.index!=e&&(a.index=e,void(t.vars.current.streams[e]&&(t.cast.stop(),t.emit("load"),t.cast.streamSetActive(t.vars.current.streams[e].url),setTimeout(function(){t.cast.play(null)},200),$(a.path.root).tooltipster("hide"))))})}})},setNew:function(t,a){if(!t)return!1;var e=PlayerUI.prototype.cast,n=$(this.path.speed),r=$(this.path.format);n.hide().html(t.bitrate+"k").show(200),r.hide().html(e.getFormatByType(t.type)).show(500)}}},buttons:{path:{root:"#main-player",social:"#main-player .buttons .social-search",my:"#main-player .buttons .share",nextRadio:"#main-player .buttons .next-radio",history:"#main-player .buttons .history"},init:function(){this.next(),this.social()},next:function(){var t=this,a=PlayerUI.prototype,e=$(t.path.nextRadio);e.hasClass("is-active")||e.on("click",function(t){t.preventDefault(),Global.overlay.show(),Global.ajax({radio_id:a.vars.current.id,style_id:a.vars.current.style_id},"/radio/next",function(t){t.url&&$(location).attr("href",t.url)},function(){Global.overlay.hide()}),e.off("click")})},social:function(){var t=this;$(t.path.social).on("click",function(t){t.preventDefault();var a=PlayerUI.prototype,e="",n=$(a.toolbar.track.path.artist).text(),r=$(a.toolbar.track.path.song).text();n!=Language.player.nartist&&(e=n,r.length&&(e+=" - "+r)),e.length?SongsClass.prototype.find.showSocialButton($("#bar-social-search"),e,50):Global.msg.no(Language.player.ntitle,!0)})}}},cast:{vars:{url:"",url_default:[],active:!1,player:null},init:function(){this.vars.player=PlayerCore.prototype,this.vars.player.init()},loadRadioForPlayer:function(t,a){var e=PlayerUI.prototype;PlayerCore.prototype.loadNewRadio(),a?(e.vars.current.onair={},e.vars.current.onair=t):(t.streams&&$.each(t.streams,function(a){t.streams[a].active=!1}),e.vars.current=t)},loadStreamsForPlayer:function(t){var a=PlayerUI.prototype;$.each(t,function(a){t[a].active=!1,t[a].type=parseInt(t[a].type),t[a].bitrate=parseInt(t[a].bitrate)}),a.vars.current.streams={},a.vars.current.streams=t},streamSetActive:function(t){var a=PlayerUI.prototype.vars,e=!1;return a.current&&a.current.streams&&($.each(a.current.streams,function(n,r){a.current.streams[n].active=r.url==t,r.url==t&&(e=r)}),e||$.each(a.current.streams,function(t,n){return a.current.streams[t].active=!0,e=n,!1})),e},streamGetActive:function(){var t=PlayerUI.prototype.vars,a=!1;return t.current&&t.current.streams&&$.each(t.current.streams,function(t,e){if(e.active)return a=e,!1}),a},streamsSort:function(t){var a=[],e={low:[],mid:[],high:[]},n={low:[],mid:[],high:[]},r={low:[],mid:[],high:[]};return $.each(t,function(t,a){var i=parseInt(a.bitrate),s=parseInt(a.type);i>128&&(0===s?e.high.push(a):1===s?n.high.push(a):2===s&&r.high.push(a)),i<=128&&i>=96&&(0===s?e.mid.push(a):1===s?n.mid.push(a):2===s&&r.mid.push(a)),i<96&&(0===s?e.low.push(a):1===s?n.low.push(a):2===s&&r.low.push(a))}),e.high.length&&$.each(e.high,function(t,e){a.push(e)}),n.high.length&&$.each(n.high,function(t,e){a.push(e)}),e.mid.length&&$.each(e.mid,function(t,e){a.push(e)}),n.mid.length&&$.each(n.mid,function(t,e){a.push(e)}),e.low.length&&$.each(e.low,function(t,e){a.push(e)}),n.low.length&&$.each(n.low,function(t,e){a.push(e)}),a=Global.common.sortArrayByKey(a,"bitrate"),r.high.length&&$.each(r.high,function(t,e){a.push(e)}),r.mid.length&&$.each(r.mid,function(t,e){a.push(e)}),r.low.length&&$.each(r.low,function(t,e){a.push(e)}),a=this.__streamsSortForChromeAndOpera(a)},__streamsSortForChromeAndOpera:function(t){function a(){var t=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return!!t&&parseInt(t[2],10)}var e=PlayerUI.prototype,n=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),r=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,i=parseInt(a());if((r||n)&&55==i&&!e.options.isMobile){for(var s=[],o=t.length-1;o>=0;o--){var l=t[o],p="undefined"!=typeof l.version?parseFloat(l.version)||0:0;if("shoutcast"==l.server){var c=l.url.indexOf(":80/")>-1;p<2.3&&!c&&(s.push(l),t.splice(o,1))}}t.length>1&&(t=Global.common.sortArrayByKey(t,"bitrate")),s.length>1&&(s=Global.common.sortArrayByKey(s,"bitrate")),s.length&&$.each(s,function(a,e){t.push(e)})}return t},getFormatByType:function(t){t=parseInt(t);var a="mp3";switch(t){case 0:a="mp3";break;case 1:a="aac";break;case 2:a="ogg"}return a},runPreplay:function(t,a){var e=this,n=PlayerUI.prototype;if(t=parseInt(t),n.vars.preplay.id==t)return!1;if($.isNumeric(t)&&t>0){var r=!1;$.each(a,function(a,e){if(parseInt(e.id)==t)return r=e,!1}),r&&(n.vars.preplay.disable=!0,e.__preplay(r))}setTimeout(function(){n.vars.preplay.disable=!1},2e3)},__preplay:function(t){var a=this,e=PlayerUI.prototype,n=t.streams.length||0;return 0==n?(Global.msg.warn(Language.online.nStream+"<br><br>"+Language.online.noStreamSong),!1):(e.cast.loadRadioForPlayer(t),void(e.vars.inited?(e.cast.stop(),e.toolbar.track.reset(),a.__prepareRunFinally(t)):(e.init(),e.toolbar.radio.reset(),e.toolbar.track.reset(),e.toolbar.show(),a.__prepareRunFinally(t))))},__prepareRunFinally:function(t){var a=PlayerUI.prototype;a.toolbar.radio.set(t),t.streams&&t.streams.length&&(a.cast.event.streamsGet(),a.cast.play(t.streams),a.vars.preplay.id=t.id)},setVolume:function(t){return null!=this.vars.player&&void this.vars.player.volume(t.toString())},muteVolume:function(t,a){return null!=this.vars.player&&void this.vars.player.mute(a,t)},incrementError2Stream:function(t){var a=PlayerUI.prototype;a.vars.current.streams&&$.each(a.vars.current.streams,function(a,e){if(e.url==t)return e.error++,!1})},play:function(t){function a(t){var r=-1,i=2;if($.each(t,function(t,a){if(a.active)return r=t,!1}),r==-1&&$.each(t,function(t,a){if(parseInt(a.error)<i)return r=t,!1}),!(r>-1&&t[r].error<=i))return"undefined"!=typeof t[r+1]?(e.event.errors(t,!0),n.emit("load"),"undefined"!=typeof t[r]&&(t[r].active=!1),t[r+1].active=!0,a(t)):e.event.errors(t,!1);var s=t[r];0==s.error&&n.toolbar.track.bitrate.setNew(s,r),e.playStream(s.url,function(t){return e.event.play(t)},function(){return(!n.options.isMobile||!e.vars.player.active)&&(e.stop(),e.incrementError2Stream(s.url),n.options.isMobile?void 0:a(t))})}var e=this,n=PlayerUI.prototype;this.event.beforePlay(t),t=n.vars.current.streams,t&&t[0]&&t[0].url&&($(t).each(function(t,a){a.error=0}),a(t))},playStream:function(t,a,e){var n=this,r=PlayerUI.prototype;return r.cast.event.load(),r.cast.vars.player.play(t,function(t){"undefined"!=typeof a&&a(t)},function(t){n.event.error();var a=window.navigator.userAgent.indexOf("/12.")>-1&&window.navigator.userAgent.indexOf("Presto/")>-1;if(!a)return e()}),!1},stop:function(){var t=PlayerUI.prototype;t.cast.vars.player&&(t.cast.vars.player.stop(),this.event.stop())},event:{once:{inc:!1,dec:!1},handle:{errorSended:!1,statisticsInterval:0},streamsGet:function(){this.handle.errorSended=!1},load:function(){Global.vars.debug&&console.warn("load")},play:function(t,a){Global.vars.debug&&console.warn("play");var e=this,n=PlayerUI.prototype,r=PlayerUI.prototype.vars,i=PlayerUI.prototype.cast;PlayerUI.prototype.toolbar.track;if(i.streamSetActive(t),"undefined"!=typeof a&&a(),!e.once["in"]&&r.current&&r.current.id&&r.current.style_id){var s={radio_id:r.current.id,style_id:r.current.style_id,data:t};Global.ajax(s,"/radio/stats",function(t){e.once.inc=!0,t&&OnlinePage.prototype.statistics.load(t)})}e.handle.statisticsInterval&&clearInterval(e.handle.statisticsInterval),e.handle.statisticsInterval=setInterval(function(){Global.ajax({radio_id:r.current.id,url:t},"/radio/statistics",function(t){t&&OnlinePage.prototype.statistics.load(t)})},128e3),n.history.add(r.current.id),setTimeout(function(){n.toolbar.radio.pulseHeart()},1e3)},stop:function(){Global.vars.debug&&console.warn("stop"),this.handle.statisticsInterval&&clearInterval(this.handle.statisticsInterval)},error:function(){Global.vars.debug&&console.warn("error");var t=PlayerUI.prototype;t.cast.stop(),t.vars.preplay.disable=!1},errors:function(t,a){var e=this,n=PlayerUI.prototype;return this.error(),!this.handle.errorSended&&void(a||(n.emit("broken"),Global.msg.no(Language.player.radioNotWorked(),!0),n.toolbar.track.resetTitle(),n.options.isMobile||(this.handle.errorSended=!0,setTimeout(function(){var a={radio_id:n.vars.current.id,style_id:n.vars.current.style_id,data:t,error:!0};Global.ajax(a,"/radio/stats",function(){e.once.dec=!0})},500))))},beforePlay:function(t){var a=PlayerUI.prototype;a.emit("before"),t&&a.vars.current.streams&&t.length>1&&(a.vars.current.streams=a.cast.streamsSort(t)),a.toolbar.track.bitrate.init(a.vars.current.streams)}}},user:{data:{list:!1},init:function(t){this.data.list=t,this.generate()},generate:function(){var t=$(PlayerUI.prototype.toolbar.buttons.path.my),a=PlayerUI.prototype.vars.current.id,e="",n="",r=window.innerHeight-80,i=50,s=Math.floor(r/i);if(this.data.list.length>0){var o,l=0;$(this.data.list).each(function(t,n){l<s&&a!=n.radio_id&&(o=""==n.image?"radio-default.png"/*tpa=http://the-radio.ru/img/radio-default.png*/:n.image,e+='<li class="fade" data-id="'+n.id+'"><a class="item" href="'+n.slug_url+'"><div class="image"><img src="'+o+'"></div><div class="info"><span class="name">'+n.name+'</span><span class="style">'+n.styleInfo.pureName+"</span></div></a></li>",o="",l++)}),n=0==l?'<span style="color:#fff">'+Language.player.onlyOne+"</span>":'<ul class="toolbar-player-favorites">'+e+"</ul>",t.tooltipster("destroy").tooltipster({debug:!1,contentAsHTML:!0,interactive:!0,animation:"fade",offsetX:-50,delay:100,maxWidth:260,touchDevices:!0,content:n,theme:"dark-theme"}),this.data.list=[]}}},history:{key:"recent",ids:[],list:[],rendered:!1,init:function(){var t=this,a=PlayerUI.prototype,e=$(a.toolbar.buttons.path.history);this.ids=t.getCookie(),e.click(function(a){a.preventDefault(),t.showList()})},showList:function(){var t=this,a=[];this.ids=t.getCookie(),$.each(t.ids,function(e,n){var r=t.existInList(n);if(!r)return a=t.ids,!1}),a.length?this.getFromServer(a,function(){t.render()}):t.render()},getFromServer:function(t,a){var e=this,n=PlayerUI.prototype;n.getRadios(t,function(t){1==t.length?e.list.pop(t[0]):e.list=t,"function"==typeof a&&a()})},render:function(){var t='<span style="color:#fff">'+Language.player.noHistory+"</span>",a=$(PlayerUI.prototype.toolbar.buttons.path.history);if(a.hasClass("tooltipstered")&&a.tooltipster("destroy"),this.list.length){var e="";$.each(this.list,function(t,a){var n=""==a.image?"radio-default.png"/*tpa=http://the-radio.ru/img/radio-default.png*/:a.image,r=a.styleInfo&&a.styleInfo.pureName?a.styleInfo.pureName:"";e+='<li class="fade" data-id="'+a.id+'"><a class="item" href="'+a.slug_url+'"><div class="image"><img src="'+n+'"></div><div class="info"><span class="name">'+a.name+'</span><span class="style">'+r+"</span></div></a></li>",n=""}),e.length&&(t='<ul class="toolbar-player-favorites">'+e+"</ul>")}a.tooltipster({debug:!1,contentAsHTML:!0,interactive:!0,animation:"fade",trigger:"click",maxWidth:260,touchDevices:!0,content:t,theme:"dark-theme"}),this.rendered||(this.rendered=!0,a.tooltipster("show"))},add:function(t){var a=PlayerUI.prototype.vars;this.exist(t)||(this.ids.length>4&&(this.ids.pop(),this.list.pop()),this.ids.unshift(t),a.current.id&&parseInt(t)==parseInt(a.current.id)&&this.list.unshift(a.current),this.__updateCookie())},__updateCookie:function(){var t=[];$.each(this.ids,function(a,e){t.push(e)}),t.length>0&&Cookies.set(this.key,JSON.stringify(t),{expires:365})},getCookie:function(){var t=JSON.parse(Cookies.get(this.key)||"[]");return t.length&&$.each(t,function(a,e){t[a]=parseInt(e)}),t},exist:function(t){var a=!1;return t=parseInt(t),$.each(this.ids,function(e,n){if(t==parseInt(n))return a=!0,!1}),a},existInList:function(t){var a=!1;return t=parseInt(t),$.each(this.list,function(e,n){if(t==parseInt(n.id))return a=!0,!1}),a}},extensions:{register:function(){this.controlButtons.init(),this.title.init(),this.collapser.init()},controlButtons:{vinylTimeout:!1,init:function(){var t=this,a=PlayerUI.prototype.toolbar,e=$(a.path.main),n=a.track,r=$(a.track.path.ava).parent();e.on("play",function(){setTimeout(function(){n.stopButtonShow()},300),t.vinylTimeout&&clearTimeout(t.vinylTimeout),t.vinylTimeout=setTimeout(function(){r.removeClass("stop-vinyl").addClass("play-vinyl")},600)}).on("load",function(){var t=PlayerUI.prototype.cast.vars.player;null==t||t.active||n.loadStreamShow()}).on("stop",function(){n.playButtonShow(),t.vinylTimeout&&clearTimeout(t.vinylTimeout),r.removeClass("play-vinyl").addClass("stop-vinyl")}).on("error",function(){n.loadStreamShow()}).on("broken",function(){setTimeout(function(){n.playButtonShow()},500),t.vinylTimeout&&clearTimeout(t.vinylTimeout),r.removeClass("play-vinyl").addClass("stop-vinyl")})}},title:{handle:0,ajax:!1,interval:37e3,disableOnce:!1,init:function(){var t=this,a=$(PlayerUI.prototype.toolbar.path.main);a.on("play",function(){setTimeout(function(){t.handle||(t.__runGetTitle(),t.handle=setInterval(function(){t.__runGetTitle()},t.interval))},1e3)}).on("stop",function(){t.__stopGetTitle()}).on("error",function(){t.__stopGetTitle()})},__runGetTitle:function(){if(this.disableOnce)return this.disableOnce=!1,!1;var t=this,a=PlayerUI.prototype,e=PlayerUI.prototype.vars.current,n=parseInt(e.title_off);if(n>0)return a.toolbar.track.resetTitle(Language.player.title_off),!1;var r=a.cast.streamGetActive();r&&(this.ajax&&4!=this.ajax.readyState&&this.ajax.abort(),this.ajax=Global.ajax(e,"/radio/title",function(t){var n=t.result&&t.track&&t.track.title&&t.track.title.length;!n&&e.onair||(a.toolbar.track.set(t),a.cast.loadRadioForPlayer(t,!0),a.emit("title"))},function(a){504==a.status&&t.__stopGetTitle()}))},__stopGetTitle:function(){this.ajax&&4!=this.ajax.readyState&&this.ajax.abort(),this.handle&&(clearInterval(this.handle),this.handle=0)}},collapser:{handle:null,init:function(){var t=PlayerUI.prototype;$(document).on("pjax:complete",this.autoCollapsePlayer),t.on("show",this.autoCollapsePlayer)},autoCollapsePlayer:function(){var t=PlayerUI.prototype.extensions.collapser,a=$("footer").last();null!=t.handle&&(t.handle.destroy(),t.handle=null),t.handle=new Waypoint({element:a[0],handler:function(a){"down"===a?t.expand():t.collapse()},offset:"90%"})},collapse:function(){var t=$(".player .hidebar"),a=$(PlayerUI.prototype.toolbar.path.main);a.animate({bottom:"0",opacity:"toggle"},800,function(){t.removeClass("active")})},expand:function(){var t=$(".player .hidebar"),a=$(PlayerUI.prototype.toolbar.path.main);a.animate({bottom:"-71px",opacity:"toggle"},800,function(){t.removeClass("active")})}}},emit:function(t){$(this.toolbar.path.main).trigger(t)},on:function(t,a){$(this.toolbar.path.main).on(t,a)},tpl:{player:'<div id="main-player" class="player hidden">\n    <div class="row hidebar">\n\n        <!--информация о станции-->\n        <div class="station large-3 medium-4 small-3 hide-for-small-down columns"><div class="row">\n\n            <div class="ava large-3 medium-3 hide-for-small-down columns">\n                <span class="def"></span>\n            </div>\n\n            <div class="text large-9 medium-9 columns">\n                <span class="name">-</span>\n                \n                <a href="#" class="style fade">\n                    Стиль не известен\n                </a>\n                \n\n                <div class="links tip" title="Добавить в избранное">\n                    <svg class="heart" viewBox="0 0 32 29.6">\n                        <path d="M23.6,0c-3.4,0-6.3,2.7-7.6,5.6C14.7,2.7,11.8,0,8.4,0C3.8,0,0,3.8,0,8.4c0,9.4,9.5,11.9,16,21.2\n\tc6.1-9.3,16-12.1,16-21.2C32,3.8,28.2,0,23.6,0z"/>\n                    </svg>\n                </div>\n\n            </div>\n\n        </div></div>\n\n\n        <!--Элементы управления радио-->\n        <div class="ui large-6 medium-6 small-12 columns"><div class="row">\n\n            <!--Область аватарки артиста-->\n            <div class="block-1">\n                <div class="ava large-3 columns">\n                    <span class="def"></span>\n                </div>\n            </div>\n\n            <!--Кнопки Play/Stop/Load-->\n            <div class="block-2">\n\n                <div class="control">\n                    <div class="play-button hidden"><a class="play"></a></div>\n                    <div class="stop-button hidden"><a class="stop"></a></div>\n                    <div class="loader">\n                        <span></span>\n                        <span></span>\n                        <span></span>\n                        <span></span>\n                        <span></span>\n                        <span></span>\n                        <span></span>\n                    </div>\n                </div>\n\n\n            </div>\n\n            <div class="block-3">\n                <div class="title">\n                    <span class="label">В эфире: &nbsp;&nbsp;</span>\n                    \n                    <span class="artist">Исполнитель неизвестен</span>\n                    <span class="song">песня неизвестна</span>\n                    \n                </div>\n\n                <div class="row">\n                    <div class="volume">\n                        <div class="large-10 columns">\n                            <div id="range-volume"></div>\n                            <div class="ico"></div>\n                        </div>\n                        <div class="large-2 columns collapse">\n                            <div class="bitrate">\n                                <span class="speed"></span>\n                                <span class="format"></span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n            <br class="clearfix">\n\n        </div></div>\n\n        <!--Кнопки-->\n        <div class="buttons large-3 medium-2 columns hide-for-small-down">\n            <ul class="medium-block-grid-2 large-block-grid-4">\n\n                <li class="can-hide">\n                    <a class="share big-btn tip" title="Мои станции" href="login.htm"/*tpa=http://the-radio.ru/my*/ data-pjax>\n                        <span class="ico"></span>\n                        <span class="count">&#9825;</span>\n                        <div class="label">Избранное</div>\n                    </a>\n                </li>\n\n                <li>\n                    <a href="#" class="next-radio big-btn tip" title="Следующее радио в этом жанре">\n                        <span class="ico"></span>\n                        <div class="label">Следующее</div>\n                    </a>\n                </li>\n\n                <li class="can-hide">\n                    <a href="#" class="history big-btn tip" title="Ранее прослушанные радиостанции. Для просмотра нажмите на эту кнопку">\n                        <span class="ico"></span>\n                        <div class="label">История</div>\n                    </a>\n                </li>\n\n                <li>\n                    <a id="bar-social-search" href="#" class="social-search big-btn tip red" title="Поиск текущей песни в социальных сетях">\n                        <span class="ico"></span>\n                        <div class="label">Поиск песни</div>\n                    </a>\n                </li>\n\n\n            </ul>\n        </div>\n\n    </div>\n</div>'}};
function PlayerCore(){}PlayerCore.prototype={el:"#main-player",inited:!1,player:$("#interface-player"),active:!1,buffer:0,iosFix:!1,handleCheckError:0,vol:0,volInterval:null,isOpera:!1,exist:function(){return null!=this.player},loadNewRadio:function(){this.vol=0},init:function(){this.inited||(this.inited=!0,this.isOpera=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,this.reconnect.init(),this.restartForMobile.init())},play:function(t,e,i){var o=this;this.player.jPlayer({swfPath:"/swf",solution:"html, flash",supplied:"mp3",preload:"none",volume:0,debug:!0,ready:function(){$(this).jPlayer("setMedia",{mp3:t}),$(this).jPlayer("play"),(PlayerUI.prototype.options.isMobile||Global.mobile.isIos())&&o.__iosFixPlay()},playing:function(){clearTimeout(o.handleCheckError),o.emit("play"),"undefined"!=typeof e&&e(o.player.data().jPlayer.status.src),o.fade(0,o.__getUserVolume(),1e3),o.isActive(!0)},pause:function(){o.buffer=-1,o.isActive(!1)},progress:function(){o.buffer++},abort:function(){o.isActive(!1)},ended:function(){o.emit("stop");var t=PlayerUI.prototype.cast;t.stop(),o.buffer=-1,o.isActive(!1)},volumechange:function(t){o.vol=t.jPlayer.options.volume},error:function(){o.emit("error"),clearTimeout(o.handleCheckError),o.isActive(!1);var e=window.navigator.userAgent.indexOf("/12.")>-1&&window.navigator.userAgent.indexOf("Presto/")>-1;if(!e&&"undefined"!=typeof i)return i(t)},loadstart:function(){o.buffer=-1,o.emit("load"),o.handleCheckError=setTimeout(function(){var t=navigator.userAgent.search(/TV/i)>=0;!PlayerUI.prototype.options.isMobile&&!t&&o.buffer<3&&"undefined"!=typeof i&&i()},8e3)}})},onlyPlay:function(){this.exist()&&this.player.jPlayer("play")},onlyStop:function(){this.isOpera?this.player.jPlayer("pause"):this.player.jPlayer("pause").jPlayer("stop")},stop:function(){this.onlyStop(),this.destroy(),this.emit("stop"),this.buffer=-1,this.isActive(!1)},destroy:function(){this.player.jPlayer("clearMedia").jPlayer("destroy")},isActive:function(t){t&&!this.active?this.active=t:!t&&this.active&&(this.active=t)},volume:function(t,e){if(!$.isNumeric(t))return!1;var i=e===!0?t:this.__convertVolume(t);"undefined"!=typeof i&&(this.player.jPlayer("volume",i),this.vol=i)},mute:function(t,e){var i=e?500:0;this.fade(this.__getUserVolume(),0,i,t)},__getUserVolume:function(){return Cookies.get(PlayerUI.prototype.cookie[0]).toString()||"100"},__convertVolume:function(t){var e=$.isNumeric(t),i=t.toString();return 100!=t&&e?2==t.length?i="0."+t:1==t.length&&(i="0.0"+t):i="1.0",i},fade:function(t,e,i,o){var r=this;if(this.vol===e)return null;if(clearInterval(r.volInterval),t=parseFloat(this.__convertVolume(t)),e=parseFloat(this.__convertVolume(e)),0===t&&0===e)return r.volume(0,!0);i=i||200;var n="undefined"!=typeof InstallTrigger,a=Math.abs(t-e),s=t>e?"out":"in",l=a/.01,u=l>0?i/l:i;u<4&&(l=Math.ceil(l/(4/u)),u=4),this.volume(t);var p=t,c=0;this.volInterval=setInterval(function(){l>0&&(p+=n?"in"===s?.1:-.1:"in"===s?.02:-.02),p=Math.max(0,p),p=Math.min(1,p),p=Math.round(100*p)/100,r.volume(p,!0),c++,(e<t&&p<=e||e>t&&p>=e||c>1e3)&&(clearInterval(r.volInterval),r.volInterval=null,r.volume(p,!0),"undefined"!=typeof o&&o())},u)},emit:function(t){PlayerUI.prototype.emit(t)},__iosFixPlay:function(){var t=this,e=void 0===document.ontouchstart?"click":"touchstart",i=function(){t.onlyPlay(),document.documentElement.removeEventListener(e,i,!0)};if(document.documentElement.addEventListener(e,i,!0),!this.iosFix){var o=PlayerUI.prototype.toolbar.track.path.allBtn;Global.tips.msg(o,Language.player.pushPlay,"top","tomato-theme"),setTimeout(function(){$(o).hasClass("tooltipstered")&&$(o).tooltipster("destroy")},2200),this.iosFix=!0}},reconnect:{handle:0,time:0,first:!0,interval:11e3,init:function(){if(PlayerUI.prototype.options.isMobile)return!1;var t=this,e=$(PlayerCore.prototype.el);return!!e.length&&(e.on("play",function(){t.run()}),e.on("stop",function(){t.stop()}),e.on("error",function(){t.stop(),t.run()}),void e.on("broken",function(){t.stop(),t.run()}))},run:function(){if(PlayerUI.prototype.options.isMobile)return!1;var t=this;parseInt(this.handle)>0&&this.stop(),t.handle=setInterval(function(){t.check()},t.interval)},check:function(){var t=PlayerCore.prototype,e=PlayerUI.prototype.cast,i=t.exist();if(!i)return this.stop(),!1;var o=PlayerUI.prototype,r=t.buffer;if(this.first){if(r==this.time)return this.stop(),!1;this.first=!1}i&&(r!=this.time?this.time=r:(e.stop(),setTimeout(function(){e.play(o.vars.current.streams)},1e3)))},stop:function(){clearInterval(this.handle),this.handle=!1,this.time=0,this.first=!0}},restartForMobile:{timeout:0,init:function(){if(!PlayerUI.prototype.options.isMobile)return!1;var t=this,e=PlayerCore.prototype,i=$(PlayerCore.prototype.el);i.on("load",function(){clearTimeout(t.timeout),t.timeout=setTimeout(function(){e.active||PlayerUI.prototype.cast.stop()},15e3)})}}};
function RadioClass(){}RadioClass.prototype={mediumList:function(a,i,e,l,s){if(!a)return!1;var t=this,n=e?$.templates(t.tpl.hugeRadioList):$.templates(t.tpl.mediumRadioList);s&&(n=$.templates(s));var r="";return $.each(a,function(a,i){i.image=i.image?'<img src="'+i.image+'">':'<img src="radio-default.png"/*tpa=http://the-radio.ru/img/radio-default.png*/>',r+=n.render(i)}),l?$(i).html(r):$(i).animate({height:"toggle",opacity:"toggle"},700,function(){$(this).children("li").remove(),$(this).prepend(r).hide().css("opacity",0).slideDown(500).animate({opacity:1},{queue:!1,duration:700})}),!0},pagingGen:function(a,i){if(a=Global.jsonConvert(a),!a)return!1;var e=this,l=0,s="",t="";$(i+" li").remove();var n=$.templates(e.tpl.paging);$.each(a,function(a,i){l++,i["class"]=i["class"]?'class="'+i["class"]+'"':"",s+=n.render(i)}),l>0&&(t='<li class="label unavailable">'+Language.radios.paging.pages+': </li><li class="arrow"><a href="">'+Language.radios.paging.prev+"</a></li>"+s+'<li class="arrow"><a href="">'+Language.radios.paging.next+"</a></li>",$(i).hide().append(t),$(i+" li").eq(-2).hasClass("current")&&$(i+" li").eq(-1).addClass("unavailable"),$(i+" li").eq(2).hasClass("current")&&$(i+" li").eq(1).addClass("unavailable"),$(i+" li.unavailable").on("click",function(a){a.preventDefault(),console.log("obj")}),$(i).show(300))},bind:{another:function(a,i,e){var l=!e;a=a||".radio-carousel .owl-carousel",i=i||5;var s=$(a);s.owlCarousel({items:i,margin:0,smartSpeed:500,lazyLoad:!0,nav:l,navText:[],responsive:{400:{items:1},600:{items:2},900:{items:3},1024:{items:4},1110:{items:i}}})},similarityCarousel:function(a,i){a=a||".radio-carousel .owl-carousel",i=i||10;var e=$(a);e.owlCarousel({items:i,margin:0,mouseDrag:Global.mobile.isMobile(),lazyLoad:!0,nav:!1,responsive:{0:{items:2},600:{items:4},900:{items:6},1100:{items:8},1110:{items:10}}})}},tpl:{mediumRadioList:'<li data-id="{{:id}}" title="{{:text}}"><div class="ava"><a href="{{:url}}"><span class="def">{{:image}}</span></a></div><a href="{{:url}}" class="name">{{:name}}</a><p class="title fsmall">{{:title}}</p><p class="text">{{:text}}</p></li>',mediumAndPreplay:'<li data-id="{{:id}}" title="{{:text}}"><div class="ava"><a href="{{:url}}"><span class="def">{{:image}}</span></a>{{if hq}} <p class="quality tooltip-bottom" title="У радио {{:name}} есть поток с высоким качеством звука">hq</p> {{/if}}</div><a href="{{:url}}" class="name">{{:name}}</a><p class="title fsmall">{{:title}}</p><div class="playit"><a href="{{:url}}" data-id="{{:id}}" alt="Слушать радио {{:name}}">Слушать радио</a></div><p class="text">{{:text}}</p></li>',hugeRadioList:'<li data-id="{{:id}}"><div class="avatar large-4 medium-3 small-4 columns"><div class="ava"><a href="{{:url}}"><span class="def tips" title="{{:text}}">{{:image}}</span></a></div></div><div class="info large-8 medium-9 small-8 columns"><a href="{{:url}}" class="name">{{:name}}</a><p class="title"><span class="time c9">{{:time}}</span> {{:title}}</p><p class="style"><a href="{{:style_url}}">{{:style}}</a></p></div></li>',paging:'<li {{:class}} data-id="{{:id}}"><a href="{{:url}}">{{:id}}</a></li>   '}};
var Sidebar={style:{styleId:0,loadedStyle:0,_barStyles:"#style-block .style-list li",_parentLi:"#style-block .style-list > li",_barSubStyles:"#style-block .style-list li > ul > li",maps:[],show:function(e,t){return t?($(this._barStyles).show(),$(this._barStyles+" > ul").hide(),$(this._barSubStyles).removeAttr("style")):void e.children("ul").animate({height:"toggle",opacity:"toggle"},500)},hide:function(){$(this._barStyles).each(function(){var e=$(this).children("ul");e.length&&e.is(":visible")&&e.hide(500)})},activeStyle:function(e){var t=Sidebar.style;$(t._barStyles+".active").removeClass("active"),$(t._barStyles+"[data-id="+e+"]").addClass("active")},searchInit:function(){var e=Sidebar.style;$(e._barStyles).each(function(){var t=$.trim($(this).text()),a=$.trim($(this).attr("data-name"));$(this).attr("data-id")&&e.maps.push({id:$(this).attr("data-id"),val:t.toUpperCase(),subval:a.toUpperCase()})}),$("http://the-radio.ru/min/aside#sidebar .find").keyup(function(){function e(e,t){for(var i=0,l=e.length;i<l;i++)(e[i].val.indexOf(t)>-1||e[i].subval.indexOf(t)>-1)&&a.push(e[i].id)}var t=$.trim($(this).val()).toUpperCase();if(t.length>1){var a=[];e(Sidebar.style.maps,t),a.length&&($(Sidebar.style._barStyles).hide(),$.each(a,function(e,t){var a=$(Sidebar.style._barStyles+'[data-id="'+t+'"]');a.parent("ul").parent("li").show(),a.parent("ul").show(),a.show()})),a.length=0}else Sidebar.style.show("",!0)})},init:function(){var e=Sidebar.style;this.expand.init(),this.searchInit(),this.bindSearchInput(),this.autodetectCity(),$(e._barStyles).click(function(e){Sidebar.style.expand.expanded||Sidebar.style.expand.open(!1,!0);var t=$(this).attr("data-url");if("undefined"!=typeof t){if($.support.pjax)return $.pjax({url:t,container:"#main-content"});window.location.href=location.protocol+"//"+location.host+t}var a=$(this).attr("data-id");if(Sidebar.style.styleId=0,$(Sidebar.style._barStyles).removeClass("active"),$(this).children("ul").length&&$(this).parent("ul.style-list").length){var i=$(this).children("ul");i.length&&i.is(":hidden")&&(Sidebar.style.hide(),Sidebar.style.show($(this)),$(this).addClass("active"))}$.isNumeric(a)&&a!=Sidebar.style.styleId&&(Sidebar.style.styleId=a,Sidebar.style.activeStyle(Sidebar.style.styleId))})},openStyle:function(e){Sidebar.style.styleId=e;var t=$(this._barStyles+'[data-id="'+e+'"]');t.addClass("active");var a=t.parent("ul").closest("li");$(a.parent("ul").children("li")).each(function(){$(this).hasClass("orange")&&$(this).removeClass("orange")}),a.length?a.addClass("orange"):t.addClass("orange"),t.length&&(Sidebar.style.hide(),t.parent("ul").show())},autodetectCity:function(e){function t(){$(e).removeAttr("href").off("click");var t=$("#autodetect-city");t.length&&t.slideUp(400)}var a=this;e=e||"#sidebar .highlight-style-list",$(e).click(function(e){e.preventDefault();var i=a.loadCity();if(i)$.pjax({url:i,container:Global.routing.container});else{var l="/local"===location.pathname,s=location.protocol+"//"+location.host+"/local";Global.overlay.show(!0,!1,!0),Global.ajax(null,"/local/detect",function(e){var i=parseInt(e.count);if(e.id&&parseInt(e.id)>-1&&i>0){var n=s+"/"+e.id.toString();a.saveCity(n),$.pjax({url:n,container:Global.routing.container})}else 0===i&&(l?(t(),Global.msg.warn(e.city+" - "+Language.local.radioNotFound,7e3)):$.pjax({url:s,container:Global.routing.container}))},function(){l?(Global.msg.warn(Language.local.cityNotFound,7e3),t()):$.pjax({url:s,container:Global.routing.container})})}})},loadCity:function(){var e=Cookies.get("user_city_url");return"undefined"!=typeof e&&e},saveCity:function(e){Cookies.set("user_city_url",e,{expires:30})},bindSearchInput:function(){var e=this,t=$("#search-genre-bar"),a=$(".sidebar-block .search-genre");a.click(function(a){a.preventDefault(),t.hasClass("hidden")?(e.expand.expanded||e.expand.open(),t.removeClass("hidden").show().focus()):(e.expand.expanded&&e.expand.close(),t.addClass("hidden").hide())})},expand:{btn:".bar-collapser a",expanded:!1,limit:4,childTimeout:!1,init:function(){var e=this,t=$(this.btn);t.on("click",function(){e.expanded?e.close():e.open()})},open:function(e,t){var a=this,i=$(Sidebar.style._parentLi+".hidden");e?i.removeClass("hidden").show():(i.hide().removeClass("hidden").animate({height:"toggle",opacity:"toggle"},{duration:700,queue:!1}),a.childTimeout=setTimeout(function(){0!==Sidebar.style.styleId||t||a.showChild()},730)),this.expanded=!0,$(this.btn).addClass("active")},close:function(){var e=this;e.childTimeout&&clearTimeout(e.childTimeout);var t=$(Sidebar.style._parentLi);t.each(function(t){if(t>=e.limit){var a=$(this);e.hideChild(),a.hide(700,function(){a.addClass("hidden")})}}),this.expanded=!1,$(this.btn).removeClass("active"),$("#search-genre-bar").val("").keyup(),$(Sidebar.style._parentLi+".active").removeClass("active")},markParent:function(e,t){Sidebar.style.loadedStyle=e,$(Sidebar.style._parentLi+".orange").removeClass("orange");var a=$(Sidebar.style._barStyles+'[data-id="'+e+'"]').parent("ul").closest("li");a.addClass("orange"),$(Sidebar.style._barSubStyles+".active").removeClass("active");var i=$(Sidebar.style._barStyles+'[data-id="'+Sidebar.style.loadedStyle+'"]');i.addClass("active");var l=a.index();if(t&&l>0){var s=Sidebar.style._parentLi,n=s+":eq("+l+")",r=s+":eq(0)";$(r).before($(n).addClass("moved").removeClass("hidden")),$(Sidebar.style._parentLi+":gt("+parseInt(this.limit-1).toString()+")").addClass("hidden")}},showChild:function(){Sidebar.style.hide();var e=$(Sidebar.style._parentLi+".orange");e.find("ul.child").animate({height:"toggle",opacity:"toggle"},{duration:500,queue:!1})},hideChild:function(){var e=$(Sidebar.style._parentLi+".orange");e.find("ul.child").hide(400)}}}};
function SongsClass(){}SongsClass.prototype={init:function(){this.track.init()},find:{showSocialButton:function(a,t,e){var i=SongsClass.prototype;if("undefined"==typeof t)return!1;t=this._prepare(t);var s=$(".search-social-box");s.length>0&&s.remove();var l=a.offset(),n='<a href="https://vk.com/search?&c[section]=audio&c[q]=%27+t.replace(/&/g,"%26")+'" title="Поиск этой музыки ВКонтакте" target="_blank" rel="nofollow"><li class="vk">&nbsp;</li></a>',r='<a title="Поиск этой музыки в Youtube" href="#video-modal" rel="nofollow" class="youtube-finder"><li class="youtube">&nbsp;</li></a>',o='<a href="/search/google/'+t+'" title="Поиск этой музыки в Гугле" target="_blank" rel="nofollow"><li class="google">&nbsp;</li></a>';Global.overlay.show(!0,!0,!0,!0),$("body").append('<div class="search-social-box"><div class="offdiv">&nbsp;</div><ul>'+n+r+o+"</ul></div>"),$(".youtube-finder").click(function(a){a.preventDefault(),i.video.bindSearch($(".search-social-box .youtube-finder"),t)}),$(".search-social-box a").click(function(a){$(".search-social-box").remove(),Global.overlay.hide()});var d=l.top,c=l.left-parseInt($(".search-social-box").width()/2)-4;e&&$.isNumeric(e)&&(d-=e),a.parent().parent().hasClass("now-playing-bar")&&(c+=15),$(".search-social-box").css("opacity",0).css("top",d+"px").css("left",c+"px").fadeIn(300,function(){$(".search-social-box ul a").animate({marginRight:"15px"},600),$(this).animate({opacity:1,top:d-28},400,function(){$(this).find(".offdiv").remove()})}).hoverIntent(function(){},function(){$(this).fadeOut(300,function(){Global.overlay.hide()})})},_prepare:function(a){if("undefined"!=typeof a&&a.length){var t=["original mix","record mix","extended mix","radio edit","radio mix","short mix"];a=a.replace(/\s+/g," ").toLowerCase().trim(),a.indexOf("(")>-1&&t.forEach(function(t){a.lastIndexOf(t)>-1&&(a=a.substr(0,a.lastIndexOf("(")-1).trim())}),a=a.replace(/ rmx/gi," remix").replace(/ mix/gi,"").trim()}return a}},track:{path:{large:".tracklist-large li",tiny:".tracklist-large li",social:".tracklist-tiny li a.find, .tracklist-large li a.find"},init:function(){this.bind()},__findTrackName:function(a){var t="";return t=a.children(".radio-name")?a.clone().find(".radio-name").remove().end().text():a.text()},bind:function(a){var t=SongsClass.prototype,e=this,i="",s=a?$(a).find("http://the-radio.ru/min/a.find"):$(e.path.social),l=a||".tracklist-tiny li, .tracklist-large li",n=$(l);s.off().click(function(a){a.preventDefault(),a.stopPropagation();var t=$("#overlay-shadow");if(!t.length||t.is(":hidden")){var s=$(this).closest("li").find(".title");i=e.__findTrackName(s),i.length&&SongsClass.prototype.find.showSocialButton($(this),i)}});var r=n.find(".play");r.length&&r.find("a").off().on("click",function(a){a.preventDefault();var s=$(this).closest("li").find(".title");i=e.__findTrackName(s),i.length&&($(this).attr("href","#video-modal"),t.video.bindSearch($(this),i))}),n.hoverIntent({interval:200,timeout:300,over:function(){var a=$(this).find("span > a.find");a.addClass("animated").removeClass("fadeOutRight").addClass("fadeInRight").show()},out:function(){var a=$(this).find("span > a.find");a.removeClass("fadeInRight").addClass("fadeOutRight")}})},add:function(a,t,e){var i=this;t=t||".tracklist-large";var s=["fadeInDown","fadeInUp"];if(e=s[Math.floor(Math.random()*s.length)],!a.artist&&!a.song&&!a.title)return!1;a.artist||a.song||!a.title||(a.artist=a.title),a.artist=a.artist_url?'<a href="'+a.artist_url+'">'+a.artist+"</a>":a.artist,a.song=a.artist&&a.song?" - "+a.song:"",a.style_url=a.all.style_url?a.all.style_url:"",a.style_name=a.all.style_pureName?a.all.style_pureName:"";var l=$.templates(i.tpl.large);$item=$(t+' li[data-id="'+a.id+'"]'),$item.length?this.removeId(a.id,t,function(){$(l.render(a)).removeClass("no-fade").addClass("animated").addClass(e).prependTo(t)},700):$(l.render(a)).removeClass("no-fade").addClass("animated").addClass(e).prependTo(t),setTimeout(function(){i.bind($(t+" li").first(),!0)},1e3)},removeLast:function(a,t,e){self=this,scheme=t?"nth-last-child(-n+"+t+")":"last-child",$(a+" li:"+scheme).removeClass("no-fade").addClass("animated").addClass("fadeOutUp"),setTimeout(function(){$(a+" li:"+scheme).remove(),"function"==typeof e&&e()},1e3)},removeId:function(a,t,e,i){return self=this,$item=$(t+' li[data-id="'+a+'"]'),i=i||"fadeOutUp",0!=$item.length&&($item.removeClass("no-fade").addClass("animated").addClass(i),void setTimeout(function(){$item.remove(),"function"==typeof e&&e()},700))},tpl:{large:'<li data-id="{{:id}}" class="no-fade"><span class="play"><a href="#"></a></span><span class="time">{{:time}}</span><span class="title">{{:artist}} {{:song}}</span><span class="style hide-text"><a href="{{:style_url}}">{{:style_name}}</a></span><span class="social"><a href="#" class="find no-fade" style="display: none;"></a></span><span class="rating forms"><div class="bar" class="tooltip" title="Популярность этого артиста (группы)"><span class="progress" style="width: {{:rating}}0%">&nbsp;</span></div></span></li>'}},artist:{path:{root:".onair-list",list:".onair-list .medium",artist:"#onair-artist"},effects:{inRun:["bounceIn","fadeInLeft","fadeInRight","fadeInDown","rubberBand","jello","rotateIn","zoomIn","rollIn","flipInY"],out:["bounceOut","fadeOutLeft","fadeOutDown","zoomOut","flipOutY"]},add:function(a,t){var e=this;t=t||e.path.list;var i=a.length||0;if(0==i)return!1;var s=0;$.each(a,function(a,i){var l=l||e.effects.inRun[Math.floor(Math.random()*e.effects.inRun.length)];setTimeout(function(){e.removeLast(1,e.path.artist,function(){var a=[];a.id=i.id,a.artist_url=i.radio_info.slug_url||"javascript:void(0)",a.artist=i.title_info.artist||"",0==a.artist.length&&(a.artist=i.title_info.title_prepared||""),a.image=i.image_url?'<img src="'+i.image_url+'" />':"";var e='<li data-id="'+a.id+'"><a href="'+a.artist_url+'"><span class="ava">'+a.image+'</span><span class="name">'+a.artist+"</span></a></li>";$(e).addClass("animated").addClass(l).prependTo(t),setTimeout(function(){SongsClass.prototype.track.add({id:i.radio_id,time:i.time.toString(),title:i.title,artist:i.title_info.artist,artist_url:i.radio_info.slug_url||"#",song:i.title_info.song,rating:i.popularity,all:i})},500)})},s),s+=2500})},removeId:function(a,t,e,i){self=this,t=t||self.path.artist,i=i||this.effects.out[Math.floor(Math.random()*this.effects.out.length)];var s=$(t).find("li[data-id='"+a+"']");return 0!=s.length&&(s.addClass("animated").addClass(i),void setTimeout(function(){s.remove(),"function"==typeof e&&e()},1e3))},removeLast:function(a,t,e,i){self=this,t=t||self.path.list,i=i||this.effects.out[Math.floor(Math.random()*this.effects.out.length)],a=a||1,scheme=a?"nth-last-child(-n+"+a+")":"last-child",$(t+" li:"+scheme).each(function(){var a=$(this);a.addClass("animated").addClass(i),setTimeout(function(){a.remove(),"function"==typeof e&&e()},1e3)})},loadSimilar:function(a,t){if(a=Global.jsonConvert(a)){var e="",i=$.templates(this.tpl.similar);$.each(a,function(a,t){t.name&&(t.image=t.image?'<img src="'+t.image+'">':'<img class="NULL" src="artist.gif"/*tpa=http://the-radio.ru/img/artist.gif*/>'http://the-radio.ru/min/,t.url?(t.url='<a href="'+t.url+'">',t._url="</a>"):(t.url="",t._url=""),e+=i.render(t))}),$(t).empty(),$(e).hide().appendTo(t).fadeIn(500)}},lazyLoad:function(a){var t="data-original";$(a).each(function(){var a=$(this),e=$(this).attr(t),i=new Image;i.src=e,$(i).load(function(){a.waypoint(function(e){"down"===e&&a[0].hasAttribute(t)&&a.hide().removeAttr(t).removeClass("lazy").removeClass("hidden").animate({opacity:"toggle"},700)},{offset:"90%"}),a.attr("src",e)})})},tpl:{medium:'<li data-id="{{:id}}"><a href="{{:artist_url}}"><span class="ava">{{:image}}</span><span class="name">{{:artist}}</span></a></li>',similar:'<li>{{:url}}<span class="def">{{:image}}</span><p class="name">{{:name}}</p>{{:_url}}</li>'}},video:{vars:{modalOpened:!1,title:""},path:{modal:"#video-modal",modalVariant:"#video-modal .source2",modalOriginal:"#video-modal .original",playBtn:".tracklist-large li span.play"},bind:function(a){var t=this;return a=$(t.path.playBtn),!!a.length&&void a.click(function(e){e.preventDefault();var i=$.trim($(this).parent("li").find(".title").text());if(i.length&&!t.vars.modalOpened){var s="undefined"==typeof $(this).children("a").attr("href")?$(this):$(this).children("a");t.bindSearch(s,i)}setTimeout(function(){a.parent("li").removeClass("active")},1e3)})},bindSearch:function(a,t){function e(){return Global.msg.warn(Language.video.notFound+" "+t+" "+Language.video.no+'<br /><br /><a href="http://vk.com/search?&c[section]=audio&c[q]=%27+t.replace(/&/g,"%26")+'" target="_blank" rel="nofollow">'+Language.video.vkSearch+"</a>")}var i=this;this.vars.modalOpened=!0,t=t.replace(/\s+/g," "),Global.overlay.show(),Global.ajax({title:t},"/playlist/tube",function(t){"undefined"!=typeof t.data.id?i.showModal(t.data,a,t.original):t.data.source2&&"undefined"!=typeof t.data.source2.id?(t.data=t.data.source2,delete t.data.source2,i.showModal(t.data,a,t.original)):e()},function(){e()})},showModal:function(a,t,e){var i=this;if(a.variant="",e&&(a.variant+='<a href="#" class="original button small red">'+Language.video.original+"</a>"),a.source2&&(a.variant+='<a href="#" class="source2 button small">'+Language.video.variant+"</a>"),a.length=a.length||"<em>"+Language.video.nlength+"</em>",a.rating>1&&$.isNumeric(a.rating)){a.rating>9&&(a.rating=9);var s=0,l=parseInt(a.rating);for(a.rating="";s<l;)s++,a.rating+="<li></li>"}else a.rating="<li></li>";a.artist=a.artist_url?'<a target="_blank" class="fade" href="'+a.artist_url+'"> '+a.artist+" </a>":a.artist,a.song=a.artist&&a.song?" - "+a.song:"",a.style=a.style?'<li><a class="fade" href="'+a.style_url+'">'+a.style+"</a></li>":"<li><em>"+Language.video.nstyle+"</em></li>";var n=$.templates(i.tpl.modalVideo());$(n.render(a)).prependTo("body"),setTimeout(function(){$(i.path.modalVariant).click(function(e){return e.preventDefault(),$(this).addClass("disabled").removeAttr("href"),i.showModal(a.source2,t)}),e&&$(i.path.modalOriginal).click(function(a){return a.preventDefault(),$(this).addClass("disabled").removeAttr("href"),i.showModal(e,t,!1)})},2e3);var r={maxWidth:700,disableShrink:!0,liveResize:!1,showTitle:!1,overlayOpacity:.8,onInit:{bar:function(){var a=PlayerUI.prototype.cast,t=PlayerUI.prototype.vars.current,e=t&&t.streams&&t.streams[0];i.vars.modalOpened=!0,a.muteVolume(!0,function(){e&&a.stop()}),setTimeout(function(){e&&a.vars.player.active&&a.stop()},2e3)}},onClose:{qux:function(){var a=PlayerUI.prototype,t=PlayerCore.prototype;!t.active&&a.vars.current&&a.vars.current.streams&&a.vars.current.streams[0]&&a.cast.play(a.vars.current.streams)}},onCleanup:{quux:function(){i.vars.modalOpened=!1,$(i.path.modal).remove()}}};t.lightcase("start",r)},tpl:{modalVideo:function(){var a=('<object id="videoplayer8728" type="application/x-shockwave-flash" data='+Global.path.root+'"uppod.swf"/*tpa=http://the-radio.ru/min/swf/uppod.swf*/ width="700" height="420"><param name="bgcolor" value="#000000"><param name="allowFullScreen" value="true"><param name="allowScriptAccess" value="always"><param name="movie" value="'+Global.path.root+'swf/uppod.swf"><param name="flashvars" value="comment=st='+Global.path.root+'swf/video62-2236.txt&amp;file={{:video_url}}"></object>','<iframe class="youtube-player" type="text/html" src="{{:video_url}}" frameborder="0" allowfullscreen></iframe>'),t=a;return root='<div id="video-modal" class="video-modal hide" style="display:none"><div class="row collapse"><div class="large-12 columns"><div class="video">'+t+'</div></div></div><div class="section-2 row"><div class="text large-9 medium-8 small-8 columns"><h4 class="name hide-text">{{if artist && song}} {{:artist}} {{:song}} {{else}} {{:title}} {{/if}}</h4><div class="length"><span class="c7">Длина: </span> {{:length}}</div></div><div class="large-3 medium-4 small-4 columns"><ul class="rating inline-list right"> {{:rating}} </ul></div></div><div class="section-3 row"><div class="text large-9 medium-8 small-12 columns"><ul class="style inline-list"><li class="empty"><span class="c7">Стили: </span></li> {{:style}}</ul></div><div class="large-3 medium-4 hide-for-small-down columns"><div class="alternative right"> {{:variant}}</div></div></div></div>'}}}};
function TracklistPage(){}TracklistPage.prototype={path:{combo:"#style-search select",radioList:".tracklist-page .medium-radio-list",trackList:"#track-list"},init:function(){var t=this;$(this.path.combo).comboSelect().change(function(a){t.loadStyle(a.target.value)}),this.bindSearchByRadioname(),$(this.path.radioList+" .lazy").lazyload({effect:"fadeIn"})},bindSearchByRadioname:function(){var t=$("#input-playlist-search");if(t.length){var a=$('meta[name="_token"]').attr("content");if(!a)return Global.msg.no(Language.msg.errorToken,!0);t.typeahead({minLength:2,maxItem:10,order:"asc",hint:!0,backdrop:{"background-color":"rgba(0, 0, 0, 0.5)"},source:{url:{type:"POST",url:"/search/list",headers:{"X-CSRF-TOKEN":a}}},callback:{onSubmit:function(t,a,e){e.display?(Global.overlay.show(),Global.ajax({name:e.display},"/search/getByName",function(t){t.url&&(window.location=t.playlist_url)})):(Global.msg.no(Language.style.searchSelect,!0,5e3),Global.overlay.hide())},onClick:function(t,a,e){e.display?(Global.overlay.show(),Global.ajax({name:e.display},"/search/getByName",function(t){t.url&&(window.location=t.playlist_url)})):(Global.msg.no(Language.style.searchSelect,!0,5e3),Global.overlay.hide())}}})}},loadStyle:function(t){Global.overlay.show();var a,e=window.location;return a=t?e.origin+"/playlist/genre/"+t:e.origin+"/playlist",window.location.href=a,!0},inside:{init:function(){RadioClass.prototype.bind.another(),this.limit.bind()},hideUrlToArtist:function(t){t=t||".tracklist-large",$(t+" a[data-link]").click(function(){var t=$(this).attr("data-link");$(this).attr("href",document.location.origin+t)})},limit:{max:20,handle:null,fullReset:!1,bind:function(){var t=this,a=TracklistPage.prototype;t.handle&&t.handle[0].destroy();var e=$(a.path.trackList+" li.hidden").first().prev();e.length&&(t.handle=e.waypoint(function(a){"down"===a&&t.nextShow()},{offset:"100%"}))},nextShow:function(){var t=this,a=TracklistPage.prototype,e=$(a.path.trackList+" li.hidden");if(e.length){var i=0;$(e).each(function(){return i<t.max&&($(this).removeClass("hidden"),void i++)}),setTimeout(function(){t.bind()},300)}},resetAndShowAll:function(){if(this.fullReset)return!1;var t=this,a=TracklistPage.prototype;t.handle&&t.handle[0].destroy(),$(a.path.trackList+" li.hidden").removeClass("hidden"),this.fullReset=!0}}}};
function UserPage(){}UserPage.prototype={path:{tabs:".forms .gray-tabs li",loginForm:'form[name="login"]',regForm:'form[name="registration"]',forgetLink:"#forget-show",forgetForm:"#forget-form"},init:function(){this.tabsBind(),this.loginBind(),this.regBind(),this.forgetForm()},tabsBind:function(){var t=this;$(this.path.tabs+" a").on("click",function(e){e.preventDefault();var a=$(this);if(!$(t).hasClass("active")){$(t.path.tabs).removeClass("active"),$(t.path.tabs+" a").removeClass("active"),$('[data-rel="form-reg"]').hide();var o=a.attr("href");$(o).show(),a.addClass("active"),a.parent("li").addClass("active")}})},loginBind:function(){var t=this;$(this.path.loginForm).submit(function(e){e.preventDefault();var a=$(t.path.loginForm).serializeArray();Global.overlay.show(),Global.ajax(a,"/login",function(t){t.url&&(window.location.href=t.url)},function(t){t&&"undefined"!=typeof t.modal&&"1"===t.modal.toString()&&Global.msg.no(t.modal_text,!1,2e4)})})},regBind:function(){var t=this;$(this.path.regForm).submit(function(e){e.preventDefault();var a=$(t.path.regForm).serializeArray();Global.overlay.show(),Global.ajax(a,"/login/reg")}),$("#notice-message").text(Language.login.notice)},forgetForm:function(){var t=this;$(this.path.forgetLink).click(function(e){e.preventDefault(),$(t.path.forgetForm).toggle(500)}),$(t.path.forgetForm).submit(function(e){e.preventDefault(),Global.overlay.show();var a=$(this),o=$(this).serializeArray(),i=$(this).attr("action");Global.ajax(o,i,function(e){e&&e.message&&(a[0].reset(),$(t.path.forgetLink).click(),Global.msg.ok(e.message))})})},history:{path:"#recent-history",init:function(){PlayerUI.prototype.history&&this.getRadios()},getRadios:function(){var t=this,e=PlayerUI.prototype,a=e.history.getCookie();a.length?(Global.overlay.show(),e.history.getFromServer(a,function(){t.render()})):$(this.path).after("<blockquote>"+Language.player.noHistory+"</blockquote>")},render:function(){var t=this,e=PlayerUI.prototype;if(!e.history.list.length)return!1;var a=RadioClass.prototype,o=[];$.each(e.history.list,function(e,a){o.push(t.prepare(a))}),$(this.path).html(""),a.mediumList(o,this.path,!1,!1,a.tpl.mediumAndPreplay),setTimeout(function(){GenrePage.prototype.list=e.history.list,GenrePage.prototype.bindPreplay(),e.history.list=[]},1e3)},prepare:function(t){return{hq:t.hq,id:t.id,image:t.image,name:t.name,text:t.text,title:t.radios_caches&&t.radios_caches.title&&t.radios_caches.title.length?t.radios_caches.title:"<em>"+Language.player.unknow+"</em>",url:t.slug_url}}}};
var Global={vars:{newUser:!0,debug:!1,url:""},ajax:function(e,a,t,o){var n=$('meta[name="_token"]').attr("content");return n?$.ajax({type:"POST",url:a,data:e,cache:!1,headers:{"X-CSRF-TOKEN":n},success:function(e){return Global.vars.debug&&e&&console.log(e),Global.overlay.hide(),e.result?(e.text&&Global.msg.ok(e.text,!0),"function"==typeof t&&t(e)):(e.text&&Global.msg.no(e.text,!0),"function"==typeof o&&o(e))},error:function(e){if(Global.overlay.hide(),!Global.vars.debug&&e&&500==e.status)return"function"==typeof o&&o(e),!1;if(Global.vars.debug&&e&&console.log(e),e.responseJSON){var a="";$.each(e.responseJSON,function(e,t){a+=t[0]+"\n<br />"}),Global.msg.no(a,!0)}else e.responseText&&Global.vars.debug&&Global.msg.no(e.responseText);return"function"==typeof o&&o(e)}}):Global.msg.no(Language.msg.errorToken,!0)},ajaxFile:function(e,a,t,o){var n=$('meta[name="_token"]').attr("content");return n?void $.ajax({url:a,type:"post",headers:{"X-CSRF-TOKEN":n},processData:!1,contentType:!1,data:e,success:function(e){return Global.vars.debug&&e&&console.log(e),Global.overlay.hide(),e.result?(e.text&&Global.msg.ok(e.text,!0),"function"==typeof t&&t(e)):(e.text&&Global.msg.no(e.text,!0),"function"==typeof o&&o(e))},error:function(e){return!(!Global.vars.debug&&e&&500==e.status)&&(Global.vars.debug&&e&&console.log(e),Global.overlay.hide(),e.responseJSON?(errors="",$.each(e.responseJSON,function(e,a){errors+=a[0]+"\n<br />"}),Global.msg.no(errors,!0)):e.responseText&&Global.msg.no(e.responseText),"function"==typeof o&&o())}}):Global.msg.no(Language.msg.errorToken,!0)},post:function(e,a,t,o,n){var i=$(e),r=$(e+' input[type="submit"]');i.length&&i.attr("action").length&&(r.length&&r.addClass("disabled").attr("disabled","disabled"),Global.ajax(i.serializeArray(),i.attr("action"),a,t,o,n),setTimeout(function(){r.removeAttr("disabled").removeClass("disabled")},1e3))},overlay:{tpl:'<div id="overlay-shadow" class="overlay-shadow"><div id="lightcase-loading" class="lightcase-icon-spin" style="display: block;"></div></div>',tplWhite:'<div id="overlay-shadow" class="overlay-shadow white"><div id="lightcase-loading" class="lightcase-icon-spin" style="display: block;"></div></div>',show:function(e,a,t,o){e=e||!0;var n=t?this.tplWhite:this.tpl;$("#overlay-shadow").length&&$("#overlay-shadow").remove(),$("body").prepend(n),a&&$("#overlay-shadow").find(".lightcase-icon-spin").addClass("hidden"),$("#overlay-shadow").hide(0).addClass("open").fadeIn(e?500:1),o||setTimeout(function(){var e=$("#overlay-shadow");e.length&&e.remove()},3e3)},hide:function(e){e=e||!0;var a=$("#overlay-shadow");a.length&&a.fadeOut(e?500:1,function(){$(this).remove()})},block:function(e,a){var t=a?"rgba(0, 0, 0, 0.07)":"rgba(255, 255, 255, 0.7)",o=a?"black stripes":"stripes";e.block({message:'<div class="'+o+'"><span></span><span></span><span></span><span></span><span></span></div>',overlayCSS:{border:"none",backgroundColor:t,color:"#fff",zIndex:995},css:{border:"none",backgroundColor:"none"}})},unblock:function(e){e.unblock()}},scrollTo:function(e,a,t){a=a||"slow",t=t||0,$("html, body").animate({scrollTop:$(e).offset().top-t},a)},msg:{getEffect:function(){var e=["right","left","bottom","top","rotate","scale","zoom","scaleY","scaleX","rotateY","rotateYR","rotateX","rotateXR"];return e[Math.floor(Math.random()*e.length)]},ok:function(e,a,t){return this.__errorExist(e)?$.toast({heading:Language.msg.error,text:Language.msg.errorMsg,hideAfter:t,showHideTransition:"plain",icon:"error",position:"top-right"}):void(a?(t=t||1e4,$.toast({heading:Language.msg.message,text:e,hideAfter:t,showHideTransition:"fade",icon:"info",position:"top-right",loaderBg:"#fffb4e"})):$.alert({columnClass:"large-5 large-offset-4",confirmButton:Language.msg.ok,cancelButton:Language.msg.no,keyboardEnabled:!0,animation:this.getEffect(),title:Language.msg.message,content:e}))},no:function(e,a,t){return this.__errorExist(e)?$.toast({heading:Language.msg.error,text:Language.msg.errorMsg,hideAfter:t,showHideTransition:"plain",icon:"error",position:"top-right"}):void(a?(t=t||15e3,$.toast({heading:Language.msg.error,text:e,hideAfter:t,showHideTransition:"fade",icon:"error",position:"top-right",loaderBg:"#fffb4e"})):$.alert({columnClass:"large-5 large-offset-4",confirmButton:Language.msg.ok,cancelButton:Language.msg.no,keyboardEnabled:!0,animation:this.getEffect(),title:Language.msg.error,content:e}))},warn:function(e,a){a=a||15e3,e=e||Language.msg.errorCmn,$.toast({heading:Language.msg.message,text:e,hideAfter:a,showHideTransition:"fade",icon:"warning",position:"top-right",loaderBg:"#fffb4e"})},confirm:function(e,a,t){t=t||Language.msg.confirm,$.confirm({columnClass:"large-5 large-offset-4",confirmButton:Language.msg.ok,cancelButton:Language.msg.no,cancelButtonClass:"btn-no",animation:this.getEffect(),keyboardEnabled:!0,title:t,content:e,confirm:function(){"function"==typeof a&&a()}})},__errorExist:function(e){return!Global.vars.debug&&(e&&e.indexOf("DOCTYPE html")>-1)}},countAnimate:function(e,a,t){setTimeout(function(){t=t||2500,a||(a=$(e).attr("data-count")),a=a||0;var o=$.animateNumber.numberStepFactories.separator(" ");$(e).animateNumber({number:a,easing:"easeInQuad",numberStep:o},t)},700)},jsonConvert:function(e){var a=this.mobile.isJson(e);if(!a)return e;try{return e=JSON.parse(e)}catch(t){return this.msg.no(Language.radios.notLoadList,!0),!1}},track:{shareButton:function(e,a){$(e+" .social-likes_single-w").hide(),$(e+" "+a).socialLikes().on("ready.social-likes ",function(a,t){0==t&&($(".social-likes__button_single").after('<span class="social-likes__counter social-likes__counter_single">0</span>'),$(e+" .social-likes_single-w").show(500))})}},mobile:{isIos:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isUc:function(){return/UCBrowser/.test(navigator.userAgent)&&!window.MSStream},isMobile:function(){var e=!1;return function(a){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},isJson:function(e){var a=!1,t=e,o=t.length-1;return("{"==t[0]&&"}"==t[o]||"["==t[0]&&"]"==t[o])&&(a=!0),a},isTv:function(){return navigator.userAgent.search(/TV/i)>=0}},tips:{init:function(){$(".tooltip").tooltipster({debug:!1,contentAsHTML:!0,animation:"fade",delay:100}),$(".tooltip-left").tooltipster({debug:!1,animation:"grow",contentAsHTML:!0,maxWidth:500,position:"left",theme:"tomato-theme"}),$(".tooltip-bottom").tooltipster({debug:!1,animation:"grow",contentAsHTML:!0,maxWidth:300,delay:500,position:"bottom",theme:"tomato-theme"}),$(".tooltip-top").tooltipster({debug:!1,animation:"grow",contentAsHTML:!0,maxWidth:300,delay:500,position:"top",theme:"tomato-theme"}),$(".tooltip-radio").tooltipster({debug:!1,delay:500,maxWidth:300,position:"right",theme:"black-theme",touchDevices:!1})},msg:function(e,a,t,o){var n=$(e);t=t||"bottom",o=o||"tooltipster-default",n.hasClass("tooltipstered")&&n.tooltipster("destroy"),n.tooltipster({position:t,theme:o,delay:0,animation:"fade",content:a,interactive:!0}).tooltipster("show")},bind:function(e,a){"object"!=typeof a&&(a={animation:"grow",maxWidth:300,delay:500,position:"top",theme:"tomato-theme",debug:!1,contentAsHTML:!0,multiple:!0}),$(e).tooltipster(a)}},path:{root:"/"},common:{sortArrayByKey:function(e,a){return e.sort(function(e,t){var o=parseInt(e[a]),n=parseInt(t[a]);return o>n?-1:o<n?1:0})},protectText:function(){var e=document.body,a=getSelection(),t=(document.location.href,"<br>Источник: "+document.location.href),o=a+t,n=document.createElement("div");n.style.position="absolute",n.style.left="-99999px",n.innerHTML=o,e.appendChild(n),a.selectAllChildren(n),setTimeout(function(){e.removeChild(n)},0)},parseURL:function(e){var a,t,o,n=document.createElement("a"),i={};for(n.href=e,a=n.search.replace(/^\?/,"").split("&"),o=0;o<a.length;o++)t=a[o].split("="),i[t[0]]=t[1];return{protocol:n.protocol,host:n.host,hostname:n.hostname,port:n.port,pathname:n.pathname,search:n.search,searchObject:i,hash:n.hash}},sendMsg:function(e){return e?void Global.msg.ok("Сообщение успешно отправлено."+e,!0,5e3):Global.msg.no(Language.msg.errorMsg,!0)},collapse:function(e){var a=$(e);setTimeout(function(){a.readmore({speed:700,collapsedHeight:100,moreLink:'<a href="#" class="fxsmall color9">'+Language.artist.showText+"</a>",lessLink:'<a href="#" class="fxsmall color9">'+Language.artist.hideText+"</a>"})},1e3)},effShow:function(e,a,t,o){t=t||500,o=o||700,$(e).empty().prepend(a).hide().css("opacity",0).slideDown(500).animate({opacity:1},{queue:!1,duration:700})},highText:function(e,a,t){a=a||"c9",t=t||"span";var o=[{0:"(",1:")"}],n=[];return e&&$.each(o,function(o,i){var r=e.indexOf(i[0]),l=e.indexOf(i[1]),s=e.indexOf(i[0],l),c=e.indexOf(i[1],s),d=r>-1&&l>-1&&s>-1&&c>-1;d&&n.push(e.substr(s,parseInt(c-s)+1)),r>-1&&l>-1&&n.push(e.substr(r,parseInt(l-r)+1)),n.length&&$.each(n,function(o,n){e=e.replace(n,"<"+t+' class="'+a+'">'+n+"</"+t+">")})}),e},formatDate:function(e){var a=new Date(e),t=""+(a.getMonth()+1),o=""+a.getDate(),n=a.getFullYear();return t.length<2&&(t="0"+t),o.length<2&&(o="0"+o),[n,t,o].join("-")},getPageInfo:function(e){if(e)return $('#page-info input[name="'+e+'"]').val();var a=[];return $('#page-info input[type="hidden"]').each(function(){var e=$(this).attr("name"),t=$(this).attr("value");a[e]=$.isNumeric(t)?parseInt(t):t}),a},convertToSlug:function(e){for(var a={"2d":"-",20:"-",24:"s",26:"and",30:"0",31:"1",32:"2",33:"3",34:"4",35:"5",36:"6",37:"7",38:"8",39:"9",41:"A",42:"B",43:"C",44:"D",45:"E",46:"F",47:"G",48:"H",49:"I",50:"P",51:"Q",52:"R",53:"S",54:"T",55:"U",56:"V",57:"W",58:"X",59:"Y",61:"a",62:"b",63:"c",64:"d",65:"e",66:"f",67:"g",68:"h",69:"i",70:"p",71:"q",72:"r",73:"s",74:"t",75:"u",76:"v",77:"w",78:"x",79:"y",100:"A",101:"a",102:"A",103:"a",104:"A",105:"a",106:"C",107:"c",108:"C",109:"c",110:"D",111:"d",112:"E",113:"e",114:"E",115:"e",116:"E",117:"e",118:"E",119:"e",120:"G",121:"g",122:"G",123:"g",124:"H",125:"h",126:"H",127:"h",128:"I",129:"i",130:"I",131:"i",132:"IJ",133:"ij",134:"J",135:"j",136:"K",137:"k",138:"k",139:"L",140:"l",141:"L",142:"l",143:"N",144:"n",145:"N",146:"n",147:"N",148:"n",149:"n",150:"O",151:"o",152:"OE",153:"oe",154:"R",155:"r",156:"R",157:"r",158:"R",159:"r",160:"S",161:"s",162:"T",163:"t",164:"T",165:"t",166:"T",167:"t",168:"U",169:"u",170:"U",171:"u",172:"U",173:"u",174:"W",175:"w",176:"Y",177:"y",178:"Y",179:"Z",180:"b",181:"B",182:"b",183:"b",184:"b",185:"b",186:"C",187:"C",188:"c",189:"D",190:"E",191:"F",192:"f",193:"G",194:"Y",195:"h",196:"i",197:"I",198:"K",199:"k",200:"A",201:"a",202:"A",203:"a",204:"E",205:"e",206:"E",207:"e",208:"I",209:"i",210:"R",211:"r",212:"R",213:"r",214:"U",215:"u",216:"U",217:"u",218:"S",219:"s",220:"n",221:"d",222:"8",223:"8",224:"Z",225:"z",226:"A",227:"a",228:"E",229:"e",230:"O",231:"o",232:"Y",233:"y",234:"l",235:"n",236:"t",237:"j",238:"db",239:"qp",240:"<",241:"?",242:"?",243:"B",244:"U",245:"A",246:"E",247:"e",248:"J",249:"j",250:"a",251:"a",252:"a",253:"b",254:"c",255:"e",256:"d",257:"d",258:"e",259:"e",260:"g",261:"g",262:"g",263:"Y",264:"x",265:"u",266:"h",267:"h",268:"i",269:"i",270:"w",271:"m",272:"n",273:"n",274:"N",275:"o",276:"oe",277:"m",278:"o",279:"r",280:"R",281:"R",282:"S",283:"f",284:"f",285:"f",286:"f",287:"t",288:"t",289:"u",290:"Z",291:"Z",292:"3",293:"3",294:"?",295:"?",296:"5",297:"C",298:"O",299:"B",363:"a",364:"e",365:"i",366:"o",367:"u",368:"c",369:"d",386:"A",388:"E",389:"H",390:"i",391:"A",392:"B",393:"r",394:"A",395:"E",396:"Z",397:"H",398:"O",399:"I",400:"E",401:"E",402:"T",403:"r",404:"E",405:"S",406:"I",407:"I",408:"J",409:"jb",410:"A",411:"B",412:"V",413:"G",414:"D",415:"E",416:"ZH",417:"Z",418:"I",419:"Y",420:"R",421:"S",422:"T",423:"U",424:"F",425:"H",426:"TS",427:"CH",428:"SH",429:"SCH",430:"a",431:"b",432:"v",433:"g",434:"d",435:"e",436:"zh",437:"z",438:"i",439:"y",440:"r",441:"s",442:"t",443:"u",444:"f",445:"h",446:"ts",447:"ch",448:"sh",449:"sch",450:"e",451:"e",452:"h",453:"r",454:"e",455:"s",456:"i",457:"i",458:"j",459:"jb",460:"W",461:"w",462:"Tb",463:"tb",464:"IC",465:"ic",466:"A",467:"a",468:"IA",469:"ia",470:"Y",471:"y",472:"O",473:"o",474:"V",475:"v",476:"V",477:"v",478:"Oy",479:"oy",480:"C",481:"c",490:"R",491:"r",492:"F",493:"f",494:"H",495:"h",496:"X",497:"x",498:"3",499:"3",500:"d",501:"d",502:"d",503:"d",504:"R",505:"R",506:"R",507:"R",508:"JT",509:"JT",510:"E",511:"e",512:"JT",513:"jt",514:"JX",515:"JX",531:"U",532:"D",533:"Q",534:"N",535:"T",536:"2",537:"F",538:"r",539:"p",540:"z",541:"2",542:"n",543:"x",544:"U",545:"B",546:"j",547:"t",548:"n",549:"C",550:"R",551:"8",552:"R",553:"O",554:"P",555:"O",556:"S",561:"w",562:"f",563:"q",564:"n",565:"t",566:"q",567:"t",568:"n",569:"p",570:"h",571:"a",572:"n",573:"a",574:"u",575:"j",576:"u",577:"2",578:"n",579:"2",580:"n",581:"g",582:"l",583:"uh",584:"p",585:"o",586:"S",587:"u","4a":"J","4b":"K","4c":"L","4d":"M","4e":"N","4f":"O","5a":"Z","6a":"j","6b":"k","6c":"l","6d":"m","6e":"n","6f":"o","7a":"z",a2:"c",a3:"f",a5:"Y",a7:"s",a9:"c",aa:"a",ae:"r",b2:"2",b3:"3",b5:"u",b6:"p",b9:"1",c0:"A",c1:"A",c2:"A",c3:"A",c4:"A",c5:"A",c6:"AE",c7:"C",c8:"E",c9:"E",ca:"E",cb:"E",cc:"I",cd:"I",ce:"I",cf:"I",d0:"D",d1:"N",d2:"O",d3:"O",d4:"O",d5:"O",d6:"O",d7:"X",d8:"O",d9:"U",da:"U",db:"U",dc:"U",dd:"Y",de:"p",df:"b",e0:"a",e1:"a",e2:"a",e3:"a",e4:"a",e5:"a",e6:"ae",e7:"c",e8:"e",e9:"e",ea:"e",eb:"e",ec:"i",ed:"i",ee:"i",ef:"i",f0:"o",f1:"n",f2:"o",f3:"o",f4:"o",f5:"o",f6:"o",f8:"o",f9:"u",fa:"u",fb:"u",fc:"u",fd:"y",ff:"y","10a":"C","10b":"c","10c":"C","10d":"c","10e":"D","10f":"d","11a":"E","11b":"e","11c":"G","11d":"g","11e":"G","11f":"g","12a":"I","12b":"i","12c":"I","12d":"i","12e":"I","12f":"i","13a":"l","13b":"L","13c":"l","13d":"L","13e":"l","13f":"L","14a":"n","14b":"n","14c":"O","14d":"o","14e":"O","14f":"o","15a":"S","15b":"s","15c":"S","15d":"s","15e":"S","15f":"s","16a":"U","16b":"u","16c":"U","16d":"u","16e":"U","16f":"u","17a":"z","17b":"Z","17c":"z","17d":"Z","17e":"z","17f":"f","18a":"D","18b":"d","18c":"d","18d":"q","18e":"E","18f":"e","19a":"l","19b":"h","19c":"w","19d":"N","19e":"n","19f":"O","1a0":"O","1a1":"o","1a2":"P","1a3":"P","1a4":"P","1a5":"p","1a6":"R","1a7":"S","1a8":"s","1a9":"E","1aa":"l","1ab":"t","1ac":"T","1ad":"t","1ae":"T","1af":"U","1b0":"u","1b1":"U","1b2":"U","1b3":"Y","1b4":"y","1b5":"Z","1b6":"z","1b7":"3","1b8":"3","1b9":"3","1ba":"3","1bb":"2","1bc":"5","1bd":"5","1be":"5","1bf":"p","1c4":"DZ","1c5":"Dz","1c6":"dz","1c7":"Lj","1c8":"Lj","1c9":"lj","1ca":"NJ","1cb":"Nj","1cc":"nj","1cd":"A","1ce":"a","1cf":"I","1d0":"i","1d1":"O","1d2":"o","1d3":"U","1d4":"u","1d5":"U","1d6":"u","1d7":"U","1d8":"u","1d9":"U","1da":"u","1db":"U","1dc":"u","1dd":"e","1de":"A","1df":"a","1e0":"A","1e1":"a","1e2":"AE","1e3":"ae","1e4":"G","1e5":"g","1e6":"G","1e7":"g","1e8":"K","1e9":"k","1ea":"Q","1eb":"q","1ec":"Q","1ed":"q","1ee":"3","1ef":"3","1f0":"J","1f1":"dz","1f2":"dZ","1f3":"DZ","1f4":"g","1f5":"G","1f6":"h","1f7":"p","1f8":"N","1f9":"n","1fa":"A","1fb":"a","1fc":"AE","1fd":"ae","1fe":"O","1ff":"o","20a":"I","20b":"i","20c":"O","20d":"o","20e":"O","20f":"o","21a":"T","21b":"t","21c":"3","21d":"3","21e":"H","21f":"h","22a":"O","22b":"o","22c":"O","22d":"o","22e":"O","22f":"o","23a":"A","23b":"C","23c":"c","23d":"L","23e":"T","23f":"s","24a":"Q","24b":"q","24c":"R","24d":"r","24e":"Y","24f":"y","25a":"e","25b":"3","25c":"3","25d":"3","25e":"3","25f":"j","26a":"i","26b":"I","26c":"I","26d":"I","26e":"h","26f":"w","27a":"R","27b":"r","27c":"R","27d":"R","27e":"r","27f":"r","28a":"u","28b":"v","28c":"A","28d":"M","28e":"Y","28f":"Y","29a":"B","29b":"G","29c":"H","29d":"j","29e":"K","29f":"L","2a0":"q","2a1":"?","2a2":"c","2a3":"dz","2a4":"d3","2a5":"dz","2a6":"ts","2a7":"tf","2a8":"tc","2a9":"fn","2aa":"ls","2ab":"lz","2ac":"ww","2ae":"u","2af":"u","2b0":"h","2b1":"h","2b2":"j","2b3":"r","2b4":"r","2b5":"r","2b6":"R","2b7":"W","2b8":"Y","2df":"x","2e0":"Y","2e1":"1","2e2":"s","2e3":"x","2e4":"c","36a":"h","36b":"m","36c":"r","36d":"t","36e":"v","36f":"x","37b":"c","37c":"c","37d":"c","38a":"I","38c":"O","38e":"Y","38f":"O","39a":"K","39b":"A","39c":"M","39d":"N","39e":"E","39f":"O","3a0":"TT","3a1":"P","3a3":"E","3a4":"T","3a5":"Y","3a6":"O","3a7":"X","3a8":"Y","3a9":"O","3aa":"I","3ab":"Y","3ac":"a","3ad":"e","3ae":"n","3af":"i","3b0":"v","3b1":"a","3b2":"b","3b3":"y","3b4":"d","3b5":"e","3b6":"c","3b7":"n","3b8":"0","3b9":"1","3ba":"k","3bb":"j","3bc":"u","3bd":"v","3be":"c","3bf":"o","3c0":"tt","3c1":"p","3c2":"s","3c3":"o","3c4":"t","3c5":"u","3c6":"q","3c7":"X","3c8":"Y","3c9":"w","3ca":"i","3cb":"u","3cc":"o","3cd":"u","3ce":"w","3d0":"b","3d1":"e","3d2":"Y","3d3":"Y","3d4":"Y","3d5":"O","3d6":"w","3d7":"x","3d8":"Q","3d9":"q","3da":"C","3db":"c","3dc":"F","3dd":"f","3de":"N","3df":"N","3e2":"W","3e3":"w","3e4":"q","3e5":"q","3e6":"h","3e7":"e","3e8":"S","3e9":"s","3ea":"X","3eb":"x","3ec":"6","3ed":"6","3ee":"t","3ef":"t","3f0":"x","3f1":"e","3f2":"c","3f3":"j","3f4":"O","3f5":"E","3f6":"E","3f7":"p","3f8":"p","3f9":"C","3fa":"M","3fb":"M","3fc":"p","3fd":"C","3fe":"C","3ff":"C","40a":"Hb","40b":"Th","40c":"K","40d":"N","40e":"Y","40f":"U","41a":"K","41b":"L","41c":"M","41d":"N","41e":"O","41f":"P","42a":"","42b":"Y","42c":"","42d":"E","42e":"U","42f":"YA","43a":"k","43b":"l","43c":"m","43d":"n","43e":"o","43f":"p","44a":"","44b":"y","44c":"","44d":"e","44e":"u","44f":"ya","45a":"Hb","45b":"h","45c":"k","45d":"n","45e":"y","45f":"u","46a":"mY","46b":"my","46c":"Im","46d":"Im","46e":"3","46f":"3","47a":"O","47b":"o","47c":"W","47d":"w","47e":"W","47f":"W","48a":"H","48b":"H","48c":"B","48d":"b","48e":"P","48f":"p","49a":"K","49b":"k","49c":"K","49d":"k","49e":"K","49f":"k","4a0":"K","4a1":"k","4a2":"H","4a3":"h","4a4":"H","4a5":"h","4a6":"Ih","4a7":"ih","4a8":"O","4a9":"o","4aa":"C","4ab":"c","4ac":"T","4ad":"t","4ae":"Y","4af":"y","4b0":"Y","4b1":"y","4b2":"X","4b3":"x","4b4":"TI","4b5":"ti","4b6":"H","4b7":"h","4b8":"H","4b9":"h","4ba":"H","4bb":"h","4bc":"E","4bd":"e","4be":"E","4bf":"e","4c0":"I","4c1":"X","4c2":"x","4c3":"K","4c4":"k","4c5":"jt","4c6":"jt","4c7":"H","4c8":"h","4c9":"H","4ca":"h","4cb":"H","4cc":"h","4cd":"M","4ce":"m","4cf":"l","4d0":"A","4d1":"a","4d2":"A","4d3":"a","4d4":"AE","4d5":"ae","4d6":"E","4d7":"e","4d8":"e","4d9":"e","4da":"E","4db":"e","4dc":"X","4dd":"X","4de":"3","4df":"3","4e0":"3","4e1":"3","4e2":"N","4e3":"n","4e4":"N","4e5":"n","4e6":"O","4e7":"o","4e8":"O","4e9":"o","4ea":"O","4eb":"o","4ec":"E","4ed":"e","4ee":"Y","4ef":"y","4f0":"Y","4f1":"y","4f2":"Y","4f3":"y","4f4":"H","4f5":"h","4f6":"R","4f7":"r","4f8":"bI","4f9":"bi","4fa":"F","4fb":"f","4fc":"X","4fd":"x","4fe":"X","4ff":"x","50a":"H","50b":"h","50c":"G","50d":"g","50e":"T","50f":"t","51a":"Q","51b":"q","51c":"W","51d":"w","53a":"d","53b":"r","53c":"L","53d":"Iu","53e":"O","53f":"y","54a":"m","54b":"o","54c":"N","54d":"U","54e":"Y","54f":"S","56a":"d","56b":"h","56c":"l","56d":"lu","56e":"d","56f":"y","57a":"w","57b":"2","57c":"n","57d":"u","57e":"y","57f":"un"},t="",o=0;o<e.length;o++)t+=a[e.charCodeAt(o).toString(16)]||"";return t.toLowerCase().replace(/-+/g,"-").replace(/^-|-$/g,"")},initAds:function(){var e=$("#adbar .loader"),a=$("#adbar .promo");e.length&&$(document).ready(function(){setTimeout(function(){e.fadeOut(500,function(){a.removeClass("hidden").fadeIn(500)})},200)})}},search:{vars:{searchEverywhere:""},path:{main:'.search-root input[name="find"]'},init:function(e){var a=e||$(this.path.main),t=this;if(a.length){var o=a.parent("form");o.submit(function(e){e.preventDefault();var o=a.eq(1).length?a.eq(1):a,n=o.val().trim();return!(t.vars.searchEverywhere==n||!n.length)&&(t.vars.searchEverywhere=n,n.length<3?Global.msg.no(Language.msg.min3,!0):void $.pjax.submit(e,Global.routing.container))})}this.bindRadio()},bindRadio:function(e){e=e||"#input-radio-search";var a=$(e);if(a.length){var t=$('meta[name="_token"]').attr("content");if(!t)return Global.msg.no(Language.msg.errorToken,!0);a.typeahead({minLength:2,maxItem:10,cache:!0,order:"asc",hint:!0,backdrop:{"background-color":"rgba(0, 0, 0, 0.5)"},source:{url:{type:"POST",url:"/search/list",headers:{"X-CSRF-TOKEN":t}}},callback:{onSubmit:function(e,a,t,o){if(o.preventDefault(),t&&t.display)Global.overlay.show(),Global.ajax({name:t.display},"/search/getByName",function(e){e.url&&(window.location=e.url)});else if(t){o.preventDefault();var n=$.trim(e.val());if(n.length<3)return Global.msg.no(Language.msg.min3,!0);$.pjax.submit(o,Global.routing.container)}},onClick:function(e,a,t,o){t&&t.display?(Global.overlay.show(),Global.ajax({name:t.display},"/search/getByName",function(e){e.url&&(window.location=e.url)})):(Global.msg.no(Language.style.searchSelect,!0,5e3),Global.overlay.hide())}}})}}},routing:{handle:!1,currentUrl:"",container:"#main-content",init:function(){this.pjaxRun()},pjaxRun:function(){var e=this;"undefined"!=typeof $.pjax&&"undefined"!=typeof $.pjax.defaults&&($.pjax.defaults.timeout=1950),$(document).pjax("[data-pjax] a, a[data-pjax]",e.container).on("pjax:beforeSend",function(e,a,t){function o(e){var a=document.createElement("a");return a.href=e,a}OnairPage.prototype.closePage();var n=o(t.url),i=n.search.substr(0,n.search.indexOf("&"))==window.location.search,r=t.url.indexOf(window.location.pathname+"?")>-1;if(i&&r)return a.abort()}).on("pjax:start",function(){Global.overlay.show(!0,!1,!0)}).on("pjax:complete",function(){window.location.pathname+window.location.search!=this.currentUrl&&(this.currentUrl=window.location.pathname+window.location.search,e.run())}).on("pjax:end",function(){Global.overlay.hide()})},run:function(){window.location.pathname+window.location.search!=this.currentUrl&&(this.currentUrl=window.location.pathname+window.location.search,this.handle?this.handle.run():(this.handle=new LightRouter({type:"path",routes:{"":function(){Sidebar.style.expand.open(!0);var e=new RadioClass;e.bind.another(".url-similar",5),$("http://the-radio.ru/min/img.lazy").lazyload({effect:"fadeIn"}),Global.countAnimate(".picked .count .num"),Global.runEverywhere()},my:function(){var e=new FavoritesPage;e.init(),Global.runEverywhere()},"my/settings":function(){$("#form-settings").submit(function(e){e.preventDefault(),Global.overlay.show(),Global.post("#form-settings")}),Global.runEverywhere()},"my/history":function(){UserPage.prototype.history.init(),Global.runEverywhere()},"songs(.*)":function(){"undefined"!=typeof SongsPickup&&SongsPickup.prototype.init(),Global.runEverywhere()},"promo(.*)":function(){"undefined"!=typeof AppPayRadio&&AppPayRadio.prototype.init(),Global.runEverywhere()},"local(.*)":function(){"undefined"!=typeof LocalRadioFreq&&LocalRadioFreq.prototype.init(),Global.runEverywhere()},"search(.*)":function(){setTimeout(function(){Global.runEverywhere()},1e3)},"tag/(.*)":function(){$(".radio-list img.lazy").lazyload({effect:"fadeIn"}),Global.runEverywhere()},genre:function(){Global.runEverywhere()},"genre/(.*)":function(){var e=new GenrePage;e.init()},help:function(){var e=new HelpPage;e.init(),Global.runEverywhere()},"help/(.*)":function(){var e=new HelpPage;e.init(),Global.runEverywhere()},onair:function(){var e=new SongsClass;e.init(),e.video.bind(),OnairPage.prototype.init(Global.common.getPageInfo("time")),Global.runEverywhere()},playlist:function(){var e=new TracklistPage;e.init(),Global.runEverywhere()},"playlist/genre/(.*)":function(){var e=new TracklistPage;e.init(),Global.runEverywhere()},"playlist/(.*)":function(){TracklistPage.prototype.inside.init(),Global.runEverywhere()},"artist/(.*)":function(){var e=new ArtistPage,a=new RadioClass,t=new SongsClass,o=Global.common.getPageInfo("name");e.init(),setTimeout(function(){e.load(o)},500),a.bind.another(),t.track.bind(e.path.trackList+" li",!0),Global.runEverywhere()},"radio/(.*)":function(){if("undefined"==typeof CURRENT_RADIO_DATA)return!1;var e=new PlayerUI,a=new OnlinePage,t="undefined"!=typeof CURRENT_USER_DATA?CURRENT_USER_DATA:null;e.init(),a.init(),a.load(CURRENT_RADIO_DATA,t),e.toolbar.show(),Global.runEverywhere()},contact:function(){$("#form-contact").submit(function(e){e.preventDefault(),e.stopPropagation();var a=$('#form-contact input[type="submit"]');a.addClass("disabled").attr("disabled");var t=$("#form-contact").serializeArray();Global.overlay.show(),Global.ajax(t,"/contact",function(e){$("#form-contact")[0].reset(),a.removeClass("disabled").removeAttr("disabled")},function(){a.removeClass("disabled").removeAttr("disabled")})}),Global.runEverywhere()},login:function(){var e=new UserPage;e.init()},promo:function(){Global.runEverywhere()},"browser-extension":function(){Global.runEverywhere()}}}),this.handle.run()))}},runEverywhere:function(){return Global.vars.url!=document.URL&&(Global.vars.url=document.URL,$("body").on("contextmenu","img",function(){return!1}),Global.tips.init(),Sidebar.style.init(),Global.search.init(),Global.routing.init(),Global.inits.hideNofollowLinks(),$("#random-radio").click(function(e){e.preventDefault(),Global.overlay.show(),$(this).attr("href","#").animate({left:"-30px",opacity:0},700,function(){Global.ajax({id:0},"/genre/want",function(e){PlayerUI&&PlayerUI.prototype.cast.stop(),e.url&&(window.location=e.url)})})}),Global.common.initAds(),void $(document).trigger("tr:ready"))},inits:{handle:{header:null},stickHeader:function(){var e="header#head",a={offset:700,offsetSide:"top",throttle:50,onStick:function(){var e=$(".headhesive .social .searchform");e.hasClass("right")&&e.removeClass("right")}};this.handle.header=new Headhesive(e,a),Global.search.init($('header.headhesive .search-root input[name="find"]'))},hideNofollowLinks:function(e){e=e||".nofollow-area",$(e+" a[data-link]").click(function(){var e=$(this).attr("data-link"),a=e.indexOf("http")>-1?e:"https://"+e;$(this).attr("href",a)})},bindRippleEffect:function(e,a){e=e||"[data-ripple]",a=a||"rgba(0,0,0,0.05)",$(e).rippleria({duration:700,easing:"linear",color:a,detectBrightness:!1})}}};$(function(){var e=$("body");window.screen.width>1900&&e.css("background-size","cover"),Global.mobile.isTv()&&$(".black-player .links .heart").hide(),$(".footer .block3 .gotop").click(function(){return $("body,html").animate({scrollTop:0},1800),!1}),Global.inits.stickHeader(),Global.runEverywhere(),Global.routing.run()});
function ChromeExtension(){}$(document).on("tr:ready",function(){var n=ChromeExtension.prototype;setTimeout(function(){n.needed()&&n.inject()},3e3)}),ChromeExtension.prototype={el:".top-notification",cook:"chrome-ext-notification",type:{chrome:!1,firefox:!1},needed:function(){this.type.firefox="undefined"!=typeof InstallTrigger,this.type.chrome=navigator.userAgent.toLowerCase().indexOf("chrome")>=0;var n="undefined"==typeof Cookies.get(this.cook),t=$("#chrome-ext-the-radio-ru").length>0;if(!this.type.chrome&&!this.type.firefox)return!1;if(!n||t)return!1;var o=$(this.el).length>0;return!o},inject:function(){var n=this,t="#";this.type.firefox?t="https://addons.mozilla.org/ru/firefox/addon/radio4you/":this.type.chrome&&(t="https://chrome.google.com/webstore/detail/kcpckemkiodjidnhbldgoeghmlcdddkk"),this.installTemplate(t,this.type.firefox);var o=$(this.el).first();if(o.length){o.addClass("animated").addClass("fadeInDown").show();var i=o.find(".install"),e=o.find(".close");i.on("click",function(t){"undefined"!=typeof chrome&&"undefined"!=typeof chrome.webstore?(t.preventDefault(),n.hide(),chrome.webstore.install()):(n.hide(),$(this).attr("target","_blank"))}),e.on("click",function(t){t.preventDefault(),n.closeBtn()})}},closeBtn:function(){this.hide()},hide:function(){var n=$(this.el).first();n.addClass("fadeOutUp"),setTimeout(function(){n.remove(),$("#top-notification").remove()},1500),Cookies.set(this.cook,1,{expires:60})},installTemplate:function(n,t){n=n||"#",$("<style id='top-notification'>"+this.__css+"</style>\r\n"+this.__tpl).prependTo("body"),setTimeout(function(){var o=$(".top-notification a.install");o.attr("href",n),t&&o.attr("target","_blank")},300)},__css:".top-notification {\n    display: block;\n    position: fixed;\n    width: 100%;\n    color: #fff;\n    font-size: 1rem;\n    z-index: 9999;\n    height: 46px;\n    letter-spacing: -0.6px;\n}\n\n.top-notification .no-gutter {\n    background-color: #ff8000;\n    padding: 5px;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    max-width: 1260px;\n}\n\n.top-notification a {\n    color: #fff;\n    -webkit-transition: all .3s;\n    -moz-transition: all .3s;\n    transition: all .3s;\n}\n\n.top-notification a:hover {\n    color: #f2f2f2;\n}\n\n.top-notification a.yellow {\n    text-decoration: underline !important;\n}\n\n\n.top-notification p {\n    padding: 4px 0 0 0;\n    margin: 0;\n    font-family: 'Open Sans', Roboto, Helvetica Neue, Tahoma, Arial, Verdana;\n    font-size: 1rem;\n}\n\n.top-notification .install {\n    display: inline-block;\n    padding: 5px 15px;\n    background-color: rgba(0, 0, 0, 0.10);\n    border-radius: 5px;\n    width: 80%;\n    text-align: center;\n}\n\n.top-notification .install:hover {\n    background-color: rgba(0, 0, 0, 0.20);\n    color: #ffffff;\n}\n\n.top-notification .install:active {\n    background-color: rgba(0, 0, 0, 0.40);\n}\n\n.top-notification .close {\n    display: inline-block;\n    color: #ffffff;\n    padding-top: 5px;\n}",__tpl:'<div class="top-notification">\n    <div class="row no-gutter">\n        <div class="large-10 medium-8 columns">\n            <p>Доступно <a href=\'browser-extension.htm\'/*tpa=http://the-radio.ru/browser-extension*/ target=\'_blank\' class=\'yellow\'>расширение для вашего браузера</a>. <span class=\'hidden-for-medium-down\'>Установите расширение, чтобы слушать радио прямо в вашем браузере</span></p>\n        </div>\n\n        <div class="large-2 medium-4 columns">\n            <a href="https://chrome.google.com/webstore/detail/kcpckemkiodjidnhbldgoeghmlcdddkk" class="install">Установить</a>\n            <a class="close right">X</a>\n        </div>\n\n    </div>\n</div>'};